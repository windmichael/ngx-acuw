var Tre=Object.defineProperty,pL=Object.getOwnPropertySymbols,Dre=Object.prototype.hasOwnProperty,Are=Object.prototype.propertyIsEnumerable,mL=Math.pow,gL=(sn,Cn,Me)=>Cn in sn?Tre(sn,Cn,{enumerable:!0,configurable:!0,writable:!0,value:Me}):sn[Cn]=Me,_L=(sn,Cn)=>{for(var Me in Cn||(Cn={}))Dre.call(Cn,Me)&&gL(sn,Me,Cn[Me]);if(pL)for(var Me of pL(Cn))Are.call(Cn,Me)&&gL(sn,Me,Cn[Me]);return sn};(self.webpackChunkng_acuw_showcase=self.webpackChunkng_acuw_showcase||[]).push([[179],{186:(sn,Cn,Me)=>{"use strict";function Pt(i){return"function"==typeof i}let gn=!1;const _n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(i){if(i){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else gn&&console.log("RxJS: Back to a better error behavior. Thank you. <3");gn=i},get useDeprecatedSynchronousErrorHandling(){return gn}};function Fn(i){setTimeout(()=>{throw i},0)}const We={closed:!0,next(i){},error(i){if(_n.useDeprecatedSynchronousErrorHandling)throw i;Fn(i)},complete(){}},Ln=Array.isArray||(i=>i&&"number"==typeof i.length);function Xs(i){return null!==i&&"object"==typeof i}const gs=(()=>{function i(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,n)=>`${n+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return i.prototype=Object.create(Error.prototype),i})();class nt{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof nt)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(Pt(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof gs?Ea(o.errors):[o]}}if(Ln(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(Xs(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof gs?e=e.concat(Ea(c.errors)):e.push(c)}}}if(e)throw new gs(e)}add(e){let t=e;if(!e)return nt.EMPTY;switch(typeof e){case"function":t=new nt(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof nt)){const s=t;t=new nt,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof nt){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var i;function Ea(i){return i.reduce((e,t)=>e.concat(t instanceof gs?t.errors:t),[])}nt.EMPTY=((i=new nt).closed=!0,i);const Zs="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class at extends nt{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=We;break;case 1:if(!e){this.destination=We;break}if("object"==typeof e){e instanceof at?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new fi(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new fi(this,e,t,n)}}[Zs](){return this}static create(e,t,n){const r=new at(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class fi extends at{constructor(e,t,n,r){super(),this._parentSubscriber=e;let s,o=this;Pt(t)?s=t:t&&(s=t.next,n=t.error,r=t.complete,t!==We&&(o=Object.create(t),Pt(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;_n.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=_n;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Fn(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Fn(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);_n.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),_n.useDeprecatedSynchronousErrorHandling)throw n;Fn(n)}}__tryOrSetError(e,t,n){if(!_n.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return _n.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Fn(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const _e="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ce(i){return i}let He=(()=>{class i{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,r){const{operator:s}=this,o=function(i,e,t){if(i){if(i instanceof at)return i;if(i[Zs])return i[Zs]()}return i||e||t?new at(i,e,t):new at(We)}(t,n,r);if(o.add(s?s.call(o,this.source):this.source||_n.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),_n.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){_n.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),function(i){for(;i;){const{closed:e,destination:t,isStopped:n}=i;if(e||n)return!1;i=t&&t instanceof at?t:null}return!0}(t)?t.error(n):console.warn(n)}}forEach(t,n){return new(n=lt(n))((r,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:n}=this;return n&&n.subscribe(t)}[_e](){return this}pipe(...t){return 0===t.length?this:function(i){return 0===i.length?Ce:1===i.length?i[0]:function(t){return i.reduce((n,r)=>r(n),t)}}(t)(this)}toPromise(t){return new(t=lt(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return i.create=e=>new i(e),i})();function lt(i){if(i||(i=_n.Promise||Promise),!i)throw new Error("no Promise impl found");return i}const Tn=(()=>{function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return i.prototype=Object.create(Error.prototype),i})();class _s extends nt{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class ju extends at{constructor(e){super(e),this.destination=e}}let Ke=(()=>{class i extends He{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Zs](){return new ju(this)}lift(t){const n=new gf(this,this);return n.operator=t,n}next(t){if(this.closed)throw new Tn;if(!this.isStopped){const{observers:n}=this,r=n.length,s=n.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new Tn;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:n}=this,r=n.length,s=n.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Tn;this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Tn;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Tn;return this.hasError?(t.error(this.thrownError),nt.EMPTY):this.isStopped?(t.complete(),nt.EMPTY):(this.observers.push(t),new _s(this,t))}asObservable(){const t=new He;return t.source=this,t}}return i.create=(e,t)=>new gf(e,t),i})();class gf extends Ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):nt.EMPTY}}function Oo(i){return i&&"function"==typeof i.schedule}function ft(i,e){return function(n){if("function"!=typeof i)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new pi(i,e))}}class pi{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new xr(e,this.project,this.thisArg))}}class xr extends at{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Ks=i=>e=>{for(let t=0,n=i.length;t<n&&!e.closed;t++)e.next(i[t]);e.complete()},ys="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Ta=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Il(i){return!!i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}const Rl=i=>{if(i&&"function"==typeof i[_e])return(i=>e=>{const t=i[_e]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(i);if(Ta(i))return Ks(i);if(Il(i))return(i=>e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Fn),e))(i);if(i&&"function"==typeof i[ys])return(i=>e=>{const t=i[ys]();for(;;){let n;try{n=t.next()}catch(r){return e.error(r),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(i);{const t=`You provided ${Xs(i)?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function qu(i,e){return new He(t=>{const n=new nt;let r=0;return n.add(e.schedule(function(){r!==i.length?(t.next(i[r++]),t.closed||n.add(this.schedule())):t.complete()})),n})}function Pi(i,e){return e?function(i,e){if(null!=i){if(function(i){return i&&"function"==typeof i[_e]}(i))return function(i,e){return new He(t=>{const n=new nt;return n.add(e.schedule(()=>{const r=i[_e]();n.add(r.subscribe({next(s){n.add(e.schedule(()=>t.next(s)))},error(s){n.add(e.schedule(()=>t.error(s)))},complete(){n.add(e.schedule(()=>t.complete()))}}))})),n})}(i,e);if(Il(i))return function(i,e){return new He(t=>{const n=new nt;return n.add(e.schedule(()=>i.then(r=>{n.add(e.schedule(()=>{t.next(r),n.add(e.schedule(()=>t.complete()))}))},r=>{n.add(e.schedule(()=>t.error(r)))}))),n})}(i,e);if(Ta(i))return qu(i,e);if(function(i){return i&&"function"==typeof i[ys]}(i)||"string"==typeof i)return function(i,e){if(!i)throw new Error("Iterable cannot be null");return new He(t=>{const n=new nt;let r;return n.add(()=>{r&&"function"==typeof r.return&&r.return()}),n.add(e.schedule(()=>{r=i[ys](),n.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=r.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),n})}(i,e)}throw new TypeError((null!==i&&typeof i||i)+" is not observable")}(i,e):i instanceof He?i:new He(Rl(i))}class kl extends at{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Fl extends at{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Ll(i,e){if(e.closed)return;if(i instanceof He)return i.subscribe(e);let t;try{t=Rl(i)(e)}catch(n){e.error(n)}return t}function xi(i,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(xi((r,s)=>Pi(i(r,s)).pipe(ft((o,a)=>e(r,o,s,a))),t)):("number"==typeof e&&(t=e),n=>n.lift(new xL(i,t)))}class xL{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new wL(e,this.project,this.concurrent))}}class wL extends Fl{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new kl(this),n=this.destination;n.add(t);const r=Ll(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Xu(i=Number.POSITIVE_INFINITY){return xi(Ce,i)}function _f(i,e){return e?qu(i,e):new He(Ks(i))}function vs(...i){let e=Number.POSITIVE_INFINITY,t=null,n=i[i.length-1];return Oo(n)?(t=i.pop(),i.length>1&&"number"==typeof i[i.length-1]&&(e=i.pop())):"number"==typeof n&&(e=i.pop()),null===t&&1===i.length&&i[0]instanceof He?i[0]:Xu(e)(_f(i,t))}function M_(){return function(e){return e.lift(new ML(e))}}class ML{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new CL(e,n),s=t.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class CL extends at{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}class Zw extends He{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new nt,e.add(this.source.subscribe(new SL(this.getSubject(),this))),e.closed&&(this._connection=null,e=nt.EMPTY)),e}refCount(){return M_()(this)}}const EL=(()=>{const i=Zw.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:i._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}}})();class SL extends ju{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function IL(){return new Ke}function Kw(){return i=>M_()(function(i,e){return function(n){let r;r="function"==typeof i?i:function(){return i};const s=Object.create(n,EL);return s.source=n,s.subjectFactory=r,s}}(IL)(i))}function pn(i){for(let e in i)if(i[e]===pn)return e;throw Error("Could not find renamed property on target object.")}function C_(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function $t(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map($t).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function E_(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const RL=pn({__forward_ref__:pn});function qt(i){return i.__forward_ref__=qt,i.toString=function(){return $t(this())},i}function Tt(i){return Qw(i)?i():i}function Qw(i){return"function"==typeof i&&i.hasOwnProperty(RL)&&i.__forward_ref__===qt}class nr extends Error{constructor(e,t){super(function(i,e){return`${i?`NG0${i}: `:""}${e}`}(e,t)),this.code=e}}function mt(i){return"string"==typeof i?i:null==i?"":String(i)}function Ui(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():mt(i)}function yf(i,e){const t=e?` in ${e}`:"";throw new nr("201",`No provider for ${Ui(i)} found${t}`)}function rr(i,e){null==i&&function(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}(e,i,null,"!=")}function Fe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function gt(i){return{providers:i.providers||[],imports:i.imports||[]}}function T_(i){return Jw(i,vf)||Jw(i,tM)}function Jw(i,e){return i.hasOwnProperty(e)?i[e]:null}function eM(i){return i&&(i.hasOwnProperty(D_)||i.hasOwnProperty(BL))?i[D_]:null}const vf=pn({\u0275prov:pn}),D_=pn({\u0275inj:pn}),tM=pn({ngInjectableDef:pn}),BL=pn({ngInjectorDef:pn});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let A_;function No(i){const e=A_;return A_=i,e}function nM(i,e,t){const n=T_(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&Mt.Optional?null:void 0!==e?e:void yf($t(i),"Injector")}function Bo(i){return{toString:i}.toString()}var qr=(()=>((qr=qr||{})[qr.OnPush=0]="OnPush",qr[qr.Default=1]="Default",qr))(),Yr=(()=>(function(i){i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom"}(Yr||(Yr={})),Yr))();const HL="undefined"!=typeof globalThis&&globalThis,zL="undefined"!=typeof window&&window,UL="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dn=HL||"undefined"!=typeof global&&global||zL||UL,Ol={},mn=[],bf=pn({\u0275cmp:pn}),I_=pn({\u0275dir:pn}),R_=pn({\u0275pipe:pn}),iM=pn({\u0275mod:pn}),eo=pn({\u0275fac:pn}),Zu=pn({__NG_ELEMENT_ID__:pn});let GL=0;function kt(i){return Bo(()=>{const t={},n={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===qr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||mn,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Yr.Emulated,id:"c",styles:i.styles||mn,_:null,setInput:null,schemas:i.schemas||null,tView:null},r=i.directives,s=i.features,o=i.pipes;return n.id+=GL++,n.inputs=aM(i.inputs,t),n.outputs=aM(i.outputs),s&&s.forEach(a=>a(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(rM):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(sM):null,n})}function rM(i){return ki(i)||function(i){return i[I_]||null}(i)}function sM(i){return function(i){return i[R_]||null}(i)}const oM={};function Ct(i){return Bo(()=>{const e={type:i.type,bootstrap:i.bootstrap||mn,declarations:i.declarations||mn,imports:i.imports||mn,exports:i.exports||mn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(oM[i.id]=i.type),e})}function aM(i,e){if(null==i)return Ol;const t={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=n,e&&(e[r]=s)}return t}const Te=kt;function Qi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function ki(i){return i[bf]||null}function Mr(i,e){const t=i[iM]||null;if(!t&&!0===e)throw new Error(`Type ${$t(i)} does not have '\u0275mod' property.`);return t}function bs(i){return Array.isArray(i)&&"object"==typeof i[1]}function Zr(i){return Array.isArray(i)&&!0===i[1]}function F_(i){return 0!=(8&i.flags)}function Cf(i){return 2==(2&i.flags)}function Ef(i){return 1==(1&i.flags)}function Kr(i){return null!==i.template}function XL(i){return 0!=(512&i[2])}function Pa(i,e){return i.hasOwnProperty(eo)?i[eo]:null}class QL{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ii(){return cM}function cM(i){return i.type.prototype.ngOnChanges&&(i.setInput=eO),JL}function JL(){const i=dM(this),e=null==i?void 0:i.current;if(e){const t=i.previous;if(t===Ol)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function eO(i,e,t,n){const r=dM(i)||function(i,e){return i[uM]=e}(i,{previous:Ol,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new QL(l&&l.currentValue,e,o===Ol),i[n]=e}ii.ngInherit=!0;const uM="__ngSimpleChanges__";function dM(i){return i[uM]||null}const hM="http://www.w3.org/2000/svg";let N_;function On(i){return!!i.listen}const pM={createRenderer:(i,e)=>void 0!==N_?N_:"undefined"!=typeof document?document:void 0};function Zn(i){for(;Array.isArray(i);)i=i[0];return i}function Sf(i,e){return Zn(e[i])}function Sr(i,e){return Zn(e[i.index])}function V_(i,e){return i.data[e]}function zl(i,e){return i[e]}function or(i,e){const t=e[i];return bs(t)?t:t[0]}function mM(i){return 4==(4&i[2])}function H_(i){return 128==(128&i[2])}function Ho(i,e){return null==e?null:i[e]}function gM(i){i[18]=0}function z_(i,e){i[5]+=e;let t=i,n=i[3];for(;null!==n&&(1===e&&1===t[5]||-1===e&&0===t[5]);)n[5]+=e,t=n,n=n[3]}const ut={lFrame:CM(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _M(){return ut.bindingsEnabled}function ne(){return ut.lFrame.lView}function Yt(){return ut.lFrame.tView}function Ye(i){return ut.lFrame.contextLView=i,i[8]}function ri(){let i=yM();for(;null!==i&&64===i.type;)i=i.parent;return i}function yM(){return ut.lFrame.currentTNode}function xs(i,e){const t=ut.lFrame;t.currentTNode=i,t.isParent=e}function U_(){return ut.lFrame.isParent}function G_(){ut.lFrame.isParent=!1}function Tf(){return ut.isInCheckNoChangesMode}function Df(i){ut.isInCheckNoChangesMode=i}function Gi(){const i=ut.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function Ul(){return ut.lFrame.bindingIndex++}function no(i){const e=ut.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function mO(i,e){const t=ut.lFrame;t.bindingIndex=t.bindingRootIndex=i,W_(e)}function W_(i){ut.lFrame.currentDirectiveIndex=i}function j_(i){const e=ut.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function xM(){return ut.lFrame.currentQueryIndex}function $_(i){ut.lFrame.currentQueryIndex=i}function _O(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function wM(i,e,t){if(t&Mt.SkipSelf){let r=e,s=i;for(;!(r=r.parent,null!==r||t&Mt.Host||(r=_O(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,i=s}const n=ut.lFrame=MM();return n.currentTNode=e,n.lView=i,!0}function Af(i){const e=MM(),t=i[1];ut.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function MM(){const i=ut.lFrame,e=null===i?null:i.child;return null===e?CM(i):e}function CM(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function EM(){const i=ut.lFrame;return ut.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const SM=EM;function If(){const i=EM();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wi(){return ut.lFrame.selectedIndex}function zo(i){ut.lFrame.selectedIndex=i}function Nn(){const i=ut.lFrame;return V_(i.tView,i.selectedIndex)}function Rf(){ut.lFrame.currentNamespace=hM}function Pf(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){const s=i.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(i.contentHooks||(i.contentHooks=[])).push(-t,o),a&&((i.contentHooks||(i.contentHooks=[])).push(t,a),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,a)),l&&(i.viewHooks||(i.viewHooks=[])).push(-t,l),c&&((i.viewHooks||(i.viewHooks=[])).push(t,c),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,c)),null!=u&&(i.destroyHooks||(i.destroyHooks=[])).push(t,u)}}function kf(i,e,t){DM(i,e,3,t)}function Ff(i,e,t,n){(3&i[2])===t&&DM(i,e,t,n)}function q_(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function DM(i,e,t,n){const s=null!=n?n:-1,o=e.length-1;let a=0;for(let l=void 0!==n?65535&i[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=n&&a>=n)break}else e[l]<0&&(i[18]+=65536),(a<s||-1==s)&&(CO(i,t,e,l),i[18]=(4294901760&i[18])+l+2),l++}function CO(i,e,t,n){const r=t[n]<0,s=t[n+1],a=i[r?-t[n]:t[n]];if(r){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class td{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Lf(i,e,t){const n=On(i);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];n?i.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];X_(o)?n&&i.setProperty(e,o,a):n?i.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function AM(i){return 3===i||4===i||6===i}function X_(i){return 64===i.charCodeAt(0)}function Of(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r?t=r:0===t||IM(i,t,r,null,-1===t||2===t?e[++n]:null)}}return i}function IM(i,e,t,n,r){let s=0,o=i.length;if(-1===e)o=-1;else for(;s<i.length;){const a=i[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<i.length;){const a=i[s];if("number"==typeof a)break;if(a===t){if(null===n)return void(null!==r&&(i[s+1]=r));if(n===i[s+1])return void(i[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(i.splice(o,0,e),s=o+1),i.splice(s++,0,t),null!==n&&i.splice(s++,0,n),null!==r&&i.splice(s++,0,r)}function RM(i){return-1!==i}function Gl(i){return 32767&i}function Wl(i,e){let t=function(i){return i>>16}(i),n=e;for(;t>0;)n=n[15],t--;return n}let Z_=!0;function Nf(i){const e=Z_;return Z_=i,e}let IO=0;function id(i,e){const t=Q_(i,e);if(-1!==t)return t;const n=e[1];n.firstCreatePass&&(i.injectorIndex=e.length,K_(n.data,i),K_(e,null),K_(n.blueprint,null));const r=Bf(i,e),s=i.injectorIndex;if(RM(r)){const o=Gl(r),a=Wl(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function K_(i,e){i.push(0,0,0,0,0,0,0,0,e)}function Q_(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function Bf(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,n=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(n=2===o?s.declTNode:1===o?r[6]:null,null===n)return-1;if(t++,r=r[15],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return-1}function Vf(i,e,t){!function(i,e,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(Zu)&&(n=t[Zu]),null==n&&(n=t[Zu]=IO++);const r=255&n;e.data[i+(r>>5)]|=1<<r}(i,e,t)}function FM(i,e,t){if(t&Mt.Optional)return i;yf(e,"NodeInjector")}function LM(i,e,t,n){if(t&Mt.Optional&&void 0===n&&(n=null),0==(t&(Mt.Self|Mt.Host))){const r=i[9],s=No(void 0);try{return r?r.get(e,n,t&Mt.Optional):nM(e,n,t&Mt.Optional)}finally{No(s)}}return FM(n,e,t)}function OM(i,e,t,n=Mt.Default,r){if(null!==i){const s=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(Zu)?i[Zu]:void 0;return"number"==typeof e?e>=0?255&e:kO:e}(t);if("function"==typeof s){if(!wM(e,i,n))return n&Mt.Host?FM(r,t,n):LM(e,t,n,r);try{const o=s(n);if(null!=o||n&Mt.Optional)return o;yf(t)}finally{SM()}}else if("number"==typeof s){let o=null,a=Q_(i,e),l=-1,c=n&Mt.Host?e[16][6]:null;for((-1===a||n&Mt.SkipSelf)&&(l=-1===a?Bf(i,e):e[a+8],-1!==l&&VM(n,!1)?(o=e[1],a=Gl(l),e=Wl(l,e)):a=-1);-1!==a;){const u=e[1];if(BM(s,a,u.data)){const d=FO(a,e,t,o,n,c);if(d!==NM)return d}l=e[a+8],-1!==l&&VM(n,e[1].data[a+8]===c)&&BM(s,a,e)?(o=u,a=Gl(l),e=Wl(l,e)):a=-1}}}return LM(e,t,n,r)}const NM={};function kO(){return new jl(ri(),ne())}function FO(i,e,t,n,r,s){const o=e[1],a=o.data[i+8],u=Hf(a,o,t,null==n?Cf(a)&&Z_:n!=o&&0!=(3&a.type),r&Mt.Host&&s===a);return null!==u?rd(e,o,u,a):NM}function Hf(i,e,t,n,r){const s=i.providerIndexes,o=e.data,a=1048575&s,l=i.directiveStart,u=s>>20,h=r?a+u:i.directiveEnd;for(let f=n?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&Kr(f)&&f.type===t)return l}return null}function rd(i,e,t,n){let r=i[t];const s=e.data;if(function(i){return i instanceof td}(r)){const o=r;o.resolving&&function(i,e){throw new nr("200",`Circular dependency in DI detected for ${i}`)}(Ui(s[t]));const a=Nf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?No(o.injectImpl):null;wM(i,n,Mt.Default);try{r=i[t]=o.factory(void 0,s,i,n),e.firstCreatePass&&t>=n.directiveStart&&function(i,e,t){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){const o=cM(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,s))}(t,s[t],e)}finally{null!==l&&No(l),Nf(a),o.resolving=!1,SM()}}return r}function BM(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function VM(i,e){return!(i&Mt.Self||i&Mt.Host&&e)}class jl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return OM(this._tNode,this._lView,e,n,t)}}function wi(i){return Bo(()=>{const e=i.prototype.constructor,t=e[eo]||J_(e),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const s=r[eo]||J_(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function J_(i){return Qw(i)?()=>{const e=J_(Tt(i));return e&&e()}:Pa(i)}function ws(i){return function(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const n=t.length;let r=0;for(;r<n;){const s=t[r];if(AM(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(ri(),i)}const ql="__parameters__";function Xl(i,e,t){return Bo(()=>{const n=function(i){return function(...t){if(i){const n=i(...t);for(const r in n)this[r]=n[r]}}}(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ql)?l[ql]:Object.defineProperty(l,ql,{value:[]})[ql];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}class we{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const NO=new we("AnalyzeForEntryComponents");function Tr(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let n=i[t];Array.isArray(n)?(e===i&&(e=i.slice(0,t)),Tr(n,e)):e!==i&&e.push(n)}return e}function Ms(i,e){i.forEach(t=>Array.isArray(t)?Ms(t,e):e(t))}function zM(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function zf(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function ad(i,e){const t=[];for(let n=0;n<i;n++)t.push(e);return t}function ar(i,e,t){let n=Zl(i,e);return n>=0?i[1|n]=t:(n=~n,function(i,e,t,n){let r=i.length;if(r==e)i.push(t,n);else if(1===r)i.push(n,i[0]),i[0]=t;else{for(r--,i.push(i[r-1],i[r]);r>e;)i[r]=i[r-2],r--;i[e]=t,i[e+1]=n}}(i,n,e,t)),n}function ny(i,e){const t=Zl(i,e);if(t>=0)return i[1|t]}function Zl(i,e){return function(i,e,t){let n=0,r=i.length>>t;for(;r!==n;){const s=n+(r-n>>1),o=i[s<<t];if(e===o)return s<<t;o>e?r=s:n=s+1}return~(r<<t)}(i,e,1)}const ld={},ry="__NG_DI_FLAG__",Gf="ngTempTokenPath",qO=/\n/gm,$M="__source",XO=pn({provide:String,useValue:pn});let cd;function qM(i){const e=cd;return cd=i,e}function ZO(i,e=Mt.Default){if(void 0===cd)throw new Error("inject() must be called from an injection context");return null===cd?nM(i,void 0,e):cd.get(i,e&Mt.Optional?null:void 0,e)}function X(i,e=Mt.Default){return(A_||ZO)(Tt(i),e)}const sy=X;function oy(i){const e=[];for(let t=0;t<i.length;t++){const n=Tt(i[t]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let r,s=Mt.Default;for(let o=0;o<n.length;o++){const a=n[o],l=KO(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(X(r,s))}else e.push(X(n))}return e}function ud(i,e){return i[ry]=e,i.prototype[ry]=e,i}function KO(i){return i[ry]}const dd=ud(Xl("Inject",i=>({token:i})),-1),lr=ud(Xl("Optional"),8),ka=ud(Xl("SkipSelf"),4);let jf;function Ql(i){var e;return(null===(e=function(){if(void 0===jf&&(jf=null,dn.trustedTypes))try{jf=dn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return jf}())||void 0===e?void 0:e.createHTML(i))||i}class Fa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class uN extends Fa{getTypeName(){return"HTML"}}class dN extends Fa{getTypeName(){return"Style"}}class hN extends Fa{getTypeName(){return"Script"}}class fN extends Fa{getTypeName(){return"URL"}}class pN extends Fa{getTypeName(){return"ResourceURL"}}function cr(i){return i instanceof Fa?i.changingThisBreaksApplicationSecurity:i}function Cs(i,e){const t=nC(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function nC(i){return i instanceof Fa&&i.getTypeName()||null}class bN{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ql(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class xN{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const n=this.inertDocument.createElement("body");t.appendChild(n)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ql(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Ql(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const MN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,CN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fd(i){return(i=String(i)).match(MN)||i.match(CN)?i:"unsafe:"+i}function rC(i){return(i=String(i)).split(",").map(e=>fd(e.trim())).join(", ")}function Es(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function pd(...i){const e={};for(const t of i)for(const n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}const sC=Es("area,br,col,hr,img,wbr"),oC=Es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aC=Es("rp,rt"),uy=pd(sC,pd(oC,Es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pd(aC,Es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pd(aC,oC)),dy=Es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=Es("srcset"),lC=pd(dy,hy,Es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),EN=Es("script,style,template");class SN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!uy.hasOwnProperty(t))return this.sanitizedSomething=!0,!EN.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,a=o.toLowerCase();if(!lC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;dy[a]&&(l=fd(l)),hy[a]&&(l=rC(l)),this.buf.push(" ",o,'="',cC(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();uy.hasOwnProperty(t)&&!sC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(cC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const TN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DN=/([^\#-~ |!])/g;function cC(i){return i.replace(/&/g,"&amp;").replace(TN,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(DN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qf;function uC(i,e){let t=null;try{qf=qf||function(i){const e=new xN(i);return function(){try{return!!(new window.DOMParser).parseFromString(Ql(""),"text/html")}catch(i){return!1}}()?new bN(e):e}(i);let n=e?String(e):"";t=qf.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=t.innerHTML,t=qf.getInertBodyElement(n)}while(n!==s);return Ql((new SN).sanitizeChildren(fy(t)||t))}finally{if(t){const n=fy(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function fy(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function Go(i){const e=function(){const i=ne();return i&&i[12]}();return e?e.sanitize(en.URL,i)||"":Cs(i,"URL")?cr(i):fd(mt(i))}const fC="__ngContext__";function Li(i,e){i[fC]=e}function my(i){const e=function(i){return i[fC]||null}(i);return e?Array.isArray(e)?e:e.lView:null}function _y(i){return i.ngOriginalError}function qN(i,...e){i.error(...e)}class io{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=function(i){return i&&i.ngErrorLogger||qN}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&_y(e);for(;t&&_y(t);)t=_y(t);return t||null}}const yC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dn))();function Jl(i){return i.ownerDocument.defaultView}function Ss(i){return i instanceof Function?i():i}var ur=(()=>((ur=ur||{})[ur.Important=1]="Important",ur[ur.DashCase=2]="DashCase",ur))();function vy(i,e){return undefined(i,e)}function _d(i){const e=i[3];return Zr(e)?e[3]:e}function by(i){return MC(i[13])}function xy(i){return MC(i[4])}function MC(i){for(;null!==i&&!Zr(i);)i=i[4];return i}function tc(i,e,t,n,r){if(null!=n){let s,o=!1;Zr(n)?s=n:bs(n)&&(o=!0,n=n[0]);const a=Zn(n);0===i&&null!==t?null==r?AC(e,t,a):La(e,t,a,r||null,!0):1===i&&null!==t?La(e,t,a,r||null,!0):2===i?function(i,e,t){const n=Yf(i,e);n&&function(i,e,t,n){On(i)?i.removeChild(e,t,n):e.removeChild(t)}(i,n,e,t)}(e,a,o):3===i&&e.destroyNode(a),null!=s&&function(i,e,t,n,r){const s=t[7];s!==Zn(t)&&tc(e,i,n,s,r);for(let a=10;a<t.length;a++){const l=t[a];yd(l[1],l,i,e,n,s)}}(e,i,s,t,r)}}function My(i,e,t){return On(i)?i.createElement(e,t):null===t?i.createElement(e):i.createElementNS(t,e)}function EC(i,e){const t=i[9],n=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,z_(r,-1)),t.splice(n,1)}function Cy(i,e){if(i.length<=10)return;const t=10+e,n=i[t];if(n){const r=n[17];null!==r&&r!==i&&EC(r,n),e>0&&(i[t-1][4]=n[4]);const s=zf(i,10+e);!function(i,e){yd(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(n[1],n);const o=s[19];null!==o&&o.detachView(s[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function SC(i,e){if(!(256&e[2])){const t=e[11];On(t)&&t.destroyNode&&yd(i,e,t,3,null,null),function(i){let e=i[13];if(!e)return Ey(i[1],i);for(;e;){let t=null;if(bs(e))t=e[13];else{const n=e[10];n&&(t=n)}if(!t){for(;e&&!e[4]&&e!==i;)bs(e)&&Ey(e[1],e),e=e[3];null===e&&(e=i),bs(e)&&Ey(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ey(i,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let n=0;n<t.length;n+=2){const r=e[t[n]];if(!(r instanceof td)){const s=t[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(i,e),function(i,e){const t=i.cleanup,n=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Zn(e[o]),l=n[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?n[r=c]():n[r=-c].unsubscribe(),s+=2}else{const o=n[r=t[s+1]];t[s].call(o)}if(null!==n){for(let s=r+1;s<n.length;s++)n[s]();e[7]=null}}(i,e),1===e[1].type&&On(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Zr(e[3])){t!==e[3]&&EC(t,e);const n=e[19];null!==n&&n.detachView(i)}}}function TC(i,e,t){return function(i,e,t){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return t[0];if(2&n.flags){const r=i.data[n.directiveStart].encapsulation;if(r===Yr.None||r===Yr.Emulated)return null}return Sr(n,t)}(i,e.parent,t)}function La(i,e,t,n,r){On(i)?i.insertBefore(e,t,n,r):e.insertBefore(t,n,r)}function AC(i,e,t){On(i)?i.appendChild(e,t):e.appendChild(t)}function IC(i,e,t,n,r){null!==n?La(i,e,t,n,r):AC(i,e,t)}function Yf(i,e){return On(i)?i.parentNode(e):e.parentNode}function RC(i,e,t){return kC(i,e,t)}let kC=function(i,e,t){return 40&i.type?Sr(i,t):null};function Xf(i,e,t,n){const r=TC(i,n,e),s=e[11],a=RC(n.parent||e[6],n,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)IC(s,r,t[l],a,!1);else IC(s,r,t,a,!1)}function Zf(i,e){if(null!==e){const t=e.type;if(3&t)return Sr(e,i);if(4&t)return Ty(-1,i[e.index]);if(8&t){const n=e.child;if(null!==n)return Zf(i,n);{const r=i[e.index];return Zr(r)?Ty(-1,r):Zn(r)}}if(32&t)return vy(e,i)()||Zn(i[e.index]);{const n=LC(i,e);return null!==n?Array.isArray(n)?n[0]:Zf(_d(i[16]),n):Zf(i,e.next)}}return null}function LC(i,e){return null!==e?i[16][6].projection[e.projection]:null}function Ty(i,e){const t=10+i+1;if(t<e.length){const n=e[t],r=n[1].firstChild;if(null!==r)return Zf(n,r)}return e[7]}function Dy(i,e,t,n,r,s,o){for(;null!=t;){const a=n[t.index],l=t.type;if(o&&0===e&&(a&&Li(Zn(a),n),t.flags|=4),64!=(64&t.flags))if(8&l)Dy(i,e,t.child,n,r,s,!1),tc(e,i,r,a,s);else if(32&l){const c=vy(t,n);let u;for(;u=c();)tc(e,i,r,u,s);tc(e,i,r,a,s)}else 16&l?NC(i,e,n,t,r,s):tc(e,i,r,a,s);t=o?t.projectionNext:t.next}}function yd(i,e,t,n,r,s){Dy(t,n,i.firstChild,e,r,s,!1)}function NC(i,e,t,n,r,s){const o=t[16],l=o[6].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)tc(e,i,r,l[c],s);else Dy(i,e,l,o[3],r,s,!0)}function BC(i,e,t){On(i)?i.setAttribute(e,"style",t):e.style.cssText=t}function Ay(i,e,t){On(i)?""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t):e.className=t}function VC(i,e,t){let n=i.length;for(;;){const r=i.indexOf(e,t);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const s=e.length;if(r+s===n||i.charCodeAt(r+s)<=32)return r}t=r+1}}const HC="ng-template";function x3(i,e,t){let n=0;for(;n<i.length;){let r=i[n++];if(t&&"class"===r){if(r=i[n],-1!==VC(r.toLowerCase(),e,0))return!0}else if(1===r){for(;n<i.length&&"string"==typeof(r=i[n++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function zC(i){return 4===i.type&&i.value!==HC}function w3(i,e,t){return e===(4!==i.type||t?i.value:HC)}function M3(i,e,t){let n=4;const r=i.attrs||[],s=function(i){for(let e=0;e<i.length;e++)if(AM(i[e]))return e;return i.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!w3(i,l,t)||""===l&&1===e.length){if(Qr(n))return!1;o=!0}}else{const c=8&n?l:e[++a];if(8&n&&null!==i.attrs){if(!x3(i.attrs,c,t)){if(Qr(n))return!1;o=!0}continue}const d=C3(8&n?"class":l,r,zC(i),t);if(-1===d){if(Qr(n))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&n?h:null;if(f&&-1!==VC(f,c,0)||2&n&&c!==h){if(Qr(n))return!1;o=!0}}}}else{if(!o&&!Qr(n)&&!Qr(l))return!1;if(o&&Qr(l))continue;o=!1,n=l|1&n}}return Qr(n)||o}function Qr(i){return 0==(1&i)}function C3(i,e,t,n){if(null===e)return-1;let r=0;if(n||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===i)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const n=i[t];if("number"==typeof n)return-1;if(n===e)return t;t++}return-1}(e,i)}function UC(i,e,t=!1){for(let n=0;n<e.length;n++)if(M3(i,e[n],t))return!0;return!1}function D3(i,e){e:for(let t=0;t<e.length;t++){const n=e[t];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function GC(i,e){return i?":not("+e.trim()+")":e}function A3(i){let e=i[0],t=1,n=2,r="",s=!1;for(;t<i.length;){let o=i[t];if("string"==typeof o)if(2&n){const a=i[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Qr(o)&&(e+=GC(s,r),r=""),n=o,s=s||!Qr(n);t++}return""!==r&&(e+=GC(s,r)),e}const _t={};function $(i){WC(Yt(),ne(),Wi()+i,Tf())}function WC(i,e,t,n){if(!n)if(3==(3&e[2])){const s=i.preOrderCheckHooks;null!==s&&kf(e,s,t)}else{const s=i.preOrderHooks;null!==s&&Ff(e,s,0,t)}zo(t)}function Kf(i,e){return i<<17|e<<2}function Jr(i){return i>>17&32767}function Iy(i){return 2|i}function ro(i){return(131068&i)>>2}function Ry(i,e){return-131069&i|e<<2}function Py(i){return 1|i}function t1(i,e){const t=i.contentQueries;if(null!==t)for(let n=0;n<t.length;n+=2){const r=t[n],s=t[n+1];if(-1!==s){const o=i.data[s];$_(r),o.contentQueries(2,e[s],s)}}}function vd(i,e,t,n,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|n,gM(u),u[3]=u[15]=i,u[8]=t,u[10]=o||i&&i[10],u[11]=a||i&&i[11],u[12]=l||i&&i[12]||null,u[9]=c||i&&i[9]||null,u[6]=s,u[16]=2==e.type?i[16]:u,u}function nc(i,e,t,n,r){let s=i.data[e];if(null===s)s=function(i,e,t,n,r){const s=yM(),o=U_(),l=i.data[e]=function(i,e,t,n,r,s){return{type:t,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,n,r);return null===i.firstChild&&(i.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(i,e,t,n,r),ut.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=n,s.attrs=r;const o=function(){const i=ut.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xs(s,!0),s}function ic(i,e,t,n){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(n),i.blueprint.push(n),i.data.push(null);return r}function bd(i,e,t){Af(e);try{const n=i.viewQuery;null!==n&&Zy(1,n,t);const r=i.template;null!==r&&n1(i,e,r,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&t1(i,e),i.staticViewQueries&&Zy(2,i.viewQuery,t);const s=i.components;null!==s&&function(i,e){for(let t=0;t<e.length;t++)dB(i,e[t])}(e,s)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[2]&=-5,If()}}function rc(i,e,t,n){const r=e[2];if(256==(256&r))return;Af(e);const s=Tf();try{gM(e),function(i){ut.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&n1(i,e,t,2,n);const o=3==(3&r);if(!s)if(o){const c=i.preOrderCheckHooks;null!==c&&kf(e,c,null)}else{const c=i.preOrderHooks;null!==c&&Ff(e,c,0,null),q_(e,0)}if(function(i){for(let e=by(i);null!==e;e=xy(e)){if(!e[2])continue;const t=e[9];for(let n=0;n<t.length;n++){const r=t[n],s=r[3];0==(1024&r[2])&&z_(s,1),r[2]|=1024}}}(e),function(i){for(let e=by(i);null!==e;e=xy(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];H_(n)&&rc(r,n,r.template,n[8])}}(e),null!==i.contentQueries&&t1(i,e),!s)if(o){const c=i.contentCheckHooks;null!==c&&kf(e,c)}else{const c=i.contentHooks;null!==c&&Ff(e,c,1),q_(e,1)}!function(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const r=t[n];if(r<0)zo(~r);else{const s=r,o=t[++n],a=t[++n];mO(o,s),a(2,e[s])}}}finally{zo(-1)}}(i,e);const a=i.components;null!==a&&function(i,e){for(let t=0;t<e.length;t++)uB(i,e[t])}(e,a);const l=i.viewQuery;if(null!==l&&Zy(2,l,n),!s)if(o){const c=i.viewCheckHooks;null!==c&&kf(e,c)}else{const c=i.viewHooks;null!==c&&Ff(e,c,2),q_(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,z_(e[3],-1))}finally{If()}}function j3(i,e,t,n){const r=e[10],s=!Tf(),o=mM(e);try{s&&!o&&r.begin&&r.begin(),o&&bd(i,e,n),rc(i,e,t,n)}finally{s&&!o&&r.end&&r.end()}}function n1(i,e,t,n,r){const s=Wi(),o=2&n;try{zo(-1),o&&e.length>20&&WC(i,e,20,Tf()),t(n,r)}finally{zo(s)}}function r1(i,e,t){if(F_(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=i.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Uy(i,e,t){!_M()||(function(i,e,t,n){const r=t.directiveStart,s=t.directiveEnd;i.firstCreatePass||id(t,e),Li(n,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=i.data[a],c=Kr(l);c&&sB(e,t,l);const u=rd(e,i,a,t);Li(u,e),null!==o&&oB(0,a-r,u,l,0,o),c&&(or(t.index,e)[8]=u)}}(i,e,t,Sr(t,e)),128==(128&t.flags)&&function(i,e,t){const n=t.directiveStart,r=t.directiveEnd,o=t.index,a=ut.lFrame.currentDirectiveIndex;try{zo(o);for(let l=n;l<r;l++){const c=i.data[l],u=e[l];W_(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&h1(c,u)}}finally{zo(-1),W_(a)}}(i,e,t))}function Gy(i,e,t=Sr){const n=e.localNames;if(null!==n){let r=e.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?t(e,i):i[o];i[r++]=a}}}function s1(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=ep(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function ep(i,e,t,n,r,s,o,a,l,c){const u=20+n,d=u+r,h=function(i,e){const t=[];for(let n=0;n<e;n++)t.push(n<i?null:_t);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:i,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function l1(i,e,t,n){const r=y1(e);null===t?r.push(n):(r.push(t),i.firstCreatePass&&v1(i).push(n,r.length-1))}function c1(i,e,t){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];(t=null===t?{}:t).hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}return t}function dr(i,e,t,n,r,s,o,a){const l=Sr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[n])?(w1(i,t,u,n,r),Cf(e)&&function(i,e){const t=or(e,i);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(n=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=o?o(r,e.value||"",n):r,On(s)?s.setProperty(l,n,r):X_(n)||(l.setProperty?l.setProperty(n,r):l[n]=r))}function Wy(i,e,t,n){let r=!1;if(_M()){const s=function(i,e,t){const n=i.directiveRegistry;let r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];UC(t,o.selectors,!1)&&(r||(r=[]),Vf(id(t,e),i,o.type),Kr(o)?(f1(i,t),r.unshift(o)):r.push(o))}return r}(i,e,t),o=null===n?null:{"":-1};if(null!==s){r=!0,p1(t,i.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=ic(i,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Of(t.mergedAttrs,d.hostAttrs),m1(i,t,e,c,d),rB(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(i,e){const n=e.directiveEnd,r=i.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<n;c++){const u=r[c],d=u.inputs,h=null===s||zC(e)?null:aB(d,s);o.push(h),a=c1(d,c,a),l=c1(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(i,t)}o&&function(i,e,t){if(e){const n=i.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new nr("301",`Export of name '${e[r+1]}' not found!`);n.push(e[r],s)}}}(t,n,o)}return t.mergedAttrs=Of(t.mergedAttrs,t.attrs),r}function d1(i,e,t,n,r,s){const o=s.hostBindings;if(o){let a=i.hostBindingOpCodes;null===a&&(a=i.hostBindingOpCodes=[]);const l=~e.index;(function(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(n,r,o)}}function h1(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function f1(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function rB(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;Kr(e)&&(t[""]=i)}}function p1(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function m1(i,e,t,n,r){i.data[n]=r;const s=r.factory||(r.factory=Pa(r.type)),o=new td(s,Kr(r),null);i.blueprint[n]=o,t[n]=o,d1(i,e,0,n,ic(i,t,r.hostVars,_t),r)}function sB(i,e,t){const n=Sr(e,i),r=s1(t),s=i[10],o=tp(i,vd(i,r,null,t.onPush?64:16,n,e,s,s.createRenderer(n,t),null,null));i[e.index]=o}function Ts(i,e,t,n,r,s){const o=Sr(i,e);!function(i,e,t,n,r,s,o){if(null==s)On(i)?i.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?mt(s):o(s,n||"",r);On(i)?i.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,i.value,t,n,r)}function oB(i,e,t,n,r,s){const o=s[e];if(null!==o){const a=n.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?n.setInput(t,d,c,u):t[u]=d}}}function aB(i,e){let t=null,n=0;for(;n<e.length;){const r=e[n];if(0!==r)if(5!==r){if("number"==typeof r)break;i.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,i[r],e[n+1])),n+=2}else n+=2;else n+=4}return t}function g1(i,e,t,n){return new Array(i,!0,!1,e,null,0,n,t,null,null)}function uB(i,e){const t=or(e,i);if(H_(t)){const n=t[1];80&t[2]?rc(n,t,n.template,t[8]):t[5]>0&&$y(t)}}function $y(i){for(let n=by(i);null!==n;n=xy(n))for(let r=10;r<n.length;r++){const s=n[r];if(1024&s[2]){const o=s[1];rc(o,s,o.template,s[8])}else s[5]>0&&$y(s)}const t=i[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=or(t[n],i);H_(r)&&r[5]>0&&$y(r)}}function dB(i,e){const t=or(e,i),n=t[1];(function(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(n,t),bd(n,t,t[8])}function tp(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function qy(i){for(;i;){i[2]|=64;const e=_d(i);if(XL(i)&&!e)return i;i=e}return null}function Xy(i,e,t){const n=e[10];n.begin&&n.begin();try{rc(i,e,i.template,t)}catch(r){throw x1(e,r),r}finally{n.end&&n.end()}}function _1(i){!function(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],n=my(t),r=n[1];j3(r,n,r.template,t)}}(i[8])}function Zy(i,e,t){$_(0),e(i,t)}const gB=(()=>Promise.resolve(null))();function y1(i){return i[7]||(i[7]=[])}function v1(i){return i.cleanup||(i.cleanup=[])}function b1(i,e,t){return(null===i||Kr(i))&&(t=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(t[e.index])),t[11]}function x1(i,e){const t=i[9],n=t?t.get(io,null):null;n&&n.handleError(e)}function w1(i,e,t,n,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=i.data[o];null!==c.setInput?c.setInput(l,r,n,a):l[a]=r}}function so(i,e,t){const n=Sf(e,i);!function(i,e,t){On(i)?i.setValue(e,t):e.textContent=t}(i[11],n,t)}function np(i,e,t){let n=t?i.styles:null,r=t?i.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=E_(r,a):2==s&&(n=E_(n,a+": "+e[++o]+";"))}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=r:i.classesWithoutHost=r}const Ky=new we("INJECTOR",-1);class M1{get(e,t=ld){if(t===ld){const n=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw n.name="NullInjectorError",n}return t}}const Qy=new we("Set Injector scope."),xd={},vB={};let Jy;function C1(){return void 0===Jy&&(Jy=new M1),Jy}function E1(i,e=null,t=null,n){const r=S1(i,e,t,n);return r._resolveInjectorDefTypes(),r}function S1(i,e=null,t=null,n){return new bB(i,t,e||C1(),n)}class bB{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Ms(t,a=>this.processProvider(a,e,t)),Ms([e],a=>this.processInjectorType(a,[],s)),this.records.set(Ky,sc(void 0,this));const o=this.records.get(Qy);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:$t(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ld,n=Mt.Default){this.assertNotDestroyed();const r=qM(this),s=No(void 0);try{if(!(n&Mt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(i){return"function"==typeof i||"object"==typeof i&&i instanceof we}(e)&&T_(e);a=l&&this.injectableDefInScope(l)?sc(ev(e),xd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&Mt.Self?C1():this.parent).get(e,t=n&Mt.Optional&&t===ld?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Gf]=o[Gf]||[]).unshift($t(e)),r)throw o;return function(i,e,t,n){const r=i[Gf];throw e[$M]&&r.unshift(e[$M]),i.message=function(i,e,t,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let r=$t(e);if(Array.isArray(e))r=e.map($t).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):$t(a)))}r=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${i.replace(qO,"\n  ")}`}("\n"+i.message,r,t,n),i.ngTokenPath=r,i[Gf]=null,i}(o,e,"R3InjectorError",this.source)}throw o}finally{No(s),qM(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((n,r)=>e.push($t(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=Tt(e)))return!1;let r=eM(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==n.indexOf(o);if(void 0!==s&&(r=eM(s)),null==r)return!1;if(null!=r.imports&&!a){let u;n.push(o);try{Ms(r.imports,d=>{this.processInjectorType(d,t,n)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Ms(f,p=>this.processProvider(p,h,f||mn))}}this.injectorDefTypes.add(o);const l=Pa(o)||(()=>new o);this.records.set(o,sc(l,xd));const c=r.providers;if(null!=c&&!a){const u=e;Ms(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,n){let r=oc(e=Tt(e))?e:Tt(e&&e.provide);const s=function(i,e,t){return D1(i)?sc(void 0,i.useValue):sc(T1(i),xd)}(e);if(oc(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=sc(void 0,xd,!0),o.factory=()=>oy(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===xd&&(t.value=vB,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Tt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function ev(i){const e=T_(i),t=null!==e?e.factory:Pa(i);if(null!==t)return t;if(i instanceof we)throw new Error(`Token ${$t(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const e=i.length;if(e>0){const n=ad(e,"?");throw new Error(`Can't resolve all parameters for ${$t(i)}: (${n.join(", ")}).`)}const t=function(i){const e=i&&(i[vf]||i[tM]);if(e){const t=function(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Error("unreachable")}function T1(i,e,t){let n;if(oc(i)){const r=Tt(i);return Pa(r)||ev(r)}if(D1(i))n=()=>Tt(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...oy(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))n=()=>X(Tt(i.useExisting));else{const r=Tt(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Pa(r)||ev(r);n=()=>new r(...oy(i.deps))}return n}function sc(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function D1(i){return null!==i&&"object"==typeof i&&XO in i}function oc(i){return"function"==typeof i}let gi=(()=>{class i{static create(t,n){var r;if(Array.isArray(t))return E1({name:""},n,t,"");{const s=null!==(r=t.name)&&void 0!==r?r:"";return E1({name:s},t.parent,t.providers,s)}}}return i.THROW_IF_NOT_FOUND=ld,i.NULL=new M1,i.\u0275prov=Fe({token:i,providedIn:"any",factory:()=>X(Ky)}),i.__NG_ELEMENT_ID__=-1,i})();function OB(i,e){Pf(my(i)[1],ri())}function Je(i){let e=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const n=[i];for(;e;){let r;if(Kr(i))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){n.push(r);const o=i;o.inputs=iv(i.inputs),o.declaredInputs=iv(i.declaredInputs),o.outputs=iv(i.outputs);const a=r.hostBindings;a&&HB(i,a);const l=r.viewQuery,c=r.contentQueries;if(l&&BB(i,l),c&&VB(i,c),C_(i.inputs,r.inputs),C_(i.declaredInputs,r.declaredInputs),C_(i.outputs,r.outputs),Kr(r)&&r.data.animation){const u=i.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(i),a===Je&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=e+=r.hostVars,r.hostAttrs=Of(r.hostAttrs,t=Of(t,r.hostAttrs))}}(n)}function iv(i){return i===Ol?{}:i===mn?[]:i}function BB(i,e){const t=i.viewQuery;i.viewQuery=t?(n,r)=>{e(n,r),t(n,r)}:e}function VB(i,e){const t=i.contentQueries;i.contentQueries=t?(n,r,s)=>{e(n,r,s),t(n,r,s)}:e}function HB(i,e){const t=i.hostBindings;i.hostBindings=t?(n,r)=>{e(n,r),t(n,r)}:e}let ip=null;function ac(){if(!ip){const i=dn.Symbol;if(i&&i.iterator)ip=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ip=n)}}}return ip}function wd(i){return!!rv(i)&&(Array.isArray(i)||!(i instanceof Map)&&ac()in i)}function rv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ds(i,e,t){return i[e]=t}function Oi(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function tn(i,e,t,n){const r=ne();return Oi(r,Ul(),e)&&(Yt(),Ts(Nn(),r,i,e,t,n)),tn}function cc(i,e,t,n){return Oi(i,Ul(),t)?e+mt(t)+n:_t}function ze(i,e,t,n,r,s,o,a){const l=ne(),c=Yt(),u=i+20,d=c.firstCreatePass?function(i,e,t,n,r,s,o,a,l){const c=e.consts,u=nc(e,i,4,o||null,Ho(c,a));Wy(e,t,u,Ho(c,l)),Pf(e,u);const d=u.tViews=ep(2,u,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,n,r,s,o):c.data[u];xs(d,!1);const h=l[11].createComment("");Xf(c,l,h,d),Li(h,l),tp(l,l[u]=g1(h,l,h,d)),Ef(d)&&Uy(c,l,d),null!=o&&Gy(l,d,a)}function Ar(i){return zl(ut.lFrame.contextLView,20+i)}function T(i,e=Mt.Default){const t=ne();return null===t?X(i,e):OM(ri(),t,Tt(i),e)}function op(){throw new Error("invalid")}function j(i,e,t){const n=ne();return Oi(n,Ul(),e)&&dr(Yt(),Nn(),n,i,e,n[11],t,!1),j}function cv(i,e,t,n,r){const o=r?"class":"style";w1(i,t,e.inputs[o],o,n)}function y(i,e,t,n){const r=ne(),s=Yt(),o=20+i,a=r[11],l=r[o]=My(a,e,ut.lFrame.currentNamespace),c=s.firstCreatePass?function(i,e,t,n,r,s,o){const a=e.consts,c=nc(e,i,2,r,Ho(a,s));return Wy(e,t,c,Ho(a,o)),null!==c.attrs&&np(c,c.attrs,!1),null!==c.mergedAttrs&&np(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,n):s.data[o];xs(c,!0);const u=c.mergedAttrs;null!==u&&Lf(a,l,u);const d=c.classes;null!==d&&Ay(a,l,d);const h=c.styles;null!==h&&BC(a,l,h),64!=(64&c.flags)&&Xf(s,r,l,c),0===ut.lFrame.elementDepthCount&&Li(l,r),ut.lFrame.elementDepthCount++,Ef(c)&&(Uy(s,r,c),r1(s,c,r)),null!==n&&Gy(r,c)}function v(){let i=ri();U_()?G_():(i=i.parent,xs(i,!1));const e=i;ut.lFrame.elementDepthCount--;const t=Yt();t.firstCreatePass&&(Pf(t,i),F_(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(e)&&cv(t,e,ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(e)&&cv(t,e,ne(),e.stylesWithoutHost,!1)}function be(i,e,t,n){y(i,e,t,n),v()}function Ir(i,e,t){const n=ne(),r=Yt(),s=i+20,o=r.firstCreatePass?function(i,e,t,n,r){const s=e.consts,o=Ho(s,n),a=nc(e,i,8,"ng-container",o);return null!==o&&np(a,o,!0),Wy(e,t,a,Ho(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,n,e,t):r.data[s];xs(o,!0);const a=n[s]=n[11].createComment("");Xf(r,n,a,o),Li(a,n),Ef(o)&&(Uy(r,n,o),r1(r,o,n)),null!=t&&Gy(n,o)}function Rr(){let i=ri();const e=Yt();U_()?G_():(i=i.parent,xs(i,!1)),e.firstCreatePass&&(Pf(e,i),F_(i)&&e.queries.elementEnd(i))}function ln(){return ne()}function Cd(i){return!!i&&"function"==typeof i.then}function oE(i){return!!i&&"function"==typeof i.subscribe}const uv=oE;function ue(i,e,t,n){const r=ne(),s=Yt(),o=ri();return aE(s,r,r[11],o,i,e,!!t,n),ue}function dv(i,e){const t=ri(),n=ne(),r=Yt();return aE(r,n,b1(j_(r.data),t,n),t,i,e,!1),dv}function aE(i,e,t,n,r,s,o,a){const l=Ef(n),u=i.firstCreatePass&&v1(i),d=e[8],h=y1(e);let f=!0;if(3&n.type||a){const b=Sr(n,e),_=a?a(b):b,m=h.length,w=a?x=>a(Zn(x[n.index])):n.index;if(On(t)){let x=null;if(!a&&l&&(x=function(i,e,t,n){const r=i.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===n){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(i,e,r,n.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1;else{s=hv(n,e,d,s,!1);const C=t.listen(_,r,s);h.push(s,C),u&&u.push(r,w,m,m+1)}}else s=hv(n,e,d,s,!0),_.addEventListener(r,s,o),h.push(s),u&&u.push(r,w,m,o)}else s=hv(n,e,d,s,!1);const p=n.outputs;let g;if(f&&null!==p&&(g=p[r])){const b=g.length;if(b)for(let _=0;_<b;_+=2){const D=e[g[_]][g[_+1]].subscribe(s),k=h.length;h.push(s,D),u&&u.push(r,n.index,k,-(k+1))}}}function lE(i,e,t,n){try{return!1!==t(n)}catch(r){return x1(i,r),!1}}function hv(i,e,t,n,r){return function s(o){if(o===Function)return n;const a=2&i.flags?or(i.index,e):e;0==(32&e[2])&&qy(a);let l=lE(e,0,n,o),c=s.__ngNextListenerFn__;for(;c;)l=lE(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function fe(i=1){return function(i){return(ut.lFrame.contextLView=function(i,e){for(;i>0;)e=e[15],i--;return e}(i,ut.lFrame.contextLView))[8]}(i)}function yV(i,e){let t=null;const n=function(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===n?UC(i,s,!0):D3(n,s))return r}else t=r}return t}function oi(i){const e=ne()[16][6];if(!e.projection){const n=e.projection=ad(i?i.length:1,null),r=n.slice();let s=e.child;for(;null!==s;){const o=i?yV(s,i):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function Kt(i,e=0,t){const n=ne(),r=Yt(),s=nc(r,20+i,16,null,t||null);null===s.projection&&(s.projection=e),G_(),64!=(64&s.flags)&&function(i,e,t){NC(e[11],0,e,t,TC(i,t,e),RC(t.parent||e[6],t,e))}(r,n,s)}function fv(i,e,t){return pv(i,"",e,"",t),fv}function pv(i,e,t,n,r){const s=ne(),o=cc(s,e,t,n);return o!==_t&&dr(Yt(),Nn(),s,i,o,s[11],r,!1),pv}function _E(i,e,t,n,r){const s=i[t+1],o=null===e;let a=n?Jr(s):ro(s),l=!1;for(;0!==a&&(!1===l||o);){const u=i[a+1];xV(i[a],e)&&(l=!0,i[a+1]=n?Py(u):Iy(u)),a=n?Jr(u):ro(u)}l&&(i[t+1]=n?Iy(s):Py(s))}function xV(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&Zl(i,e)>=0}const ai={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yE(i){return i.substring(ai.key,ai.keyEnd)}function vE(i,e){const t=ai.textEnd;return t===e?-1:(e=ai.keyEnd=function(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}(i,ai.key=e,t),yc(i,e,t))}function yc(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function Na(i,e,t){return ts(i,e,t,!1),Na}function Lt(i,e){return ts(i,e,null,!0),Lt}function Is(i,e){for(let t=function(i){return function(i){ai.key=0,ai.keyEnd=0,ai.value=0,ai.valueEnd=0,ai.textEnd=i.length}(i),vE(i,yc(i,0,ai.textEnd))}(e);t>=0;t=vE(e,t))ar(i,yE(e),!0)}function ts(i,e,t,n){const r=ne(),s=Yt(),o=no(2);s.firstUpdatePass&&EE(s,i,o,n),e!==_t&&Oi(r,o,e)&&TE(s,s.data[Wi()],r,r[11],i,r[o+1]=function(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=$t(cr(i)))),i}(e,t),n,o)}function CE(i,e){return e>=i.expandoStartIndex}function EE(i,e,t,n){const r=i.data;if(null===r[t+1]){const s=r[Wi()],o=CE(i,t);AE(s,n)&&null===e&&!o&&(e=!1),e=function(i,e,t,n){const r=j_(i);let s=n?e.residualClasses:e.residualStyles;if(null===r)0===(n?e.classBindings:e.styleBindings)&&(t=Ed(t=mv(null,i,e,t,n),e.attrs,n),s=null);else{const o=e.directiveStylingLast;if(-1===o||i[o]!==r)if(t=mv(r,i,e,t,n),null===s){let l=function(i,e,t){const n=t?e.classBindings:e.styleBindings;if(0!==ro(n))return i[Jr(n)]}(i,e,n);void 0!==l&&Array.isArray(l)&&(l=mv(null,i,e,l[1],n),l=Ed(l,e.attrs,n),function(i,e,t,n){i[Jr(t?e.classBindings:e.styleBindings)]=n}(i,e,n,l))}else s=function(i,e,t){let n;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)n=Ed(n,i[s].hostAttrs,t);return Ed(n,e.attrs,t)}(i,e,n)}return void 0!==s&&(n?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,n),function(i,e,t,n,r,s){let o=s?e.classBindings:e.styleBindings,a=Jr(o),l=ro(o);i[n]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Zl(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=Jr(i[a+1]);i[n+1]=Kf(h,a),0!==h&&(i[h+1]=Ry(i[h+1],n)),i[a+1]=function(i,e){return 131071&i|e<<17}(i[a+1],n)}else i[n+1]=Kf(a,0),0!==a&&(i[a+1]=Ry(i[a+1],n)),a=n;else i[n+1]=Kf(l,0),0===a?a=n:i[l+1]=Ry(i[l+1],n),l=n;c&&(i[n+1]=Iy(i[n+1])),_E(i,u,n,!0),_E(i,u,n,!1),function(i,e,t,n,r){const s=r?i.residualClasses:i.residualStyles;null!=s&&"string"==typeof e&&Zl(s,e)>=0&&(t[n+1]=Py(t[n+1]))}(e,u,i,n,s),o=Kf(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,n)}}function mv(i,e,t,n,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],n=Ed(n,s.hostAttrs,r),s!==i);)a++;return null!==i&&(t.directiveStylingLast=a),n}function Ed(i,e,t){const n=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ar(i,o,!!t||e[++s]))}return void 0===i?null:i}function TE(i,e,t,n,r,s,o,a){if(!(3&e.type))return;const l=i.data,c=l[a+1];ap(function(i){return 1==(1&i)}(c)?DE(l,e,t,r,ro(c),o):void 0)||(ap(s)||function(i){return 2==(2&i)}(c)&&(s=DE(l,null,t,r,a,o)),function(i,e,t,n,r){const s=On(i);if(e)r?s?i.addClass(t,n):t.classList.add(n):s?i.removeClass(t,n):t.classList.remove(n);else{let o=-1===n.indexOf("-")?void 0:ur.DashCase;if(null==r)s?i.removeStyle(t,n,o):t.style.removeProperty(n);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=ur.Important),s?i.setStyle(t,n,r,o):t.style.setProperty(n,r,a?"important":"")}}}(n,o,Sf(Wi(),t),r,s))}function DE(i,e,t,n,r,s){const o=null===e;let a;for(;r>0;){const l=i[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===_t&&(h=d?mn:void 0);let f=d?ny(h,n):u===n?h:void 0;if(c&&!ap(f)&&(f=ny(l,n)),ap(f)&&(a=f,o))return a;const p=i[r+1];r=o?Jr(p):ro(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=ny(l,n))}return a}function ap(i){return void 0!==i}function AE(i,e){return 0!=(i.flags&(e?16:32))}function M(i,e=""){const t=ne(),n=Yt(),r=i+20,s=n.firstCreatePass?nc(n,r,1,e,null):n.data[r],o=t[r]=function(i,e){return On(i)?i.createText(e):i.createTextNode(e)}(t[11],e);Xf(n,t,o,s),xs(s,!1)}function vn(i){return oo("",i,""),vn}function oo(i,e,t){const n=ne(),r=cc(n,i,e,t);return r!==_t&&so(n,Wi(),r),oo}function gv(i,e,t){!function(i,e,t,n){const r=Yt(),s=no(2);r.firstUpdatePass&&EE(r,null,s,n);const o=ne();if(t!==_t&&Oi(o,s,t)){const a=r.data[Wi()];if(AE(a,n)&&!CE(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=E_(l,t||"")),cv(r,a,o,t,n)}else!function(i,e,t,n,r,s,o,a){r===_t&&(r=mn);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),null!==p&&TE(i,e,t,n,p,g,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(i,e,t){if(null==t||""===t)return mn;const n=[],r=cr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)i(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&i(n,s,r[s]);else"string"==typeof r&&e(n,r);return n}(i,e,t),n,s)}}(ar,Is,cc(ne(),i,e,t),!0)}function vc(i,e,t){const n=ne();return Oi(n,Ul(),e)&&dr(Yt(),Nn(),n,i,e,n[11],t,!0),vc}function _v(i,e,t){const n=ne();if(Oi(n,Ul(),e)){const s=Yt(),o=Nn();dr(s,o,n,i,e,b1(j_(s.data),o,n),t,!0)}return _v}const Ba=void 0;var tH=["en",[["a","p"],["AM","PM"],Ba],[["AM","PM"],Ba,Ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ba,"{1} 'at' {0}",Ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let bc={};function $i(i){const e=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=YE(e);if(t)return t;const n=e.split("-")[0];if(t=YE(n),t)return t;if("en"===n)return tH;throw new Error(`Missing locale data for the locale "${i}".`)}function YE(i){return i in bc||(bc[i]=dn.ng&&dn.ng.common&&dn.ng.common.locales&&dn.ng.common.locales[i]),bc[i]}var Re=(()=>((Re=Re||{})[Re.LocaleId=0]="LocaleId",Re[Re.DayPeriodsFormat=1]="DayPeriodsFormat",Re[Re.DayPeriodsStandalone=2]="DayPeriodsStandalone",Re[Re.DaysFormat=3]="DaysFormat",Re[Re.DaysStandalone=4]="DaysStandalone",Re[Re.MonthsFormat=5]="MonthsFormat",Re[Re.MonthsStandalone=6]="MonthsStandalone",Re[Re.Eras=7]="Eras",Re[Re.FirstDayOfWeek=8]="FirstDayOfWeek",Re[Re.WeekendRange=9]="WeekendRange",Re[Re.DateFormat=10]="DateFormat",Re[Re.TimeFormat=11]="TimeFormat",Re[Re.DateTimeFormat=12]="DateTimeFormat",Re[Re.NumberSymbols=13]="NumberSymbols",Re[Re.NumberFormats=14]="NumberFormats",Re[Re.CurrencyCode=15]="CurrencyCode",Re[Re.CurrencySymbol=16]="CurrencySymbol",Re[Re.CurrencyName=17]="CurrencyName",Re[Re.Currencies=18]="Currencies",Re[Re.Directionality=19]="Directionality",Re[Re.PluralCase=20]="PluralCase",Re[Re.ExtraData=21]="ExtraData",Re))();const lp="en-US";let XE=lp;function bv(i,e,t,n,r){if(i=Tt(i),Array.isArray(i))for(let s=0;s<i.length;s++)bv(i[s],e,t,n,r);else{const s=Yt(),o=ne();let a=oc(i)?i:Tt(i.provide),l=T1(i);const c=ri(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(oc(i)||!i.multi){const f=new td(l,r,T),p=wv(a,e,r?u:u+h,d);-1===p?(Vf(id(c,o),s,a),xv(s,i,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=wv(a,e,u+h,d),p=wv(a,e,u,u+h),g=f>=0&&t[f],b=p>=0&&t[p];if(r&&!b||!r&&!g){Vf(id(c,o),s,a);const _=function(i,e,t,n,r){const s=new td(i,t,T);return s.multi=[],s.index=e,s.componentProviders=0,vS(s,r,n&&!t),s}(r?JH:QH,t.length,r,n,l);!r&&b&&(t[p].providerFactory=_),xv(s,i,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(_),o.push(_)}else xv(s,i,f>-1?f:p,vS(t[r?p:f],l,!r&&n));!r&&n&&b&&t[p].componentProviders++}}}function xv(i,e,t,n){const r=oc(e),s=function(i){return!!i.useClass}(e);if(r||s){const l=(s?Tt(e.useClass):e).prototype.ngOnDestroy;if(l){const c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[n,l]):c[u+1].push(n,l)}else c.push(t,l)}}}function vS(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function wv(i,e,t,n){for(let r=t;r<n;r++)if(e[r]===i)return r;return-1}function QH(i,e,t,n){return Mv(this.multi,[])}function JH(i,e,t,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=rd(t,t[1],this.providerFactory.index,n);s=a.slice(0,o),Mv(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Mv(r,s);return s}function Mv(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function Ut(i,e=[]){return t=>{t.providersResolver=(n,r)=>function(i,e,t){const n=Yt();if(n.firstCreatePass){const r=Kr(i);bv(t,n.data,n.blueprint,r,!0),bv(e,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,e)}}class bS{}class iz{resolveComponentFactory(e){throw function(i){const e=Error(`No component factory found for ${$t(i)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=i,e}(e)}}let ao=(()=>{class i{}return i.NULL=new iz,i})();function rz(){return wc(ri(),ne())}function wc(i,e){return new dt(Sr(i,e))}let dt=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=rz,i})();function sz(i){return i instanceof dt?i.nativeElement:i}class Id{}let lo=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function(){const i=ne(),t=or(ri().index,i);return function(i){return i[11]}(bs(t)?t:i)}(),i})(),lz=(()=>{class i{}return i.\u0275prov=Fe({token:i,providedIn:"root",factory:()=>null}),i})();class $o{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cz=new $o("13.1.1"),Cv={};function fp(i,e,t,n,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&n.push(Zn(s)),Zr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&fp(l[1],l,c,n)}const o=t.type;if(8&o)fp(i,e,t.child,n);else if(32&o){const a=vy(t,e);let l;for(;l=a();)n.push(l)}else if(16&o){const a=LC(e,t);if(Array.isArray(a))n.push(...a);else{const l=_d(e[16]);fp(l[1],l,a,n,!0)}}t=r?t.projectionNext:t.next}return n}class Rd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return fp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Zr(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Cy(e,n),zf(t,n))}this._attachedToViewContainer=!1}SC(this._lView[1],this._lView)}onDestroy(e){l1(this._lView[1],this._lView,null,e)}markForCheck(){qy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,e,t){Df(!0);try{Xy(i,e,t)}finally{Df(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(i,e){yd(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class uz extends Rd{constructor(e){super(e),this._view=e}detectChanges(){_1(this._view)}checkNoChanges(){!function(i){Df(!0);try{_1(i)}finally{Df(!1)}}(this._view)}get context(){return null}}class wS extends ao{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ki(e);return new Ev(t,this.ngModule)}}function MS(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}const hz=new we("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yC});class Ev extends bS{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(i){return i.map(A3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return MS(this.componentDef.inputs)}get outputs(){return MS(this.componentDef.outputs)}create(e,t,n,r){const s=(r=r||this.ngModule)?function(i,e){return{get:(t,n,r)=>{const s=i.get(t,Cv,r);return s!==Cv||n===Cv?s:e.get(t,n,r)}}}(e,r.injector):e,o=s.get(Id,pM),a=s.get(lz,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(i,e,t){if(On(i))return i.selectRootElement(e,t===Yr.ShadowDom);let n="string"==typeof e?i.querySelector(e):e;return n.textContent="",n}(l,n,this.componentDef.encapsulation):My(o.createRenderer(null,this.componentDef),c,function(i){const e=i.toLowerCase();return"svg"===e?hM:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(i,e){return{components:[],scheduler:i||yC,clean:gB,playerHandler:e||null,flags:0}}(),f=ep(0,null,null,1,0,null,null,null,null,null),p=vd(null,f,h,d,null,null,o,l,a,s);let g,b;Af(p);try{const _=function(i,e,t,n,r,s){const o=t[1];t[20]=i;const l=nc(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(np(l,c,!0),null!==i&&(Lf(r,i,c),null!==l.classes&&Ay(r,i,l.classes),null!==l.styles&&BC(r,i,l.styles)));const u=n.createRenderer(i,e),d=vd(t,s1(e),null,e.onPush?64:16,t[20],l,n,u,s||null,null);return o.firstCreatePass&&(Vf(id(l,t),o,e.type),f1(o,l),p1(l,t.length,1)),tp(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(n)Lf(l,u,["ng-version",cz.full]);else{const{attrs:m,classes:w}=function(i){const e=[],t=[];let n=1,r=2;for(;n<i.length;){let s=i[n];if("string"==typeof s)2===r?""!==s&&e.push(s,i[++n]):8===r&&t.push(s);else{if(!Qr(r))break;r=s}n++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);m&&Lf(l,u,m),w&&w.length>0&&Ay(l,u,w.join(" "))}if(b=V_(f,20),void 0!==t){const m=b.projection=[];for(let w=0;w<this.ngContentSelectors.length;w++){const x=t[w];m.push(null!=x?Array.from(x):null)}}g=function(i,e,t,n,r){const s=t[1],o=function(i,e,t){const n=ri();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),m1(i,n,e,ic(i,e,1,null),t));const r=rd(e,i,n.directiveStart,n);Li(r,e);const s=Sr(n,e);return s&&Li(s,e),r}(s,t,e);if(n.components.push(o),i[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=ri();e.contentQueries(1,o,l.directiveStart)}const a=ri();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(zo(a.index),d1(t[1],a,0,a.directiveStart,a.directiveEnd,e),h1(e,o)),o}(_,this.componentDef,p,h,[OB]),bd(f,p,null)}finally{If()}return new mz(this.componentType,g,wc(b,p),p,b)}}class mz extends class{}{constructor(e,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new uz(r),this.componentType=e}get injector(){return new jl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class co{}class CS{}const Mc=new Map;class TS extends co{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wS(this);const n=Mr(e);this._bootstrapComponents=Ss(n.bootstrap),this._r3Injector=S1(e,t,[{provide:co,useValue:this},{provide:ao,useValue:this.componentFactoryResolver}],$t(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=gi.THROW_IF_NOT_FOUND,n=Mt.Default){return e===gi||e===co||e===Ky?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Sv extends CS{constructor(e){super(),this.moduleType=e,null!==Mr(e)&&function(i){const e=new Set;!function t(n){const r=Mr(n,!0),s=r.id;null!==s&&(function(i,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${i} - ${$t(e)} vs ${$t(e.name)}`)}(s,Mc.get(s),n),Mc.set(s,n));const o=Ss(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(i)}(e)}create(e){return new TS(this.moduleType,e)}}function Rs(i,e,t,n){return DS(ne(),Gi(),i,e,t,n)}function pp(i,e,t,n,r){return AS(ne(),Gi(),i,e,t,n,r)}function Pd(i,e){const t=i[e];return t===_t?void 0:t}function DS(i,e,t,n,r,s){const o=e+t;return Oi(i,o,r)?Ds(i,o+1,s?n.call(s,r):n(r)):Pd(i,o+1)}function AS(i,e,t,n,r,s,o){const a=e+t;return function(i,e,t,n){const r=Oi(i,e,t);return Oi(i,e+1,n)||r}(i,a,r,s)?Ds(i,a+2,o?n.call(o,r,s):n(r,s)):Pd(i,a+2)}function kd(i,e){const t=Yt();let n;const r=i+20;t.firstCreatePass?(n=function(i,e){if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];if(i===n.name)return n}}(e,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,n.onDestroy)):n=t.data[r];const s=n.factory||(n.factory=Pa(n.type)),o=No(T);try{const a=Nf(!1),l=s();return Nf(a),function(i,e,t,n){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=n}(t,ne(),r,l),l}finally{No(o)}}function mp(i,e,t,n){const r=i+20,s=ne(),o=zl(s,r);return Fd(s,r)?AS(s,Gi(),e,o.transform,t,n,o):o.transform(t,n)}function Fd(i,e){return i[1].data[e].pure}function Tv(i){return e=>{setTimeout(i,void 0,e)}}const $e=class extends Ke{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=Tv(l),a&&(a=Tv(a)),c&&(c=Tv(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof nt&&e.add(u),u}};function Rz(){return this._results[ac()]()}class Va{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ac(),n=Va.prototype;n[t]||(n[t]=Rz)}get changes(){return this._changes||(this._changes=new $e)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Tr(e);(this._changesDetected=!function(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],s=e[n];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hr=(()=>{class i{}return i.__NG_ELEMENT_ID__=Fz,i})();const Pz=hr,kz=class extends Pz{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=vd(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(n[19]=s.createEmbeddedView(t)),bd(t,n,e),new Rd(n)}};function Fz(){return gp(ri(),ne())}function gp(i,e){return 4&i.type?new kz(e,i,wc(i,e)):null}let qi=(()=>{class i{}return i.__NG_ELEMENT_ID__=Lz,i})();function Lz(){return OS(ri(),ne())}const Oz=qi,FS=class extends Oz{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return wc(this._hostTNode,this._hostLView)}get injector(){return new jl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bf(this._hostTNode,this._hostLView);if(RM(e)){const t=Wl(e,this._hostLView),n=Gl(e);return new jl(t[1].data[n+8],t)}return new jl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=LS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,s){const o=e&&!function(i){return"function"==typeof i}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,n=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new Ev(ki(e)),c=n||this.parentInjector;if(!s&&null==l.ngModule&&c){const d=c.get(co,null);d&&(s=d)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const n=e._lView,r=n[1];if(function(i){return Zr(i[3])}(n)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=n[3],h=new FS(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(i,e,t,n){const r=10+n,s=t.length;n>0&&(t[r-1][4]=e),n<s-10?(e[4]=t[r],zM(t,10+n,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(i),e[2]|=128}(r,n,o,s);const a=Ty(s,o),l=n[11],c=Yf(l,o[7]);return null!==c&&function(i,e,t,n,r,s){n[0]=r,n[6]=e,yd(i,n,t,1,r,s)}(r,o[6],l,n,c,a),e.attachToViewContainerRef(),zM(Dv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=LS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Cy(this._lContainer,t);n&&(zf(Dv(this._lContainer),t),SC(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Cy(this._lContainer,t);return n&&null!=zf(Dv(this._lContainer),t)?new Rd(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function LS(i){return i[8]}function Dv(i){return i[8]||(i[8]=[])}function OS(i,e){let t;const n=e[i.index];if(Zr(n))t=n;else{let r;if(8&i.type)r=Zn(n);else{const s=e[11];r=s.createComment("");const o=Sr(i,e);La(s,Yf(s,o),r,function(i,e){return On(i)?i.nextSibling(e):e.nextSibling}(s,o),!1)}e[i.index]=t=g1(n,e,r,i),tp(e,t)}return new FS(t,i,e)}class Av{constructor(e){this.queryList=e,this.matches=null}clone(){return new Av(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<n;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Iv(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zS(e,t).matches&&this.queries[t].setDirty()}}class NS{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Rv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new Rv(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Pv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Pv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(e,t,Vz(t,s)),this.matchTNodeWithReadOption(e,t,Hf(t,e,s,!1,!1))}else n===hr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hf(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===dt||r===qi||r===hr&&4&t.type)this.addMatch(t.index,-2);else{const s=Hf(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Vz(i,e){const t=i.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1];return null}function zz(i,e,t,n){return-1===t?function(i,e){return 11&i.type?wc(i,e):4&i.type?gp(i,e):null}(e,i):-2===t?function(i,e,t){return t===dt?wc(e,i):t===hr?gp(e,i):t===qi?OS(e,i):void 0}(i,e,n):rd(i,i[1],t,e)}function BS(i,e,t,n){const r=e[19].queries[n];if(null===r.matches){const s=i.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:zz(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function kv(i,e,t,n){const r=i.queries.getByIndex(t),s=r.matches;if(null!==s){const o=BS(i,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&kv(h[1],h,c,n)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];kv(f[1],f,c,n)}}}}}return n}function Ne(i){const e=ne(),t=Yt(),n=xM();$_(n+1);const r=zS(t,n);if(i.dirty&&mM(e)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const s=r.crossesNgTemplate?kv(t,e,n,[]):BS(t,e,r,n);i.reset(s,sz),i.notifyOnChanges()}return!0}return!1}function Vt(i,e,t){const n=Yt();n.firstCreatePass&&(HS(n,new NS(i,e,t),-1),2==(2&e)&&(n.staticViewQueries=!0)),VS(n,ne(),e)}function cn(i,e,t,n){const r=Yt();if(r.firstCreatePass){const s=ri();HS(r,new NS(e,t,n),s.index),function(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(r,i),2==(2&t)&&(r.staticContentQueries=!0)}VS(r,ne(),t)}function Be(){return function(i,e){return i[19].queries[e].queryList}(ne(),xM())}function VS(i,e,t){const n=new Va(4==(4&t));l1(i,e,n,n.destroy),null===e[19]&&(e[19]=new Iv),e[19].queries.push(new Av(n))}function HS(i,e,t){null===i.queries&&(i.queries=new Rv),i.queries.track(new Pv(e,t))}function zS(i,e){return i.queries.getByIndex(e)}function vp(...i){}const bp=new we("Application Initializer");let Ec=(()=>{class i{constructor(t){this.appInits=t,this.resolve=vp,this.reject=vp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Cd(s))t.push(s);else if(uv(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{n()}).catch(r=>{this.reject(r)}),0===t.length&&n(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(X(bp,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const Od=new we("AppId"),cU={provide:Od,useFactory:function(){return`${Vv()}${Vv()}${Vv()}`},deps:[]};function Vv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rT=new we("Platform Initializer"),xp=new we("Platform ID"),sT=new we("appBootstrapListener");let oT=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const uo=new we("LocaleId"),aT=new we("DefaultCurrencyCode");class uU{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let wp=(()=>{class i{compileModuleSync(t){return new Sv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=Ss(Mr(t).declarations).reduce((o,a)=>{const l=ki(a);return l&&o.push(new Ev(l)),o},[]);return new uU(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const hU=(()=>Promise.resolve(0))();function Hv(i){"undefined"==typeof Zone?hU.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class rt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let i=dn.requestAnimationFrame,e=dn.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(i){const e=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(dn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Uv(i),i.isCheckStableRunning=!0,zv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Uv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,s,o,a)=>{try{return lT(i),t.invokeTask(r,s,o,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||i.shouldCoalesceRunChangeDetection)&&e(),cT(i)}},onInvoke:(t,n,r,s,o,a,l)=>{try{return lT(i),t.invoke(r,s,o,a,l)}finally{i.shouldCoalesceRunChangeDetection&&e(),cT(i)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(i._hasPendingMicrotasks=s.microTask,Uv(i),zv(i)):"macroTask"==s.change&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,pU,vp,vp);try{return s.runTask(o,t,n)}finally{s.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const pU={};function zv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Uv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function lT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function cT(i){i._nesting--,zv(i)}class _U{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Gv=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),Hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,n,r){return[]}}return i.\u0275fac=function(t){return new(t||i)(X(rt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})(),uT=(()=>{class i{constructor(){this._applications=new Map,Wv.addToWindow(this)}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return Wv.findTestabilityInTree(this,t,n)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();class yU{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let is,Wv=new yU;const dT=new we("AllowMultipleToken");class hT{constructor(e,t){this.name=e,this.token=t}}function fT(i,e,t=[]){const n=`Platform: ${e}`,r=new we(n);return(s=[])=>{let o=pT();if(!o||o.injector.get(dT,!1))if(i)i(t.concat(s).concat({provide:r,useValue:!0}));else{const a=t.concat(s).concat({provide:r,useValue:!0},{provide:Qy,useValue:"platform"});!function(i){if(is&&!is.destroyed&&!is.injector.get(dT,!1))throw new nr("400","");is=i.get(mT);const e=i.get(rT,null);e&&e.forEach(t=>t())}(gi.create({providers:a,name:n}))}return function(i){const e=pT();if(!e)throw new nr("401","");return e}()}}function pT(){return is&&!is.destroyed?is:null}let mT=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const a=function(i,e){let t;return t="noop"===i?new _U:("zone.js"===i?void 0:i)||new rt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(n?n.ngZone:void 0,{ngZoneEventCoalescing:n&&n.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:n&&n.ngZoneRunCoalescing||!1}),l=[{provide:rt,useValue:a}];return a.run(()=>{const c=gi.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(io,null);if(!d)throw new nr("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{jv(this._modules,u),h.unsubscribe()})}),function(i,e,t){try{const n=t();return Cd(n)?n.catch(r=>{throw e.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}(d,a,()=>{const h=u.injector.get(Ec);return h.runInitializers(),h.donePromise.then(()=>(function(i){rr(i,"Expected localeId to be defined"),"string"==typeof i&&(XE=i.toLowerCase().replace(/_/g,"-"))}(u.injector.get(uo,lp)||lp),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,n=[]){const r=gT({},n);return function(i,e,t){const n=new Sv(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const n=t.injector.get(Sc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new nr("403","");t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nr("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(X(gi))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();function gT(i,e){return Array.isArray(e)?e.reduce(gT,i):Object.assign(Object.assign({},i),e)}let Sc=(()=>{class i{constructor(t,n,r,s,o){this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new He(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new He(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),Hv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=vs(a,l.pipe(Kw()))}bootstrap(t,n){if(!this._initStatus.done)throw new nr("405","");let r;r=t instanceof bS?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function(i){return i.isBoundToModule}(r)?void 0:this._injector.get(co),a=r.create(gi.NULL,[],n||r.selector,s),l=a.location.nativeElement,c=a.injector.get(Gv,null),u=c&&a.injector.get(uT);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),jv(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new nr("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;jv(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(sT,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(X(rt),X(gi),X(io),X(ao),X(Ec))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();function jv(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let yT=!0,Vn=(()=>{class i{}return i.__NG_ELEMENT_ID__=AU,i})();function AU(i){return function(i,e,t){if(Cf(i)&&!t){const n=or(i.index,e);return new Rd(n,n)}return 47&i.type?new Rd(e[16],e):null}(ri(),ne(),16==(16&i))}class ET{constructor(){}supports(e){return wd(e)}create(e){return new OU(e)}}const LU=(i,e)=>e;class OU{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||LU}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const o=!n||t&&t.currentIndex<TT(n,r,s)?t:n,a=TT(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wd(e))throw new Error(`Error trying to diff '${$t(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),n=!0),t=t._next}else r=0,function(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[ac()]();let n;for(;!(n=t.next()).done;)e(n.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),n=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new NU(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ST),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ST),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class NU{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BU{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ST{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new BU,this.map.set(t,n)),n.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TT(i,e,t){const n=i.previousIndex;if(null===n)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+e+r}class DT{constructor(){}supports(e){return e instanceof Map||rv(e)}create(){return new VU}}class VU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||rv(e)))throw new Error(`Error trying to diff '${$t(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new HU(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class HU{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AT(){return new Nd([new ET])}let Nd=(()=>{class i{constructor(t){this.factories=t}static create(t,n){if(null!=n){const r=n.factories.slice();t=t.concat(r)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||AT()),deps:[[i,new ka,new lr]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(null!=n)return n;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'`)}}return i.\u0275prov=Fe({token:i,providedIn:"root",factory:AT}),i})();function IT(){return new Tc([new DT])}let Tc=(()=>{class i{constructor(t){this.factories=t}static create(t,n){if(n){const r=n.factories.slice();t=t.concat(r)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||IT()),deps:[[i,new ka,new lr]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(n)return n;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return i.\u0275prov=Fe({token:i,providedIn:"root",factory:IT}),i})();const UU=[new DT],WU=new Nd([new ET]),jU=new Tc(UU),$U=fT(null,"core",[{provide:xp,useValue:"unknown"},{provide:mT,deps:[gi]},{provide:uT,deps:[]},{provide:oT,deps:[]}]),KU=[{provide:Sc,useClass:Sc,deps:[rt,gi,io,ao,Ec]},{provide:hz,deps:[rt],useFactory:function(i){let e=[];return i.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ec,useClass:Ec,deps:[[new lr,bp]]},{provide:wp,useClass:wp,deps:[]},cU,{provide:Nd,useFactory:function(){return WU},deps:[]},{provide:Tc,useFactory:function(){return jU},deps:[]},{provide:uo,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||lp},deps:[[new dd(uo),new lr,new ka]]},{provide:aT,useValue:"USD"}];let JU=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(X(Sc))},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({providers:KU}),i})(),Cp=null;function rs(){return Cp}const yt=new we("DocumentToken");let za=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:function(){return X(RT)},providedIn:"platform"}),i})();const s4=new we("Location Initialized");let RT=(()=>{class i extends za{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rs().getBaseHref(this._doc)}onPopState(t){const n=rs().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=rs().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,n,r){PT()?this._history.pushState(t,n,r):this.location.hash=r}replaceState(t,n,r){PT()?this._history.replaceState(t,n,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:function(){return new RT(X(yt))},providedIn:"platform"}),i})();function PT(){return!!window.history.pushState}function Zv(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function kT(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function ho(i){return i&&"?"!==i[0]?"?"+i:i}let Dc=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:function(){return function(i){const e=X(yt).location;return new FT(X(za),e&&e.origin||"")}()},providedIn:"root"}),i})();const Kv=new we("appBaseHref");let FT=(()=>{class i extends Dc{constructor(t,n){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==n&&(n=this._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Zv(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+ho(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${n}${r}`:n}pushState(t,n,r,s){const o=this.prepareExternalUrl(r+ho(s));this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){const o=this.prepareExternalUrl(r+ho(s));this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformLocation).historyGo)||void 0===r||r.call(n,t)}}return i.\u0275fac=function(t){return new(t||i)(X(za),X(Kv,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})(),l4=(()=>{class i extends Dc{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=Zv(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,r,s){let o=this.prepareExternalUrl(r+ho(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){let o=this.prepareExternalUrl(r+ho(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformLocation).historyGo)||void 0===r||r.call(n,t)}}return i.\u0275fac=function(t){return new(t||i)(X(za),X(Kv,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})(),Ep=(()=>{class i{constructor(t,n){this._subject=new $e,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=kT(LT(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+ho(n))}normalize(t){return i.stripTrailingSlash(function(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,LT(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,n="",r=null){this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ho(n)),r)}replaceState(t,n="",r=null){this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ho(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformStrategy).historyGo)||void 0===r||r.call(n,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}))}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(r=>r(t,n))}subscribe(t,n,r){return this._subject.subscribe({next:t,error:n,complete:r})}}return i.normalizeQueryParams=ho,i.joinWithSlash=Zv,i.stripTrailingSlash=kT,i.\u0275fac=function(t){return new(t||i)(X(Dc),X(za))},i.\u0275prov=Fe({token:i,factory:function(){return new Ep(X(Dc),X(za))},providedIn:"root"}),i})();function LT(i){return i.replace(/\/index.html$/,"")}var er=(()=>((er=er||{})[er.Decimal=0]="Decimal",er[er.Percent=1]="Percent",er[er.Currency=2]="Currency",er[er.Scientific=3]="Scientific",er))(),Kn=(()=>((Kn=Kn||{})[Kn.Zero=0]="Zero",Kn[Kn.One=1]="One",Kn[Kn.Two=2]="Two",Kn[Kn.Few=3]="Few",Kn[Kn.Many=4]="Many",Kn[Kn.Other=5]="Other",Kn))(),et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Group=1]="Group",et[et.List=2]="List",et[et.PercentSign=3]="PercentSign",et[et.PlusSign=4]="PlusSign",et[et.MinusSign=5]="MinusSign",et[et.Exponential=6]="Exponential",et[et.SuperscriptingExponent=7]="SuperscriptingExponent",et[et.PerMille=8]="PerMille",et[et.Infinity=9]="Infinity",et[et.NaN=10]="NaN",et[et.TimeSeparator=11]="TimeSeparator",et[et.CurrencyDecimal=12]="CurrencyDecimal",et[et.CurrencyGroup=13]="CurrencyGroup",et))();function Pr(i,e){const t=$i(i),n=t[Re.NumberSymbols][e];if(void 0===n){if(e===et.CurrencyDecimal)return t[Re.NumberSymbols][et.Decimal];if(e===et.CurrencyGroup)return t[Re.NumberSymbols][et.Group]}return n}const _4=function(i){return $i(i)[Re.PluralCase]},O4=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function sb(i){const e=parseInt(i);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+i);return e}class Lp{}let $4=(()=>{class i extends Lp{constructor(t){super(),this.locale=t}getPluralCategory(t,n){switch(_4(n||this.locale)(t)){case Kn.Zero:return"zero";case Kn.One:return"one";case Kn.Two:return"two";case Kn.Few:return"few";case Kn.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(X(uo))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})(),Ac=(()=>{class i{constructor(t,n,r,s){this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(wd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${$t(n.item)}`);this._toggleClass(n.item,!0)}),t.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!0)):Object.keys(t).forEach(n=>this._toggleClass(n,!!t[n])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!1)):Object.keys(t).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(t,n){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return i.\u0275fac=function(t){return new(t||i)(T(Nd),T(Tc),T(dt),T(lo))},i.\u0275dir=Te({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class X4{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qo=(()=>{class i{constructor(t,n,r){this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new X4(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const a=n.get(s);n.move(a,o),WT(a,r)}});for(let r=0,s=n.length;r<s;r++){const a=n.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{WT(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,n){return!0}}return i.\u0275fac=function(t){return new(t||i)(T(qi),T(hr),T(Nd))},i.\u0275dir=Te({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function WT(i,e){i.context.$implicit=e.item}let tr=(()=>{class i{constructor(t,n){this._viewContainer=t,this._context=new Z4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}}return i.\u0275fac=function(t){return new(t||i)(T(qi),T(hr))},i.\u0275dir=Te({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Z4{constructor(){this.$implicit=null,this.ngIf=null}}function jT(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${$t(e)}'.`)}class ob{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Hd=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const n=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let n=0;n<this._defaultViews.length;n++)this._defaultViews[n].enforceState(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),ab=(()=>{class i{constructor(t,n,r){this.ngSwitch=r,r._addCase(),this._view=new ob(t,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(t){return new(t||i)(T(qi),T(hr),T(Hd,9))},i.\u0275dir=Te({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),$T=(()=>{class i{constructor(t,n,r){r._addDefault(new ob(t,n))}}return i.\u0275fac=function(t){return new(t||i)(T(qi),T(hr),T(Hd,9))},i.\u0275dir=Te({type:i,selectors:[["","ngSwitchDefault",""]]}),i})(),lb=(()=>{class i{constructor(t,n,r){this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[r,s]=t.split(".");null!=(n=null!=n&&s?`${n}${s}`:n)?this._renderer.setStyle(this._ngEl.nativeElement,r,n):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Tc),T(lo))},i.\u0275dir=Te({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();function os(i,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${$t(i)}'`)}class J4{createSubscription(e,t){return e.subscribe({next:t,error:n=>{throw n}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class e5{createSubscription(e,t){return e.then(t,n=>{throw n})}dispose(e){}onDestroy(e){}}const t5=new e5,n5=new J4;let YT=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(Cd(t))return t5;if(oE(t))return n5;throw os(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(T(Vn,16))},i.\u0275pipe=Qi({name:"async",type:i,pure:!1}),i})(),ZT=(()=>{class i{constructor(t){this._locale=t}transform(t,n,r){if(!function(i){return!(null==i||""===i||i!=i)}(t))return null;r=r||this._locale;try{return function(i,e,t){return function(i,e,t,n,r,s,o=!1){let a="",l=!1;if(isFinite(i)){let c=function(i){let n,r,s,o,a,e=Math.abs(i)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))n=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(e.charAt(s))}return r>22&&(n=n.splice(0,21),t=r-1,r=1),{digits:n,exponent:t,integerLen:r}}(i);o&&(c=function(i){if(0===i.digits[0])return i;const e=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===e?i.digits.push(0,0):1===e&&i.digits.push(0),i.integerLen+=2),i}(c));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const m=s.match(O4);if(null===m)throw new Error(`${s} is not a valid digit info`);const w=m[1],x=m[3],C=m[5];null!=w&&(u=sb(w)),null!=x&&(d=sb(x)),null!=C?h=sb(C):null!=x&&d>h&&(h=d)}!function(i,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let n=i.digits,r=n.length-i.integerLen;const s=Math.min(Math.max(e,r),t);let o=s+i.integerLen,a=n[o];if(o>0){n.splice(Math.max(i.integerLen,o));for(let d=o;d<n.length;d++)n[d]=0}else{r=Math.max(0,r),i.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let d=1;d<o;d++)n[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)n.unshift(0),i.integerLen++;n.unshift(1),i.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let l=0!==s;const c=e+i.integerLen,u=n.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(n.unshift(u),i.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const g=c.exponent;let b=[];for(l=f.every(m=>!m);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?b=f.splice(p,f.length):(b=f,f=[0]);const _=[];for(f.length>=e.lgSize&&_.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)_.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&_.unshift(f.join("")),a=_.join(Pr(t,n)),b.length&&(a+=Pr(t,r)+b.join("")),g&&(a+=Pr(t,et.Exponential)+"+"+g)}else a=Pr(t,et.Infinity);return a=i<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(i,function(i,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=i.split(";"),r=n[0],s=n[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substr(0,d).replace(/'/g,""),t.negSuf=s.substr(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(i,e){return $i(i)[Re.NumberFormats][e]}(e,er.Decimal),Pr(e,et.MinusSign)),e,et.Group,et.Decimal,t)}(function(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(t),r,n)}catch(s){throw os(i,s.message)}}}return i.\u0275fac=function(t){return new(t||i)(T(uo,16))},i.\u0275pipe=Qi({name:"number",type:i,pure:!0}),i})();let fr=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({providers:[{provide:Lp,useClass:$4}]}),i})();const KT="browser";let M5=(()=>{class i{}return i.\u0275prov=Fe({token:i,providedIn:"root",factory:()=>new C5(X(yt),window)}),i})();class C5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=QT(this.window.history)||QT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function QT(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class db extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(i){Cp||(Cp=i)}(new db)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(zd=zd||document.querySelector("base"),zd?zd.getAttribute("href"):null);return null==t?null:function(i){Op=Op||document.createElement("a"),Op.setAttribute("href",i);const e=Op.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const n=t.indexOf("="),[r,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Op,zd=null;const JT=new we("TRANSITION_ID"),R5=[{provide:bp,useFactory:function(i,e,t){return()=>{t.get(Ec).donePromise.then(()=>{const n=rs(),r=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let s=0;s<r.length;s++)n.remove(r[s])})}},deps:[JT,yt,gi],multi:!0}];class hb{static init(){!function(i){Wv=i}(new hb)}addToWindow(e){dn.getAngularTestability=(n,r=!0)=>{const s=e.findTestabilityInTree(n,r);if(null==s)throw new Error("Could not find testability for element.");return s},dn.getAllAngularTestabilities=()=>e.getAllTestabilities(),dn.getAllAngularRootElements=()=>e.getAllRootElements(),dn.frameworkStabilizers||(dn.frameworkStabilizers=[]),dn.frameworkStabilizers.push(n=>{const r=dn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&n(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?rs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let P5=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const Np=new we("EventManagerPlugins");let Bp=(()=>{class i{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,n,r){return this._findPluginFor(n).addEventListener(t,n,r)}addGlobalEventListener(t,n,r){return this._findPluginFor(n).addGlobalEventListener(t,n,r)}getZone(){return this._zone}_findPluginFor(t){const n=this._eventNameToPlugin.get(t);if(n)return n;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(X(Np),X(rt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();class eD{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=rs().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let tD=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const n=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),n.add(r))}),this.onStylesAdded(n)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})(),Ud=(()=>{class i extends tD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,n,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(n.appendChild(o))})}addHost(t){const n=[];this._addStylesToHost(this._stylesSet,t,n),this._hostNodes.set(t,n)}removeHost(t){const n=this._hostNodes.get(t);n&&n.forEach(nD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((n,r)=>{this._addStylesToHost(t,r,n)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nD))}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();function nD(i){rs().remove(i)}const fb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pb=/%COMP%/g;function Vp(i,e,t){for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?Vp(i,r,t):(r=r.replace(pb,i),t.push(r))}return t}function sD(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hp=(()=>{class i{constructor(t,n,r){this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new mb(t)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;switch(n.encapsulation){case Yr.Emulated:{let r=this.rendererByCompId.get(n.id);return r||(r=new B5(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,r)),r.applyToHost(t),r}case 1:case Yr.ShadowDom:return new V5(this.eventManager,this.sharedStylesHost,t,n);default:if(!this.rendererByCompId.has(n.id)){const r=Vp(n.id,n.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(X(Bp),X(Ud),X(Od))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();class mb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(fb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=fb[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=fb[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(ur.DashCase|ur.Important)?e.style.setProperty(t,n,r&ur.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,sD(n)):this.eventManager.addEventListener(e,t,sD(n))}}class B5 extends mb{constructor(e,t,n,r){super(e),this.component=n;const s=Vp(r+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr=function(i){return"_ngcontent-%COMP%".replace(pb,i)}(r+"-"+n.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(pb,i)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class V5 extends mb{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Vp(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let H5=(()=>{class i extends eD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,r){return t.addEventListener(n,r,!1),()=>this.removeEventListener(t,n,r)}removeEventListener(t,n,r){return t.removeEventListener(n,r)}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const aD=["alt","control","meta","shift"],U5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lD={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},G5={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let W5=(()=>{class i extends eD{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,n,r){const s=i.parseEventName(n),o=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=i._normalizeKey(n.pop());let o="";if(aD.forEach(l=>{const c=n.indexOf(l);c>-1&&(n.splice(c,1),o+=l+".")}),o+=s,0!=n.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let n="",r=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&lD.hasOwnProperty(e)&&(e=lD[e]))}return U5[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),aD.forEach(s=>{s!=r&&G5[s](t)&&(n+=s+".")}),n+=r,n}static eventCallback(t,n,r){return s=>{i.getEventFullKey(s)===t&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const X5=fT($U,"browser",[{provide:xp,useValue:KT},{provide:rT,useValue:function(){db.makeCurrent(),hb.init()},multi:!0},{provide:yt,useFactory:function(){return function(i){N_=i}(document),document},deps:[]}]),Z5=[{provide:Qy,useValue:"root"},{provide:io,useFactory:function(){return new io},deps:[]},{provide:Np,useClass:H5,multi:!0,deps:[yt,rt,xp]},{provide:Np,useClass:W5,multi:!0,deps:[yt]},{provide:Hp,useClass:Hp,deps:[Bp,Ud,Od]},{provide:Id,useExisting:Hp},{provide:tD,useExisting:Ud},{provide:Ud,useClass:Ud,deps:[yt]},{provide:Gv,useClass:Gv,deps:[rt]},{provide:Bp,useClass:Bp,deps:[Np,rt]},{provide:class{},useClass:P5,deps:[]}];let cD=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:Od,useValue:t.appId},{provide:JT,useExisting:Od},R5]}}}return i.\u0275fac=function(t){return new(t||i)(X(i,12))},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({providers:Z5,imports:[fr,JU]}),i})(),uD=(()=>{class i{constructor(t){this._doc=t,this._dom=rs()}addTag(t,n=!1){return t?this._getOrCreateElement(t,n):null}addTags(t,n=!1){return t?t.reduce((r,s)=>(s&&r.push(this._getOrCreateElement(s,n)),r),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const n=this._doc.querySelectorAll(`meta[${t}]`);return n?[].slice.call(n):[]}updateTag(t,n){if(!t)return null;n=n||this._parseSelector(t);const r=this.getTag(n);return r?this._setMetaElementAttributes(t,r):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,n=!1){if(!n){const o=this._parseSelector(t),a=this.getTags(o).filter(l=>this._containsAttributes(t,l))[0];if(void 0!==a)return a}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(t,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(t,n){return Object.keys(t).forEach(r=>n.setAttribute(this._getMetaKeyMap(r),t[r])),n}_parseSelector(t){const n=t.name?"name":"property";return`${n}="${t[n]}"`}_containsAttributes(t,n){return Object.keys(t).every(r=>n.getAttribute(this._getMetaKeyMap(r))===t[r])}_getMetaKeyMap(t){return Q5[t]||t}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:function(t){let n=null;return n=t?new t:new uD(X(yt)),n},providedIn:"root"}),i})();const Q5={httpEquiv:"http-equiv"};let dD=(()=>{class i{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:function(t){let n=null;return n=t?new t:new dD(X(yt)),n},providedIn:"root"}),i})();"undefined"!=typeof window&&window;let _b=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:function(t){let n=null;return n=t?new(t||i):X(pD),n},providedIn:"root"}),i})(),pD=(()=>{class i extends _b{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case en.NONE:return n;case en.HTML:return Cs(n,"HTML")?cr(n):uC(this._doc,String(n)).toString();case en.STYLE:return Cs(n,"Style")?cr(n):n;case en.SCRIPT:if(Cs(n,"Script"))return cr(n);throw new Error("unsafe value used in a script context");case en.URL:return nC(n),Cs(n,"URL")?cr(n):fd(String(n));case en.RESOURCE_URL:if(Cs(n,"ResourceURL"))return cr(n);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(i){return new uN(i)}(t)}bypassSecurityTrustStyle(t){return function(i){return new dN(i)}(t)}bypassSecurityTrustScript(t){return function(i){return new hN(i)}(t)}bypassSecurityTrustUrl(t){return function(i){return new fN(i)}(t)}bypassSecurityTrustResourceUrl(t){return function(i){return new pN(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:function(t){let n=null;return n=t?new t:function(i){return new pD(i.get(yt))}(X(gi)),n},providedIn:"root"}),i})();function mD(...i){if(1===i.length){const e=i[0];if(Ln(e))return zp(e,null);if(Xs(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return zp(t.map(n=>e[n]),t)}}if("function"==typeof i[i.length-1]){const e=i.pop();return zp(i=1===i.length&&Ln(i[0])?i[0]:i,null).pipe(ft(t=>e(...t)))}return zp(i,null)}function zp(i,e){return new He(t=>{const n=i.length;if(0===n)return void t.complete();const r=new Array(n);let s=0,o=0;for(let a=0;a<n;a++){const l=Pi(i[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,o++),r[a]=u},error:u=>t.error(u),complete:()=>{s++,(s===n||!c)&&(o===n&&t.next(e?e.reduce((u,d,h)=>(u[d]=r[h],u),{}):r),t.complete())}}))}})}let gD=(()=>{class i{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(T(lo),T(dt))},i.\u0275dir=Te({type:i}),i})(),Ua=(()=>{class i extends gD{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=wi(i)))(n||i)}}(),i.\u0275dir=Te({type:i,features:[Je]}),i})();const pr=new we("NgValueAccessor"),cG={provide:pr,useExisting:qt(()=>Ga),multi:!0},dG=new we("CompositionEventMode");let Ga=(()=>{class i extends gD{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=rs()?rs().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(T(lo),T(dt),T(dG,8))},i.\u0275dir=Te({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,n){1&t&&ue("input",function(s){return n._handleInput(s.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(s){return n._compositionEnd(s.target.value)})},features:[Ut([cG]),Je]}),i})();function Xo(i){return null==i||0===i.length}function yD(i){return null!=i&&"number"==typeof i.length}const Mi=new we("NgValidators"),Zo=new we("NgAsyncValidators"),hG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vD{static min(e){return bD(e)}static max(e){return xD(e)}static required(e){return function(i){return Xo(i.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return function(i){return Xo(i.value)||hG.test(i.value)?null:{email:!0}}(e)}static minLength(e){return function(i){return e=>Xo(e.value)||!yD(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(i){return e=>yD(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(i){if(!i)return Gd;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),n=>{if(Xo(n.value))return null;const r=n.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return kD(e)}static composeAsync(e){return FD(e)}}function bD(i){return e=>{if(Xo(e.value)||Xo(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}function xD(i){return e=>{if(Xo(e.value)||Xo(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}function Gd(i){return null}function DD(i){return null!=i}function AD(i){const e=Cd(i)?Pi(i):i;return uv(e),e}function ID(i){let e={};return i.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function RD(i,e){return e.map(t=>t(i))}function PD(i){return i.map(e=>function(i){return!i.validate}(e)?e:t=>e.validate(t))}function kD(i){if(!i)return null;const e=i.filter(DD);return 0==e.length?null:function(t){return ID(RD(t,e))}}function yb(i){return null!=i?kD(PD(i)):null}function FD(i){if(!i)return null;const e=i.filter(DD);return 0==e.length?null:function(t){return mD(RD(t,e).map(AD)).pipe(ft(ID))}}function vb(i){return null!=i?FD(PD(i)):null}function LD(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function OD(i){return i._rawValidators}function ND(i){return i._rawAsyncValidators}function bb(i){return i?Array.isArray(i)?i:[i]:[]}function Up(i,e){return Array.isArray(i)?i.includes(e):i===e}function BD(i,e){const t=bb(e);return bb(i).forEach(r=>{Up(t,r)||t.push(r)}),t}function VD(i,e){return bb(e).filter(t=>!Up(i,t))}class HD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ps extends HD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xi extends HD{get formDirective(){return null}get path(){return null}}let Wd=(()=>{class i extends class{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(T(Ps,2))},i.\u0275dir=Te({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,n){2&t&&Lt("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[Je]}),i})();function jd(i,e){Mb(i,e),e.valueAccessor.writeValue(i.value),function(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&UD(i,e)})}(i,e),function(i,e){const t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&UD(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function(i,e){if(e.valueAccessor.setDisabledState){const t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function jp(i,e,t=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),qp(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function $p(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mb(i,e){const t=OD(i);null!==e.validator?i.setValidators(LD(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const n=ND(i);null!==e.asyncValidator?i.setAsyncValidators(LD(n,e.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();$p(e._rawValidators,r),$p(e._rawAsyncValidators,r)}function qp(i,e){let t=!1;if(null!==i){if(null!==e.validator){const r=OD(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,i.setValidators(s))}}if(null!==e.asyncValidator){const r=ND(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,i.setAsyncValidators(s))}}}const n=()=>{};return $p(e._rawValidators,n),$p(e._rawAsyncValidators,n),t}function UD(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function GD(i,e){Mb(i,e)}function WD(i,e){i._syncPendingControls(),e.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Yp(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const $d="VALID",Xp="INVALID",Ic="PENDING",qd="DISABLED";function Sb(i){return(Db(i)?i.validators:i)||null}function jD(i){return Array.isArray(i)?yb(i):i||null}function Tb(i,e){return(Db(e)?e.asyncValidators:i)||null}function $D(i){return Array.isArray(i)?vb(i):i||null}function Db(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Ab{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=jD(this._rawValidators),this._composedAsyncValidatorFn=$D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$d}get invalid(){return this.status===Xp}get pending(){return this.status==Ic}get disabled(){return this.status===qd}get enabled(){return this.status!==qd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=jD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$D(e)}addValidators(e){this.setValidators(BD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VD(e,this._rawAsyncValidators))}hasValidator(e){return Up(this._rawValidators,e)}hasAsyncValidator(e){return Up(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ic,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qd,this.errors=null,this._forEachChild(n=>{n.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$d,this._forEachChild(n=>{n.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$d||this.status===Ic)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qd:$d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ic,this._hasOwnPendingAsyncValidator=!0;const t=AD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(i,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let n=i;return e.forEach(r=>{n=n instanceof Ib?n.controls.hasOwnProperty(r)?n.controls[r]:null:n instanceof SG&&n.at(r)||null}),n}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?qd:this.errors?Xp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ic)?Ic:this._anyControlsHaveStatus(Xp)?Xp:$d}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Db(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Zp extends Ab{constructor(e=null,t,n){super(Sb(t),Tb(n,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ib extends Ab{constructor(e,t,n){super(Sb(t),Tb(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Zp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((r,s)=>{n=t(n,r,s)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class SG extends Ab{constructor(e,t,n){super(Sb(t),Tb(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((n,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Zp?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const TG={provide:Xi,useExisting:qt(()=>Xd)},Yd=(()=>Promise.resolve(null))();let Xd=(()=>{class i extends Xi{constructor(t,n){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new $e,this.form=new Ib({},yb(t),vb(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Yd.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),jd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Yd.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),Yp(this._directives,t)})}addFormGroup(t){Yd.then(()=>{const n=this._findContainer(t.path),r=new Ib({});GD(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Yd.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Yd.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,WD(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return i.\u0275fac=function(t){return new(t||i)(T(Mi,10),T(Zo,10))},i.\u0275dir=Te({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,n){1&t&&ue("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([TG]),Je]}),i})();const AG={provide:Ps,useExisting:qt(()=>Rc)},XD=(()=>Promise.resolve(null))();let Rc=(()=>{class i extends Ps{constructor(t,n,r,s){super(),this.control=new Zp,this._registered=!1,this.update=new $e,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function(i,e){if(!e)return null;let t,n,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Ga?t=s:function(i){return Object.getPrototypeOf(i.constructor)===Ua}(s)?n=s:r=s}),r||n||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,e){return[...e.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){XD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;XD.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(t){return new(t||i)(T(Xi,9),T(Mi,10),T(Zo,10),T(pr,10))},i.\u0275dir=Te({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([AG]),Je,ii]}),i})();const RG={provide:pr,useExisting:qt(()=>Zd),multi:!0};let Zd=(()=>{class i extends Ua{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=wi(i)))(n||i)}}(),i.\u0275dir=Te({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,n){1&t&&ue("input",function(s){return n.onChange(s.target.value)})("blur",function(){return n.onTouched()})},features:[Ut([RG]),Je]}),i})(),ZD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({}),i})();const OG={provide:Xi,useExisting:qt(()=>Kd)};let Kd=(()=>{class i extends Xi{constructor(t,n){super(),this.validators=t,this.asyncValidators=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $e,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return jd(n,t),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){jp(t.control||null,t,!1),Yp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,WD(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,r=this.form.get(t.path);n!==r&&(jp(n||null,t),r instanceof Zp&&(jd(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);GD(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function(i,e){return qp(i,e)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mb(this.form,this),this._oldForm&&qp(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(T(Mi,10),T(Zo,10))},i.\u0275dir=Te({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,n){1&t&&ue("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([OG]),Je,ii]}),i})();function oA(i){return"number"==typeof i?i:parseFloat(i)}let Kp=(()=>{class i{constructor(){this._validator=Gd}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(n):Gd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(){return null!=this[this.inputName]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i,features:[ii]}),i})();const $G={provide:Mi,useExisting:qt(()=>Lb),multi:!0};let Lb=(()=>{class i extends Kp{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>oA(t),this.createValidator=t=>xD(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=wi(i)))(n||i)}}(),i.\u0275dir=Te({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,n){2&t&&tn("max",n.enabled()?n.max:null)},inputs:{max:"max"},features:[Ut([$G]),Je]}),i})();const qG={provide:Mi,useExisting:qt(()=>Ob),multi:!0};let Ob=(()=>{class i extends Kp{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>oA(t),this.createValidator=t=>bD(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=wi(i)))(n||i)}}(),i.\u0275dir=Te({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,n){2&t&&tn("min",n.enabled()?n.min:null)},inputs:{min:"min"},features:[Ut([qG]),Je]}),i})(),e8=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[ZD]]}),i})(),t8=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[e8]}),i})();function Qe(...i){let e=i[i.length-1];return Oo(e)?(i.pop(),qu(i,e)):_f(i)}class Fr extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Tn;return this._value}next(e){super.next(this._value=e)}}class n8 extends at{notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class i8 extends at{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function r8(i,e,t,n,r=new i8(i,t,n)){if(!r.closed)return e instanceof He?e.subscribe(r):Rl(e)(r)}const dA={};class o8{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new a8(e,this.resultSelector))}}class a8 extends n8{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(dA),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(r8(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,o=this.toRespond?r[n]===dA?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Qp=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function Vb(...i){return Xu(1)(Qe(...i))}const Wa=new He(i=>i.complete());function Jp(i){return i?function(i){return new He(e=>i.schedule(()=>e.complete()))}(i):Wa}function Hb(i){return new He(e=>{let t;try{t=i()}catch(r){return void e.error(r)}return(t?Pi(t):Jp()).subscribe(e)})}function as(i,e){return"function"==typeof e?t=>t.pipe(as((n,r)=>Pi(i(n,r)).pipe(ft((s,o)=>e(n,s,r,o))))):t=>t.lift(new u8(i))}class u8{constructor(e){this.project=e}call(e,t){return t.subscribe(new d8(e,this.project))}}class d8 extends Fl{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new kl(this),r=this.destination;r.add(n),this.innerSubscription=Ll(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const hA=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Lr(i){return e=>0===i?Jp():e.lift(new h8(i))}class h8{constructor(e){if(this.total=e,this.total<0)throw new hA}call(e,t){return t.subscribe(new f8(e,this.total))}}class f8 extends at{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Or(...i){const e=i[i.length-1];return Oo(e)?(i.pop(),t=>Vb(i,t,e)):t=>Vb(i,t)}function fA(i,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new p8(i,e,t))}}class p8{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new m8(e,this.accumulator,this.seed,this.hasSeed))}}class m8 extends at{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ci(i,e){return function(n){return n.lift(new g8(i,e))}}class g8{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new _8(e,this.predicate,this.thisArg))}}class _8 extends at{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ko(i){return function(t){const n=new y8(i),r=t.lift(n);return n.caught=r}}class y8{constructor(e){this.selector=e}call(e,t){return t.subscribe(new v8(e,this.selector,this.caught))}}class v8 extends Fl{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const n=new kl(this);this.add(n);const r=Ll(t,n);r!==n&&this.add(r)}}}function Pc(i,e){return xi(i,e,1)}function zb(i){return function(t){return 0===i?Jp():t.lift(new b8(i))}}class b8{constructor(e){if(this.total=e,this.total<0)throw new hA}call(e,t){return t.subscribe(new x8(e,this.total))}}class x8 extends at{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const o=t++%n;e.next(r[o])}}e.complete()}}function pA(i=C8){return e=>e.lift(new w8(i))}class w8{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new M8(e,this.errorFactory))}}class M8 extends at{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function C8(){return new Qp}function mA(i=null){return e=>e.lift(new E8(i))}class E8{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new S8(e,this.defaultValue))}}class S8 extends at{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function kc(i,e){const t=arguments.length>=2;return n=>n.pipe(i?Ci((r,s)=>i(r,s,n)):Ce,Lr(1),t?mA(e):pA(()=>new Qp))}function po(){}function An(i,e,t){return function(r){return r.lift(new D8(i,e,t))}}class D8{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new A8(e,this.nextOrObserver,this.error,this.complete))}}class A8 extends at{constructor(e,t,n,r){super(e),this._tapNext=po,this._tapError=po,this._tapComplete=po,this._tapError=n||po,this._tapComplete=r||po,Pt(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||po,this._tapError=t.error||po,this._tapComplete=t.complete||po)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function gA(i){return e=>e.lift(new I8(i))}class I8{constructor(e){this.callback=e}call(e,t){return t.subscribe(new R8(e,this.callback))}}class R8 extends at{constructor(e,t){super(e),this.add(new nt(t))}}class mo{constructor(e,t){this.id=e,this.url=t}}class Ub extends mo{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends mo{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _A extends mo{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class P8 extends mo{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class k8 extends mo{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F8 extends mo{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L8 extends mo{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class O8 extends mo{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N8 extends mo{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yA{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vA{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class B8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V8{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z8{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bA{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ot="primary";class U8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lc(i){return new U8(i)}const xA="ngNavigationCancelingError";function Gb(i){const e=Error("NavigationCancelingError: "+i);return e[xA]=!0,e}function W8(i,e,t){const n=t.path.split("/");if(n.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||n.length<i.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],a=i[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function ks(i,e){const t=i?Object.keys(i):void 0,n=e?Object.keys(e):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!wA(i[r],e[r]))return!1;return!0}function wA(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),n=[...e].sort();return t.every((r,s)=>n[s]===r)}return i===e}function MA(i){return Array.prototype.concat.apply([],i)}function CA(i){return i.length>0?i[i.length-1]:null}function Ei(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function Fs(i){return uv(i)?i:Cd(i)?Pi(Promise.resolve(i)):Qe(i)}const q8={exact:function TA(i,e,t){if(!$a(i.segments,e.segments)||!em(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!i.children[n]||!TA(i.children[n],e.children[n],t))return!1;return!0},subset:DA},EA={exact:function(i,e){return ks(i,e)},subset:function(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>wA(i[t],e[t]))},ignored:()=>!0};function SA(i,e,t){return q8[t.paths](i.root,e.root,t.matrixParams)&&EA[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function DA(i,e,t){return AA(i,e,e.segments,t)}function AA(i,e,t,n){if(i.segments.length>t.length){const r=i.segments.slice(0,t.length);return!(!$a(r,t)||e.hasChildren()||!em(r,t,n))}if(i.segments.length===t.length){if(!$a(i.segments,t)||!em(i.segments,t,n))return!1;for(const r in e.children)if(!i.children[r]||!DA(i.children[r],e.children[r],n))return!1;return!0}{const r=t.slice(0,i.segments.length),s=t.slice(i.segments.length);return!!($a(i.segments,r)&&em(i.segments,r,n)&&i.children[Ot])&&AA(i.children[Ot],e,s,n)}}function em(i,e,t){return e.every((n,r)=>EA[t](i[r].parameters,n.parameters))}class ja{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lc(this.queryParams)),this._queryParamMap}toString(){return Q8.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ei(t,(n,r)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tm(this)}}class Qd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lc(this.parameters)),this._parameterMap}toString(){return FA(this)}}function $a(i,e){return i.length===e.length&&i.every((t,n)=>t.path===e[n].path)}class IA{}class RA{parse(e){const t=new a6(e);return new ja(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Jd(e.root,!0)}`,n=function(i){const e=Object.keys(i).map(t=>{const n=i[t];return Array.isArray(n)?n.map(r=>`${nm(t)}=${nm(r)}`).join("&"):`${nm(t)}=${nm(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function(i){return encodeURI(i)}(e.fragment)}`:"";return`${t}${n}${r}`}}const Q8=new RA;function tm(i){return i.segments.map(e=>FA(e)).join("/")}function Jd(i,e){if(!i.hasChildren())return tm(i);if(e){const t=i.children[Ot]?Jd(i.children[Ot],!1):"",n=[];return Ei(i.children,(r,s)=>{s!==Ot&&n.push(`${s}:${Jd(r,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(i,e){let t=[];return Ei(i.children,(n,r)=>{r===Ot&&(t=t.concat(e(n,r)))}),Ei(i.children,(n,r)=>{r!==Ot&&(t=t.concat(e(n,r)))}),t}(i,(n,r)=>r===Ot?[Jd(i.children[Ot],!1)]:[`${r}:${Jd(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Ot]?`${tm(i)}/${t[0]}`:`${tm(i)}/(${t.join("//")})`}}function PA(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nm(i){return PA(i).replace(/%3B/gi,";")}function Wb(i){return PA(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function im(i){return decodeURIComponent(i)}function kA(i){return im(i.replace(/\+/g,"%20"))}function FA(i){return`${Wb(i.path)}${function(i){return Object.keys(i).map(e=>`;${Wb(e)}=${Wb(i[e])}`).join("")}(i.parameters)}`}const n6=/^[^\/()?;=#]+/;function rm(i){const e=i.match(n6);return e?e[0]:""}const i6=/^[^=?&#]+/,s6=/^[^&#]+/;class a6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Ot]=new Gt(e,t)),n}parseSegment(){const e=rm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qd(im(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rm(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=rm(this.remaining);r&&(n=r,this.capture(n))}e[im(t)]=im(n)}parseQueryParam(e){const t=function(i){const e=i.match(i6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function(i){const e=i.match(s6);return e?e[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=kA(t),s=kA(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=rm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ot);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ot]:new Gt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class LA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jb(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){const t=jb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$b(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return $b(e,this._root).map(t=>t.value)}}function jb(i,e){if(i===e.value)return e;for(const t of e.children){const n=jb(i,t);if(n)return n}return null}function $b(i,e){if(i===e.value)return[e];for(const t of e.children){const n=$b(i,t);if(n.length)return n.unshift(e),n}return[]}class go{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Oc(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class OA extends LA{constructor(e,t){super(e),this.snapshot=t,qb(this,e)}toString(){return this.snapshot.toString()}}function NA(i,e){const t=function(i,e){const o=new sm([],{},{},"",{},Ot,e,null,i.root,-1,{});return new VA("",new go(o,[]))}(i,e),n=new Fr([new Qd("",{})]),r=new Fr({}),s=new Fr({}),o=new Fr({}),a=new Fr(""),l=new ls(n,r,o,a,s,Ot,e,t.root);return l.snapshot=t.root,new OA(new go(l,[]),t)}class ls{constructor(e,t,n,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ft(e=>Lc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ft(e=>Lc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BA(i,e="emptyOnly"){const t=i.pathFromRoot;let n=0;if("always"!==e)for(n=t.length-1;n>=1;){const r=t[n],s=t[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(n))}class sm{constructor(e,t,n,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VA extends LA{constructor(e,t){super(t),this.url=e,qb(this,t)}toString(){return HA(this._root)}}function qb(i,e){e.value._routerState=i,e.children.forEach(t=>qb(i,t))}function HA(i){const e=i.children.length>0?` { ${i.children.map(HA).join(", ")} } `:"";return`${i.value}${e}`}function Yb(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,ks(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),ks(e.params,t.params)||i.params.next(t.params),function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!ks(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),ks(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Xb(i,e){const t=ks(i.params,e.params)&&function(i,e){return $a(i,e)&&i.every((t,n)=>ks(t.parameters,e[n].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||Xb(i.parent,e.parent))}function eh(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=e.value;const r=function(i,e,t){return e.children.map(n=>{for(const r of t.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return eh(i,n,r);return eh(i,n)})}(i,e,t);return new go(n,r)}{if(i.shouldAttach(e.value)){const s=i.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>eh(i,a)),o}}const n=function(i){return new ls(new Fr(i.url),new Fr(i.params),new Fr(i.queryParams),new Fr(i.fragment),new Fr(i.data),i.outlet,i.component,i)}(e.value),r=e.children.map(s=>eh(i,s));return new go(n,r)}}function om(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function th(i){return"object"==typeof i&&null!=i&&i.outlets}function Zb(i,e,t,n,r){let s={};return n&&Ei(n,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new ja(t.root===i?e:zA(t.root,i,e),s,r)}function zA(i,e,t){const n={};return Ei(i.children,(r,s)=>{n[s]=r===e?t:zA(r,e,t)}),new Gt(i.segments,n)}class UA{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&om(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(th);if(r&&r!==CA(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kb{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function GA(i,e,t){if(i||(i=new Gt([],{})),0===i.segments.length&&i.hasChildren())return am(i,e,t);const n=function(i,e,t){let n=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=t.length)return s;const o=i.segments[r],a=t[n];if(th(a))break;const l=`${a}`,c=n<t.length-1?t[n+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!jA(l,c,o))return s;n+=2}else{if(!jA(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const s=new Gt(i.segments.slice(0,n.pathIndex),{});return s.children[Ot]=new Gt(i.segments.slice(n.pathIndex),i.children),am(s,0,r)}return n.match&&0===r.length?new Gt(i.segments,{}):n.match&&!i.hasChildren()?Qb(i,e,t):n.match?am(i,0,r):Qb(i,e,t)}function am(i,e,t){if(0===t.length)return new Gt(i.segments,{});{const n=function(i){return th(i[0])?i[0].outlets:{[Ot]:i}}(t),r={};return Ei(n,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=GA(i.children[o],e,s))}),Ei(i.children,(s,o)=>{void 0===n[o]&&(r[o]=s)}),new Gt(i.segments,r)}}function Qb(i,e,t){const n=i.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(th(s)){const l=v6(s.outlets);return new Gt(n,l)}if(0===r&&om(t[0])){n.push(new Qd(i.segments[e].path,WA(t[0]))),r++;continue}const o=th(s)?s.outlets[Ot]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&om(a)?(n.push(new Qd(o,WA(a))),r+=2):(n.push(new Qd(o,{})),r++)}return new Gt(n,{})}function v6(i){const e={};return Ei(i,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Qb(new Gt([],{}),0,t))}),e}function WA(i){const e={};return Ei(i,(t,n)=>e[n]=`${t}`),e}function jA(i,e,t){return i==t.path&&ks(e,t.parameters)}class x6{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Yb(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Oc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Ei(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=Oc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=Oc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Oc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new z8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new V8(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(Yb(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}class Jb{constructor(e,t){this.routes=e,this.module=t}}function Qo(i){return"function"==typeof i}function qa(i){return i instanceof ja}const nh=Symbol("INITIAL_VALUE");function ih(){return as(i=>function(...i){let e,t;return Oo(i[i.length-1])&&(t=i.pop()),"function"==typeof i[i.length-1]&&(e=i.pop()),1===i.length&&Ln(i[0])&&(i=i[0]),_f(i,t).lift(new o8(e))}(i.map(e=>e.pipe(Lr(1),Or(nh)))).pipe(fA((e,t)=>{let n=!1;return t.reduce((r,s,o)=>r!==nh?r:(s===nh&&(n=!0),n||!1!==s&&o!==t.length-1&&!qa(s)?r:s),e)},nh),Ci(e=>e!==nh),ft(e=>qa(e)?e:!0===e),Lr(1)))}class D6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rh,this.attachRef=null}}class rh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new D6,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let e0=(()=>{class i{constructor(t,n,r,s,o){this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.name=s||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(n=n||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new A6(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(T(rh),T(qi),T(ao),ws("name"),T(Vn))},i.\u0275dir=Te({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class A6{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===ls?this.route:e===rh?this.childContexts:this.parent.get(e,t)}}let $A=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=kt({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,n){1&t&&be(0,"router-outlet")},directives:[e0],encapsulation:2}),i})();function qA(i,e=""){for(let t=0;t<i.length;t++){const n=i[t];I6(n,R6(e,n))}}function I6(i,e){i.children&&qA(i.children,e)}function R6(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function t0(i){const e=i.children&&i.children.map(t0),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=$A),t}function Nr(i){return i.outlet||Ot}function YA(i,e){const t=i.filter(n=>Nr(n)===e);return t.push(...i.filter(n=>Nr(n)!==e)),t}const XA={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lm(i,e,t){var n;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},XA):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||W8)(t,i,e);if(!s)return Object.assign({},XA);const o={};Ei(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(n=s.posParams)&&void 0!==n?n:{}}}function cm(i,e,t,n,r="corrected"){if(t.length>0&&function(i,e,t){return t.some(n=>um(i,e,n)&&Nr(n)!==Ot)}(i,t,n)){const o=new Gt(e,function(i,e,t,n){const r={};r[Ot]=n,n._sourceSegment=i,n._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Nr(s)!==Ot){const o=new Gt([],{});o._sourceSegment=i,o._segmentIndexShift=e.length,r[Nr(s)]=o}return r}(i,e,n,new Gt(t,i.children)));return o._sourceSegment=i,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(i,e,t){return t.some(n=>um(i,e,n))}(i,t,n)){const o=new Gt(i.segments,function(i,e,t,n,r,s){const o={};for(const a of n)if(um(i,t,a)&&!r[Nr(a)]){const l=new Gt([],{});l._sourceSegment=i,l._segmentIndexShift="legacy"===s?i.segments.length:e.length,o[Nr(a)]=l}return Object.assign(Object.assign({},r),o)}(i,e,t,n,i.children,r));return o._sourceSegment=i,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Gt(i.segments,i.children);return s._sourceSegment=i,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function um(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ZA(i,e,t,n){return!!(Nr(i)===n||n!==Ot&&um(e,t,i))&&("**"===i.path||lm(e,i,t).matched)}function KA(i,e,t){return 0===e.length&&!i.children[t]}class sh{constructor(e){this.segmentGroup=e||null}}class QA{constructor(e){this.urlTree=e}}function dm(i){return new He(e=>e.error(new sh(i)))}function JA(i){return new He(e=>e.error(new QA(i)))}function O6(i){return new He(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class V6{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(co)}apply(){const e=cm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Gt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ot).pipe(ft(s=>this.createUrlTree(n0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ko(s=>{if(s instanceof QA)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof sh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ot).pipe(ft(r=>this.createUrlTree(n0(r),e.queryParams,e.fragment))).pipe(Ko(r=>{throw r instanceof sh?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Gt([],{[Ot]:e}):e;return new ja(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(ft(s=>new Gt([],s))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return Pi(r).pipe(Pc(s=>{const o=n.children[s],a=YA(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ft(l=>({segment:l,outlet:s})))}),fA((s,o)=>(s[o.outlet]=o.segment,s),{}),function(i,e){const t=arguments.length>=2;return n=>n.pipe(i?Ci((r,s)=>i(r,s,n)):Ce,zb(1),t?mA(e):pA(()=>new Qp))}())}expandSegment(e,t,n,r,s,o){return Pi(n).pipe(Pc(a=>this.expandSegmentAgainstRoute(e,t,n,a,r,s,o).pipe(Ko(c=>{if(c instanceof sh)return Qe(null);throw c}))),kc(a=>!!a),Ko((a,l)=>{if(a instanceof Qp||"EmptyError"===a.name){if(KA(t,r,s))return Qe(new Gt([],{}));throw new sh(t)}throw a}))}expandSegmentAgainstRoute(e,t,n,r,s,o,a){return ZA(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o):dm(t):dm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?JA(s):this.lineralizeSegments(n,s).pipe(xi(o=>{const a=new Gt(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=lm(t,r,s);if(!a)return dm(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?JA(d):this.lineralizeSegments(r,d).pipe(xi(h=>this.expandSegment(e,t,n,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Qe(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(ft(h=>(n._loadedConfig=h,new Gt(r,{})))):Qe(new Gt(r,{}));const{matched:o,consumedSegments:a,lastChild:l}=lm(t,n,r);if(!o)return dm(t);const c=r.slice(l);return this.getChildConfig(e,n,r).pipe(xi(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:g}=cm(t,a,c,f),b=new Gt(p.segments,p.children);if(0===g.length&&b.hasChildren())return this.expandChildren(h,f,b).pipe(ft(x=>new Gt(a,x)));if(0===f.length&&0===g.length)return Qe(new Gt(a,{}));const _=Nr(n)===s;return this.expandSegment(h,b,f,g,_?Ot:s,!0).pipe(ft(w=>new Gt(a.concat(w.segments),w.children)))}))}getChildConfig(e,t,n){return t.children?Qe(new Jb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Qe(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(xi(r=>r?this.configLoader.load(e.injector,t).pipe(ft(s=>(t._loadedConfig=s,s))):function(i){return new He(e=>e.error(Gb(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(t))):Qe(new Jb([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return Qe(!0);const s=r.map(o=>{const a=e.get(o);let l;if(function(i){return i&&Qo(i.canLoad)}(a))l=a.canLoad(t,n);else{if(!Qo(a))throw new Error("Invalid CanLoad guard");l=a(t,n)}return Fs(l)});return Qe(s).pipe(ih(),An(o=>{if(!qa(o))return;const a=Gb(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ft(o=>!0===o))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Qe(n);if(r.numberOfChildren>1||!r.children[Ot])return O6(e.redirectTo);r=r.children[Ot]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new ja(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Ei(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);n[s]=t[a]}else n[s]=r}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let o={};return Ei(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,n,r)}),new Gt(s,o)}createSegments(e,t,n,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function n0(i){const e={};for(const n of Object.keys(i.children)){const s=n0(i.children[n]);(s.segments.length>0||s.hasChildren())&&(e[n]=s)}return function(i){if(1===i.numberOfChildren&&i.children[Ot]){const e=i.children[Ot];return new Gt(i.segments.concat(e.segments),e.children)}return i}(new Gt(i.segments,e))}class eI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hm{constructor(e,t){this.component=e,this.route=t}}function U6(i,e,t){const n=i._root;return oh(n,e?e._root:null,t,[n.value])}function fm(i,e,t){const n=function(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:t).get(i)}function oh(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Oc(e);return i.children.forEach(o=>{(function(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,o=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!$a(i.url,e.url);case"pathParamsOrQueryParamsChange":return!$a(i.url,e.url)||!ks(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xb(i,e)||!ks(i.queryParams,e.queryParams);default:return!Xb(i,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new eI(n)):(s.data=o.data,s._resolvedData=o._resolvedData),oh(i,e,s.component?a?a.children:null:t,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new hm(a.outlet.component,o))}else o&&ah(e,a,r),r.canActivateChecks.push(new eI(n)),oh(i,null,s.component?a?a.children:null:t,n,r)})(o,s[o.value.outlet],t,n.concat([o.value]),r),delete s[o.value.outlet]}),Ei(s,(o,a)=>ah(o,t.getContext(a),r)),r}function ah(i,e,t){const n=Oc(i),r=i.value;Ei(n,(s,o)=>{ah(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new hm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class tW{}function tI(i){return new He(e=>e.error(i))}class iW{constructor(e,t,n,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=cm(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ot);if(null===t)return null;const n=new sm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new go(n,t),s=new VA(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,n=BA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=YA(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;n.push(...l)}const r=nI(n);return function(i){i.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,n,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,n,r);if(null!==o)return o}return KA(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!ZA(e,t,n,r))return null;let s,o=[],a=[];if("**"===e.path){const f=n.length>0?CA(n).parameters:{};s=new sm(n,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sI(e),Nr(e),e.component,e,iI(t),rI(t)+n.length,oI(e))}else{const f=lm(t,e,n);if(!f.matched)return null;o=f.consumedSegments,a=n.slice(f.lastChild),s=new sm(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sI(e),Nr(e),e.component,e,iI(t),rI(t)+o.length,oI(e))}const l=function(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=cm(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new go(s,f)]}if(0===l.length&&0===u.length)return[new go(s,[])];const d=Nr(e)===r,h=this.processSegment(l,c,u,d?Ot:r);return null===h?null:[new go(s,h)]}}function oW(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nI(i){const e=[],t=new Set;for(const n of i){if(!oW(n)){e.push(n);continue}const r=e.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),t.add(r)):e.push(n)}for(const n of t){const r=nI(n.children);e.push(new go(n.value,r))}return e.filter(n=>!t.has(n))}function iI(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rI(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function sI(i){return i.data||{}}function oI(i){return i.resolve||{}}function r0(i){return as(e=>{const t=i(e);return t?Pi(t).pipe(ft(()=>e)):Qe(e)})}class pW extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const s0=new we("ROUTES");class aI{constructor(e,t,n,r){this.injector=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(ft(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Jb(MA(o.injector.get(s0,void 0,Mt.Self|Mt.Optional)).map(t0),o)}),Ko(s=>{throw t._loader$=void 0,s}));return t._loader$=new Zw(r,()=>new Ke).pipe(M_()),t._loader$}loadModuleFactory(e){return Fs(e()).pipe(xi(t=>t instanceof CS?Qe(t):Pi(this.compiler.compileModuleAsync(t))))}}class gW{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function _W(i){throw i}function yW(i,e,t){return e.parse("/")}function lI(i,e){return Qe(null)}const vW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class i{constructor(t,n,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ke,this.errorHandler=_W,this.malformedUriErrorHandler=yW,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lI,afterPreactivation:lI},this.urlHandlingStrategy=new gW,this.routeReuseStrategy=new pW,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(co),this.console=o.get(oT);const d=o.get(rt);this.isNgZoneEnabled=d instanceof rt&&rt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new ja(new Gt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new aI(o,a,h=>this.triggerEvent(new yA(h)),h=>this.triggerEvent(new vA(h))),this.routerState=NA(this.currentUrlTree,this.rootComponentType),this.transitions=new Fr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const n=this.events;return t.pipe(Ci(r=>0!==r.id),ft(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),as(r=>{let s=!1,o=!1;return Qe(r).pipe(An(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),as(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pm(a.source)&&(this.browserUrlTree=a.extractedUrl),Qe(a).pipe(as(d=>{const h=this.transitions.getValue();return n.next(new Ub(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Wa:Promise.resolve(d)}),function(i,e,t,n){return as(r=>function(i,e,t,n,r){return new V6(i,e,t,n,r).apply()}(i,e,t,r.extractedUrl,n).pipe(ft(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),An(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(i,e,t,n,r){return xi(s=>function(i,e,t,n,r="emptyOnly",s="legacy"){try{const o=new iW(i,e,t,n,r,s).recognize();return null===o?tI(new tW):Qe(o)}catch(o){return tI(o)}}(i,e,s.urlAfterRedirects,t(s.urlAfterRedirects),n,r).pipe(ft(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),An(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new k8(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);n.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:b}=a,_=new Ub(h,this.serializeUrl(f),p,g);n.next(_);const m=NA(f,this.rootComponentType).snapshot;return Qe(Object.assign(Object.assign({},a),{targetSnapshot:m,urlAfterRedirects:f,extras:Object.assign(Object.assign({},b),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Wa}),r0(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),An(a=>{const l=new F8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ft(a=>Object.assign(Object.assign({},a),{guards:U6(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(i,e){return xi(t=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Qe(Object.assign(Object.assign({},t),{guardsResult:!0})):function(i,e,t,n){return Pi(i).pipe(xi(r=>function(i,e,t,n,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Qe(s.map(a=>{const l=fm(a,e,r);let c;if(function(i){return i&&Qo(i.canDeactivate)}(l))c=Fs(l.canDeactivate(i,e,t,n));else{if(!Qo(l))throw new Error("Invalid CanDeactivate guard");c=Fs(l(i,e,t,n))}return c.pipe(kc())})).pipe(ih()):Qe(!0)}(r.component,r.route,t,e,n)),kc(r=>!0!==r,!0))}(o,n,r,i).pipe(xi(a=>a&&function(i){return"boolean"==typeof i}(a)?function(i,e,t,n){return Pi(e).pipe(Pc(r=>Vb(function(i,e){return null!==i&&e&&e(new B8(i)),Qe(!0)}(r.route.parent,n),function(i,e){return null!==i&&e&&e(new H8(i)),Qe(!0)}(r.route,n),function(i,e,t){const n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Hb(()=>Qe(o.guards.map(l=>{const c=fm(l,o.node,t);let u;if(function(i){return i&&Qo(i.canActivateChild)}(c))u=Fs(c.canActivateChild(n,i));else{if(!Qo(c))throw new Error("Invalid CanActivateChild guard");u=Fs(c(n,i))}return u.pipe(kc())})).pipe(ih())));return Qe(s).pipe(ih())}(i,r.path,t),function(i,e,t){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return Qe(!0);const r=n.map(s=>Hb(()=>{const o=fm(s,e,t);let a;if(function(i){return i&&Qo(i.canActivate)}(o))a=Fs(o.canActivate(e,i));else{if(!Qo(o))throw new Error("Invalid CanActivate guard");a=Fs(o(e,i))}return a.pipe(kc())}));return Qe(r).pipe(ih())}(i,r.route,t))),kc(r=>!0!==r,!0))}(n,s,i,e):Qe(a)),ft(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),An(a=>{if(qa(a.guardsResult)){const c=Gb(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new L8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Ci(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),r0(a=>{if(a.guards.canActivateChecks.length)return Qe(a).pipe(An(l=>{const c=new O8(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),as(l=>{let c=!1;return Qe(l).pipe(function(i,e){return xi(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return Qe(t);let s=0;return Pi(r).pipe(Pc(o=>function(i,e,t,n){return function(i,e,t,n){const r=Object.keys(i);if(0===r.length)return Qe({});const s={};return Pi(r).pipe(xi(o=>function(i,e,t,n){const r=fm(i,e,n);return Fs(r.resolve?r.resolve(e,t):r(e,t))}(i[o],e,t,n).pipe(An(a=>{s[o]=a}))),zb(1),xi(()=>Object.keys(s).length===r.length?Qe(s):Wa))}(i._resolve,i,e,n).pipe(ft(s=>(i._resolvedData=s,i.data=Object.assign(Object.assign({},i.data),BA(i,t).resolve),null)))}(o.route,n,i,e)),An(()=>s++),zb(1),xi(o=>s===r.length?Qe(t):Wa))})}(this.paramsInheritanceStrategy,this.ngModule.injector),An({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),An(l=>{const c=new N8(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),r0(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ft(a=>{const l=function(i,e,t){const n=eh(i,e._root,t?t._root:void 0);return new OA(n,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),An(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((i,e,t)=>ft(n=>(new x6(e,n.targetRouterState,n.currentRouterState,t).activate(i),n)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),An({next(){s=!0},complete(){s=!0}}),gA(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Ko(a=>{if(o=!0,function(i){return i&&i[xA]}(a)){const l=qa(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new _A(r.id,this.serializeUrl(r.extractedUrl),a.message);n.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pm(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new P8(r.id,this.serializeUrl(r.extractedUrl),a);n.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Wa}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const n="popstate"===t.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,n,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qA(t),this.config=t.map(t0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(i,e,t,n,r){if(0===t.length)return Zb(e.root,e.root,e,n,r);const s=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new UA(!0,0,i);let e=0,t=!1;const n=i.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ei(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new UA(t,e,n)}(t);if(s.toRoot())return Zb(e.root,new Gt([],{}),e,n,r);const o=function(i,e,t){if(i.isAbsolute)return new Kb(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Kb(s,s===e.root,0)}const n=om(i.commands[0])?0:1;return function(i,e,t){let n=i,r=e,s=t;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Error("Invalid number of '../'");r=n.segments.length}return new Kb(n,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+n,i.numberOfDoubleDots)}(s,e,i),a=o.processChildren?am(o.segmentGroup,o.index,s.commands):GA(o.segmentGroup,o.index,s.commands);return Zb(o.segmentGroup,a,e,n,r)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,n={skipLocationChange:!1}){const r=qa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,n)}navigate(t,n={skipLocationChange:!1}){return function(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let n;try{n=this.urlSerializer.parse(t)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return n}isActive(t,n){let r;if(r=!0===n?Object.assign({},vW):!1===n?Object.assign({},bW):n,qa(t))return SA(this.currentUrlTree,t,r);const s=this.parseUrl(t);return SA(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((n,r)=>{const s=t[r];return null!=s&&(n[r]=s),n},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Fc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,n,r,s,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const u=this.transitions.value,d=pm(n)&&u&&!pm(u.source),h=u.rawUrl.toString()===t.toString(),f=u.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let g,b,_;o?(g=o.resolve,b=o.reject,_=o.promise):_=new Promise((x,C)=>{g=x,b=C});const m=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),w=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):w=0,this.setTransition({id:m,targetPageId:w,source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:g,reject:b,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(x=>Promise.reject(x))}setBrowserUrl(t,n){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},n.extras.state),this.generateNgRouterState(n.id,n.targetPageId));this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,n=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,n){const r=new _A(t.id,this.serializeUrl(t.extractedUrl),n);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}}return i.\u0275fac=function(t){op()},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();function pm(i){return"imperative"!==i}let mm=(()=>{class i{constructor(t,n,r,s,o){this.router=t,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Ke,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const n=this.renderer,r=this.el.nativeElement;null!==t?n.setAttribute(r,"tabindex",t):n.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Nc(this.skipLocationChange),replaceUrl:Nc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nc(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(T(ci),T(ls),ws("tabindex"),T(lo),T(dt))},i.\u0275dir=Te({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,n){1&t&&ue("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ii]}),i})(),lh=(()=>{class i{constructor(t,n,r){this.router=t,this.route=n,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Ke,this.subscription=t.events.subscribe(s=>{s instanceof Fc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,n,r,s,o){if(0!==t||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Nc(this.skipLocationChange),replaceUrl:Nc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nc(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(T(ci),T(ls),T(Dc))},i.\u0275dir=Te({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,n){1&t&&ue("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&tn("target",n.target)("href",n.href,Go)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ii]}),i})();function Nc(i){return""===i||!!i}class cI{}class uI{preload(e,t){return Qe(null)}}let dI=(()=>{class i{constructor(t,n,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new aI(r,n,l=>t.triggerEvent(new yA(l)),l=>t.triggerEvent(new vA(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ci(t=>t instanceof Fc),Pc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(co);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const r=[];for(const s of n)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return Pi(r).pipe(Xu(),ft(s=>{}))}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>(n._loadedConfig?Qe(n._loadedConfig):this.loader.load(t.injector,n)).pipe(xi(s=>(n._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(X(ci),X(wp),X(gi),X(cI))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})(),o0=(()=>{class i{constructor(t,n,r={}){this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ub?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.router.triggerEvent(new bA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){op()},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const Ya=new we("ROUTER_CONFIGURATION"),hI=new we("ROUTER_FORROOT_GUARD"),EW=[Ep,{provide:IA,useClass:RA},{provide:ci,useFactory:function(i,e,t,n,r,s,o={},a,l){const c=new ci(null,i,e,t,n,r,MA(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[IA,rh,Ep,gi,wp,s0,Ya,[class{},new lr],[class{},new lr]]},rh,{provide:ls,useFactory:function(i){return i.routerState.root},deps:[ci]},dI,uI,class{preload(e,t){return t().pipe(Ko(()=>Qe(null)))}},{provide:Ya,useValue:{enableTracing:!1}}];function SW(){return new hT("Router",ci)}let fI=(()=>{class i{constructor(t,n){}static forRoot(t,n){return{ngModule:i,providers:[EW,pI(t),{provide:hI,useFactory:AW,deps:[[ci,new lr,new ka]]},{provide:Ya,useValue:n||{}},{provide:Dc,useFactory:DW,deps:[za,[new dd(Kv),new lr],Ya]},{provide:o0,useFactory:TW,deps:[ci,M5,Ya]},{provide:cI,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:uI},{provide:hT,multi:!0,useFactory:SW},[a0,{provide:bp,multi:!0,useFactory:kW,deps:[a0]},{provide:mI,useFactory:FW,deps:[a0]},{provide:sT,multi:!0,useExisting:mI}]]}}static forChild(t){return{ngModule:i,providers:[pI(t)]}}}return i.\u0275fac=function(t){return new(t||i)(X(hI,8),X(ci,8))},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({}),i})();function TW(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new o0(i,e,t)}function DW(i,e,t={}){return t.useHash?new l4(i,e):new FT(i,e)}function AW(i){return"guarded"}function pI(i){return[{provide:NO,multi:!0,useValue:i},{provide:s0,multi:!0,useValue:i}]}let a0=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ke}appInitializer(){return this.injector.get(s4,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let n=null;const r=new Promise(a=>n=a),s=this.injector.get(ci),o=this.injector.get(Ya);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),n(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Qe(null):(this.initNavigation=!0,n(!0),this.resultOfPreactivationDone),s.initialNavigation()):n(!0),r})}bootstrapListener(t){const n=this.injector.get(Ya),r=this.injector.get(dI),s=this.injector.get(o0),o=this.injector.get(ci),a=this.injector.get(Sc);t===a.components[0]&&(("enabledNonBlocking"===n.initialNavigation||void 0===n.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(X(gi))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();function kW(i){return i.appInitializer.bind(i)}function FW(i){return i.bootstrapListener.bind(i)}const mI=new we("Router Initializer");class l0{}const _o="*";function Br(i,e){return{type:7,name:i,definitions:e,options:{}}}function In(i,e=null){return{type:4,styles:e,timings:i}}function gI(i,e=null){return{type:2,steps:i,options:e}}function vt(i){return{type:6,styles:i,offset:null}}function cs(i,e,t){return{type:0,name:i,styles:e,options:t}}function Hn(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function NW(i=null){return{type:9,options:i}}function c0(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}function _I(i,e){return{type:12,timings:i,animation:e}}function yI(i){Promise.resolve(null).then(i)}class Bc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class vI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const s=this.players.length;0==s?yI(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}function bI(i,e,t,n,r,s,o){try{var a=i[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(n,r)}const Ni=1001,ei=1003,Rn=1006,vo=1009,hh=1012,bo=1015,Xa=1016,$c=1020,ta=1022,ui=1023,Za=1026,qc=1027,Yc=2400,Xc=2401,us=3e3,Zc=3001,fh=35044,ph=35048;class na{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const n=this._listeners[e.type];if(void 0!==n){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Si=[];for(let i=0;i<256;i++)Si[i]=(i<16?"0":"")+i.toString(16);const Ka=Math.PI/180,mh=180/Math.PI;function mr(){const i=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Si[255&i]+Si[i>>8&255]+Si[i>>16&255]+Si[i>>24&255]+"-"+Si[255&e]+Si[e>>8&255]+"-"+Si[e>>16&15|64]+Si[e>>24&255]+"-"+Si[63&t|128]+Si[t>>8&255]+"-"+Si[t>>16&255]+Si[t>>24&255]+Si[255&n]+Si[n>>8&255]+Si[n>>16&255]+Si[n>>24&255]).toUpperCase()}function Ti(i,e,t){return Math.max(e,Math.min(t,i))}function gh(i,e,t){return(1-t)*i+t*e}function x0(i){return 0==(i&i-1)&&0!==i}function WI(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}class Q{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*r+e.x,this.y=s*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Q.prototype.isVector2=!0;class _i{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=n,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],u=n[4],d=n[7],h=n[2],f=n[5],p=n[8],g=r[0],b=r[3],_=r[6],m=r[1],w=r[4],x=r[7],C=r[2],D=r[5],k=r[8];return s[0]=o*g+a*m+l*C,s[3]=o*b+a*w+l*D,s[6]=o*_+a*x+l*k,s[1]=c*g+u*m+d*C,s[4]=c*b+u*w+d*D,s[7]=c*_+u*x+d*k,s[2]=h*g+f*m+p*C,s[5]=h*b+f*w+p*D,s[8]=h*_+f*x+p*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*s*u+n*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,f=c*s-o*l,p=t*d+n*h+r*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=d*g,e[1]=(r*c-u*n)*g,e[2]=(a*n-r*o)*g,e[3]=h*g,e[4]=(u*t-r*l)*g,e[5]=(r*s-a*t)*g,e[6]=f*g,e[7]=(n*l-c*t)*g,e[8]=(o*t-n*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=t*s+n*l,r[3]=t*o+n*c,r[6]=t*a+n*u,r[1]=-n*s+t*l,r[4]=-n*o+t*c,r[7]=-n*a+t*u,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function jI(i){if(0===i.length)return-1/0;let e=i[0];for(let t=1,n=i.length;t<n;++t)i[t]>e&&(e=i[t]);return e}function Tm(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}let Jc;_i.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;class eu{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Jc&&(Jc=Tm("canvas")),Jc.width=e.width,Jc.height=e.height;const n=Jc.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Jc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let T$=0;class $n extends na{constructor(e=$n.DEFAULT_IMAGE,t=$n.DEFAULT_MAPPING,n=Ni,r=Ni,s=Rn,o=1008,a=ui,l=vo,c=1,u=us){super(),Object.defineProperty(this,"id",{value:T$++}),this.uuid=mr(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Q(0,0),this.repeat=new Q(1,1),this.center=new Q(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _i,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const r=this.image;if(void 0===r.uuid&&(r.uuid=mr()),!t&&void 0===e.images[r.uuid]){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(w0(r[o].isDataTexture?r[o].image:r[o]))}else s=w0(r);e.images[r.uuid]={uuid:r.uuid,url:s}}n.image=r.uuid}return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case Ni:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case Ni:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&this.version++}}function w0(i){return"undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&i instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&i instanceof ImageBitmap?eu.getDataURL(i):i.data?{data:Array.prototype.slice.call(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}$n.DEFAULT_IMAGE=void 0,$n.DEFAULT_MAPPING=300,$n.prototype.isTexture=!0;class on{constructor(e=0,t=0,n=0,r=1){this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const o=.01,a=.1,l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],g=l[2],b=l[6],_=l[10];if(Math.abs(u-h)<o&&Math.abs(d-g)<o&&Math.abs(p-b)<o){if(Math.abs(u+h)<a&&Math.abs(d+g)<a&&Math.abs(p+b)<a&&Math.abs(c+f+_-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,x=(f+1)/2,C=(_+1)/2,D=(u+h)/4,k=(d+g)/4,N=(p+b)/4;return w>x&&w>C?w<o?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(w),r=D/n,s=k/n):x>C?x<o?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(x),n=D/r,s=N/r):C<o?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),n=k/s,r=N/s),this.set(n,r,s,t),this}let m=Math.sqrt((b-p)*(b-p)+(d-g)*(d-g)+(h-u)*(h-u));return Math.abs(m)<.001&&(m=1),this.x=(b-p)/m,this.y=(d-g)/m,this.z=(h-u)/m,this.w=Math.acos((c+f+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}on.prototype.isVector4=!0;class Vr extends na{constructor(e,t,n={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new on(0,0,e,t),this.scissorTest=!1,this.viewport=new on(0,0,e,t),this.texture=new $n(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Rn,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=_L({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Vr.prototype.isWebGLRenderTarget=!0,class extends Vr{constructor(e,t,n){super(e,t);const r=this.texture;this.texture=[];for(let s=0;s<n;s++)this.texture[s]=r.clone()}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}.prototype.isWebGLMultipleRenderTargets=!0;class M0 extends Vr{constructor(e,t,n={}){super(e,t,n),this.samples=4,this.ignoreDepthForMultisampleCopy=void 0===n.ignoreDepth||n.ignoreDepth,this.useRenderToTexture=void 0!==n.useRenderToTexture&&n.useRenderToTexture,this.useRenderbuffer=!1===this.useRenderToTexture}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}M0.prototype.isWebGLMultisampleRenderTarget=!0;class Pn{constructor(e=0,t=0,n=0,r=1){this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}static slerpFlat(e,t,n,r,s,o,a){let l=n[r+0],c=n[r+1],u=n[r+2],d=n[r+3];const h=s[o+0],f=s[o+1],p=s[o+2],g=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=h,e[t+1]=f,e[t+2]=p,void(e[t+3]=g);if(d!==g||l!==h||c!==f||u!==p){let b=1-a;const _=l*h+c*f+u*p+d*g,m=_>=0?1:-1,w=1-_*_;if(w>Number.EPSILON){const C=Math.sqrt(w),D=Math.atan2(C,_*m);b=Math.sin(b*D)/C,a=Math.sin(a*D)/C}const x=a*m;if(l=l*b+h*x,c=c*b+f*x,u=u*b+p*x,d=d*b+g*x,b===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=C,c*=C,u*=C,d*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,r,s,o){const a=n[r],l=n[r+1],c=n[r+2],u=n[r+3],d=s[o],h=s[o+1],f=s[o+2],p=s[o+3];return e[t]=a*p+u*d+l*f-c*h,e[t+1]=l*p+u*h+c*d-a*f,e[t+2]=c*p+u*f+a*h-l*d,e[t+3]=u*p-a*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),u=a(r/2),d=a(s/2),h=l(n/2),f=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"YXZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"ZXY":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"ZYX":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"YZX":this._x=h*u*d+c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d-h*f*p;break;case"XZY":this._x=h*u*d-c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=n+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-r)*f}else if(n>a&&n>d){const f=2*Math.sqrt(1+n-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(s+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-n-d);this._w=(s-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-n-a);this._w=(o-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ti(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-n*c,this._z=s*u+o*c+n*l-r*a,this._w=o*u-n*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*n+t*this._x,this._y=f*r+t*this._y,this._z=f*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(s),n*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Pn.prototype.isQuaternion=!0;class E{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion($I.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion($I.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*n,u=l*n+a*t-s*r,d=l*r+s*n-o*t,h=-s*t-o*n-a*r;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-n*l,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return C0.copy(this).projectOnVector(e),this.sub(C0)}reflect(e){return this.sub(C0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Ti(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-mL(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}E.prototype.isVector3=!0;const C0=new E,$I=new Pn;class Hr{constructor(e=new E(1/0,1/0,1/0),t=new E(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],h=e[l+2];u<t&&(t=u),d<n&&(n=d),h<r&&(r=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),h=e.getZ(l);u<t&&(t=u),d<n&&(n=d),h<r&&(r=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=_h.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),E0.copy(t.boundingBox),E0.applyMatrix4(e.matrixWorld),this.union(E0));const n=e.children;for(let r=0,s=n.length;r<s;r++)this.expandByObject(n[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_h),_h.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(yh),Dm.subVectors(this.max,yh),tu.subVectors(e.a,yh),nu.subVectors(e.b,yh),iu.subVectors(e.c,yh),ia.subVectors(nu,tu),ra.subVectors(iu,nu),Qa.subVectors(tu,iu);let t=[0,-ia.z,ia.y,0,-ra.z,ra.y,0,-Qa.z,Qa.y,ia.z,0,-ia.x,ra.z,0,-ra.x,Qa.z,0,-Qa.x,-ia.y,ia.x,0,-ra.y,ra.x,0,-Qa.y,Qa.x,0];return!(!S0(t,tu,nu,iu,Dm)||(t=[1,0,0,0,1,0,0,0,1],!S0(t,tu,nu,iu,Dm)))&&(Am.crossVectors(ia,ra),t=[Am.x,Am.y,Am.z],S0(t,tu,nu,iu,Dm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return _h.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(_h).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(xo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xo)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Hr.prototype.isBox3=!0;const xo=[new E,new E,new E,new E,new E,new E,new E,new E],_h=new E,E0=new Hr,tu=new E,nu=new E,iu=new E,ia=new E,ra=new E,Qa=new E,yh=new E,Dm=new E,Am=new E,Ja=new E;function S0(i,e,t,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){Ja.fromArray(i,s);const a=r.x*Math.abs(Ja.x)+r.y*Math.abs(Ja.y)+r.z*Math.abs(Ja.z),l=e.dot(Ja),c=t.dot(Ja),u=n.dot(Ja);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const A$=new Hr,qI=new E,Im=new E,T0=new E;class el{constructor(e=new E,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):A$.setFromPoints(e).getCenter(n);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){T0.subVectors(e,this.center);const t=T0.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(T0.multiplyScalar(r/n)),this.radius+=r}return this}union(e){return!0===this.center.equals(e.center)?Im.set(0,0,1).multiplyScalar(e.radius):Im.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(qI.copy(e.center).add(Im)),this.expandByPoint(qI.copy(e.center).sub(Im)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const wo=new E,D0=new E,Rm=new E,sa=new E,A0=new E,Pm=new E,I0=new E;class tl{constructor(e=new E,t=new E(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wo.copy(this.direction).multiplyScalar(t).add(this.origin),wo.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){D0.copy(e).add(t).multiplyScalar(.5),Rm.copy(t).sub(e).normalize(),sa.copy(this.origin).sub(D0);const s=.5*e.distanceTo(t),o=-this.direction.dot(Rm),a=sa.dot(this.direction),l=-sa.dot(Rm),c=sa.lengthSq(),u=Math.abs(1-o*o);let d,h,f,p;if(u>0)if(d=o*l-a,h=o*a-l,p=s*u,d>=0)if(h>=-p)if(h<=p){const g=1/u;d*=g,h*=g,f=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-p?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=p?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(Rm).multiplyScalar(h).add(D0),f}intersectSphere(e,t){wo.subVectors(e.center,this.origin);const n=wo.dot(this.direction),r=wo.dot(wo)-n*n,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=n-o,l=n+o;return a<0&&l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),n>o||s>r||((s>n||n!=n)&&(n=s),(o<r||r!=r)&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),n>l||a>r)||((a>n||n!=n)&&(n=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return null!==this.intersectBox(e,wo)}intersectTriangle(e,t,n,r,s){A0.subVectors(t,e),Pm.subVectors(n,e),I0.crossVectors(A0,Pm);let a,o=this.direction.dot(I0);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}sa.subVectors(this.origin,e);const l=a*this.direction.dot(Pm.crossVectors(sa,Pm));if(l<0)return null;const c=a*this.direction.dot(A0.cross(sa));if(c<0||l+c>o)return null;const u=-a*sa.dot(I0);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ue{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,s,o,a,l,c,u,d,h,f,p,g,b){const _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=u,_[10]=d,_[14]=h,_[3]=f,_[7]=p,_[11]=g,_[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ue).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/ru.setFromMatrixColumn(e,0).length(),s=1/ru.setFromMatrixColumn(e,1).length(),o=1/ru.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===e.order){const h=o*u,f=o*d,p=a*u,g=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=f+p*c,t[5]=h-g*c,t[9]=-a*l,t[2]=g-h*c,t[6]=p+f*c,t[10]=o*l}else if("YXZ"===e.order){const h=l*u,f=l*d,p=c*u,g=c*d;t[0]=h+g*a,t[4]=p*a-f,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=f*a-p,t[6]=g+h*a,t[10]=o*l}else if("ZXY"===e.order){const h=l*u,f=l*d,p=c*u,g=c*d;t[0]=h-g*a,t[4]=-o*d,t[8]=p+f*a,t[1]=f+p*a,t[5]=o*u,t[9]=g-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const h=o*u,f=o*d,p=a*u,g=a*d;t[0]=l*u,t[4]=p*c-f,t[8]=h*c+g,t[1]=l*d,t[5]=g*c+h,t[9]=f*c-p,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const h=o*l,f=o*c,p=a*l,g=a*c;t[0]=l*u,t[4]=g-h*d,t[8]=p*d+f,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*d+p,t[10]=h-g*d}else if("XZY"===e.order){const h=o*l,f=o*c,p=a*l,g=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=h*d+g,t[5]=o*u,t[9]=f*d-p,t[2]=p*d-f,t[6]=a*u,t[10]=g*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(I$,e,R$)}lookAt(e,t,n){const r=this.elements;return gr.subVectors(e,t),0===gr.lengthSq()&&(gr.z=1),gr.normalize(),oa.crossVectors(n,gr),0===oa.lengthSq()&&(1===Math.abs(n.z)?gr.x+=1e-4:gr.z+=1e-4,gr.normalize(),oa.crossVectors(n,gr)),oa.normalize(),km.crossVectors(gr,oa),r[0]=oa.x,r[4]=km.x,r[8]=gr.x,r[1]=oa.y,r[5]=km.y,r[9]=gr.y,r[2]=oa.z,r[6]=km.z,r[10]=gr.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],u=n[1],d=n[5],h=n[9],f=n[13],p=n[2],g=n[6],b=n[10],_=n[14],m=n[3],w=n[7],x=n[11],C=n[15],D=r[0],k=r[4],N=r[8],W=r[12],z=r[1],V=r[5],S=r[9],A=r[13],H=r[2],G=r[6],L=r[10],B=r[14],K=r[3],ie=r[7],Y=r[11],J=r[15];return s[0]=o*D+a*z+l*H+c*K,s[4]=o*k+a*V+l*G+c*ie,s[8]=o*N+a*S+l*L+c*Y,s[12]=o*W+a*A+l*B+c*J,s[1]=u*D+d*z+h*H+f*K,s[5]=u*k+d*V+h*G+f*ie,s[9]=u*N+d*S+h*L+f*Y,s[13]=u*W+d*A+h*B+f*J,s[2]=p*D+g*z+b*H+_*K,s[6]=p*k+g*V+b*G+_*ie,s[10]=p*N+g*S+b*L+_*Y,s[14]=p*W+g*A+b*B+_*J,s[3]=m*D+w*z+x*H+C*K,s[7]=m*k+w*V+x*G+C*ie,s[11]=m*N+w*S+x*L+C*Y,s[15]=m*W+w*A+x*B+C*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14];return e[3]*(+s*l*d-r*c*d-s*a*h+n*c*h+r*a*f-n*l*f)+e[7]*(+t*l*f-t*c*h+s*o*h-r*o*f+r*c*u-s*l*u)+e[11]*(+t*c*d-t*a*f-s*o*d+n*o*f+s*a*u-n*c*u)+e[15]*(-r*a*u-t*l*d+t*a*h+r*o*d-n*o*h+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],b=e[14],_=e[15],m=d*b*c-g*h*c+g*l*f-a*b*f-d*l*_+a*h*_,w=p*h*c-u*b*c-p*l*f+o*b*f+u*l*_-o*h*_,x=u*g*c-p*d*c+p*a*f-o*g*f-u*a*_+o*d*_,C=p*d*l-u*g*l-p*a*h+o*g*h+u*a*b-o*d*b,D=t*m+n*w+r*x+s*C;if(0===D)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/D;return e[0]=m*k,e[1]=(g*h*s-d*b*s-g*r*f+n*b*f+d*r*_-n*h*_)*k,e[2]=(a*b*s-g*l*s+g*r*c-n*b*c-a*r*_+n*l*_)*k,e[3]=(d*l*s-a*h*s-d*r*c+n*h*c+a*r*f-n*l*f)*k,e[4]=w*k,e[5]=(u*b*s-p*h*s+p*r*f-t*b*f-u*r*_+t*h*_)*k,e[6]=(p*l*s-o*b*s-p*r*c+t*b*c+o*r*_-t*l*_)*k,e[7]=(o*h*s-u*l*s+u*r*c-t*h*c-o*r*f+t*l*f)*k,e[8]=x*k,e[9]=(p*d*s-u*g*s-p*n*f+t*g*f+u*n*_-t*d*_)*k,e[10]=(o*g*s-p*a*s+p*n*c-t*g*c-o*n*_+t*a*_)*k,e[11]=(u*a*s-o*d*s-u*n*c+t*d*c+o*n*f-t*a*f)*k,e[12]=C*k,e[13]=(u*g*r-p*d*r+p*n*h-t*g*h-u*n*b+t*d*b)*k,e[14]=(p*a*r-o*g*r-p*n*l+t*g*l+o*n*b-t*a*b)*k,e[15]=(o*d*r-u*a*r+u*n*l-t*d*l-o*n*h+t*a*h)*k,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+n,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+n,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,o){return this.set(1,n,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,p=s*d,g=o*u,b=o*d,_=a*d,m=l*c,w=l*u,x=l*d,C=n.x,D=n.y,k=n.z;return r[0]=(1-(g+_))*C,r[1]=(f+x)*C,r[2]=(p-w)*C,r[3]=0,r[4]=(f-x)*D,r[5]=(1-(h+_))*D,r[6]=(b+m)*D,r[7]=0,r[8]=(p+w)*k,r[9]=(b-m)*k,r[10]=(1-(h+g))*k,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=ru.set(r[0],r[1],r[2]).length();const o=ru.set(r[4],r[5],r[6]).length(),a=ru.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ds.copy(this);const c=1/s,u=1/o,d=1/a;return ds.elements[0]*=c,ds.elements[1]*=c,ds.elements[2]*=c,ds.elements[4]*=u,ds.elements[5]*=u,ds.elements[6]*=u,ds.elements[8]*=d,ds.elements[9]*=d,ds.elements[10]*=d,t.setFromRotationMatrix(ds),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,r,s,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*s/(n-r),u=(t+e)/(t-e),d=(n+r)/(n-r),h=-(o+s)/(o-s),f=-2*o*s/(o-s);return a[0]=2*s/(t-e),a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,s,o){const a=this.elements,l=1/(t-e),c=1/(n-r),u=1/(o-s),d=(t+e)*l,h=(n+r)*c,f=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}Ue.prototype.isMatrix4=!0;const ru=new E,ds=new Ue,I$=new E(0,0,0),R$=new E(1,1,1),oa=new E,km=new E,gr=new E,YI=new Ue,XI=new Pn;class Ls{constructor(e=0,t=0,n=0,r=Ls.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],h=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Ti(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ti(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ti(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ti(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Ti(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-Ti(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return YI.makeRotationFromQuaternion(e),this.setFromRotationMatrix(YI,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return XI.setFromEuler(this),this.setFromQuaternion(XI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new E(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ls.prototype.isEuler=!0,Ls.DefaultOrder="XYZ",Ls.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class R0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let P$=0;const ZI=new E,su=new Pn,Mo=new Ue,Fm=new E,vh=new E,k$=new E,F$=new Pn,KI=new E(1,0,0),QI=new E(0,1,0),JI=new E(0,0,1),L$={type:"added"},eR={type:"removed"};class Xt extends na{constructor(){super(),Object.defineProperty(this,"id",{value:P$++}),this.uuid=mr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xt.DefaultUp.clone();const e=new E,t=new Ls,n=new Pn,r=new E(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ue},normalMatrix:{value:new _i}}),this.matrix=new Ue,this.matrixWorld=new Ue,this.matrixAutoUpdate=Xt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new R0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return su.setFromAxisAngle(e,t),this.quaternion.multiply(su),this}rotateOnWorldAxis(e,t){return su.setFromAxisAngle(e,t),this.quaternion.premultiply(su),this}rotateX(e){return this.rotateOnAxis(KI,e)}rotateY(e){return this.rotateOnAxis(QI,e)}rotateZ(e){return this.rotateOnAxis(JI,e)}translateOnAxis(e,t){return ZI.copy(e).applyQuaternion(this.quaternion),this.position.add(ZI.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(KI,e)}translateY(e){return this.translateOnAxis(QI,e)}translateZ(e){return this.translateOnAxis(JI,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Mo.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Fm.copy(e):Fm.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),vh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mo.lookAt(vh,Fm,this.up):Mo.lookAt(Fm,vh,this.up),this.quaternion.setFromRotationMatrix(Mo),r&&(Mo.extractRotation(r.matrixWorld),su.setFromRotationMatrix(Mo),this.quaternion.premultiply(su.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(L$)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(eR)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(eR)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Mo.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Mo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Mo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(void 0!==o)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vh,e,k$),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vh,F$,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function s(a,l){return void 0===a[l.uuid]&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++)s(e.shapes,l[c]);else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++)r.animations.push(s(e.animations,this.animations[a]))}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),h=o(e.skeletons),f=o(e.animations);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),d.length>0&&(n.shapes=d),h.length>0&&(n.skeletons=h),f.length>0&&(n.animations=f)}return n.object=r,n;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++)this.add(e.children[n].clone());return this}}Xt.DefaultUp=new E(0,1,0),Xt.DefaultMatrixAutoUpdate=!0,Xt.prototype.isObject3D=!0;const hs=new E,Co=new E,P0=new E,Eo=new E,ou=new E,au=new E,tR=new E,k0=new E,F0=new E,L0=new E;class ti{constructor(e=new E,t=new E,n=new E){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),hs.subVectors(e,t),r.cross(hs);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){hs.subVectors(r,t),Co.subVectors(n,t),P0.subVectors(e,t);const o=hs.dot(hs),a=hs.dot(Co),l=hs.dot(P0),c=Co.dot(Co),u=Co.dot(P0),d=o*c-a*a;if(0===d)return s.set(-2,-1,-1);const h=1/d,f=(c*l-a*u)*h,p=(o*u-a*l)*h;return s.set(1-f-p,p,f)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Eo),Eo.x>=0&&Eo.y>=0&&Eo.x+Eo.y<=1}static getUV(e,t,n,r,s,o,a,l){return this.getBarycoord(e,t,n,r,Eo),l.set(0,0),l.addScaledVector(s,Eo.x),l.addScaledVector(o,Eo.y),l.addScaledVector(a,Eo.z),l}static isFrontFacing(e,t,n,r){return hs.subVectors(n,t),Co.subVectors(e,t),hs.cross(Co).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hs.subVectors(this.c,this.b),Co.subVectors(this.a,this.b),.5*hs.cross(Co).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ti.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ti.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,s){return ti.getUV(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return ti.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ti.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let o,a;ou.subVectors(r,n),au.subVectors(s,n),k0.subVectors(e,n);const l=ou.dot(k0),c=au.dot(k0);if(l<=0&&c<=0)return t.copy(n);F0.subVectors(e,r);const u=ou.dot(F0),d=au.dot(F0);if(u>=0&&d<=u)return t.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(n).addScaledVector(ou,o);L0.subVectors(e,s);const f=ou.dot(L0),p=au.dot(L0);if(p>=0&&f<=p)return t.copy(s);const g=f*c-l*p;if(g<=0&&c>=0&&p<=0)return a=c/(c-p),t.copy(n).addScaledVector(au,a);const b=u*p-f*d;if(b<=0&&d-u>=0&&f-p>=0)return tR.subVectors(s,r),a=(d-u)/(d-u+(f-p)),t.copy(r).addScaledVector(tR,a);const _=1/(b+g+h);return o=g*_,a=h*_,t.copy(n).addScaledVector(ou,o).addScaledVector(au,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let O$=0;class Di extends na{constructor(){super(),Object.defineProperty(this,"id",{value:O$++}),this.uuid=mr(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.format=ui,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.format!==ui&&(n.format=this.format),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}Di.prototype.isMaterial=!0;const nR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fs={h:0,s:0,l:0},Lm={h:0,s:0,l:0};function O0(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+6*(e-i)*(2/3-t):i}function N0(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function B0(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}let Pe=(()=>{class i{constructor(t,n,r){return void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,n,r){return this.r=t,this.g=n,this.b=r,this}setHSL(t,n,r){if(t=function(i,e){return(i%e+e)%e}(t,1),n=Ti(n,0,1),r=Ti(r,0,1),0===n)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=O0(o,s,t+1/3),this.g=O0(o,s,t),this.b=O0(o,s,t-1/3)}return this}setStyle(t){function n(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,n(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,n(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,u=parseInt(s[3],10)/100;return n(s[4]),this.setHSL(l,c,u)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],o=s.length;if(3===o)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,this;if(6===o)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const n=nR[t.toLowerCase()];return void 0!==n?this.setHex(n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=N0(t.r),this.g=N0(t.g),this.b=N0(t.b),this}copyLinearToSRGB(t){return this.r=B0(t.r),this.g=B0(t.g),this.b=B0(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){const n=this.r,r=this.g,s=this.b,o=Math.max(n,r,s),a=Math.min(n,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case n:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-n)/d+2;break;case s:l=(n-r)/d+4}l/=6}return t.h=l,t.s=c,t.l=u,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,n,r){return this.getHSL(fs),fs.h+=t,fs.s+=n,fs.l+=r,this.setHSL(fs.h,fs.s,fs.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,r){return this.r=t.r+(n.r-t.r)*r,this.g=t.g+(n.g-t.g)*r,this.b=t.b+(n.b-t.b)*r,this}lerpHSL(t,n){this.getHSL(fs),t.getHSL(Lm);const r=gh(fs.h,Lm.h,n),s=gh(fs.s,Lm.s,n),o=gh(fs.l,Lm.l,n);return this.setHSL(r,s,o),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return i.NAMES=nR,i})();Pe.prototype.isColor=!0,Pe.prototype.r=1,Pe.prototype.g=1,Pe.prototype.b=1;class So extends Di{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}So.prototype.isMeshBasicMaterial=!0;const xn=new E,Om=new Q;class an{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=fh,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Pe),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Q),t[n++]=o.x,t[n++]=o.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new E),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new on),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Om.fromBufferAttribute(this,t),Om.applyMatrix3(e),this.setXY(t,Om.x,Om.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)xn.fromBufferAttribute(this,t),xn.applyMatrix3(e),this.setXYZ(t,xn.x,xn.y,xn.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)xn.x=this.getX(t),xn.y=this.getY(t),xn.z=this.getZ(t),xn.applyMatrix4(e),this.setXYZ(t,xn.x,xn.y,xn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)xn.x=this.getX(t),xn.y=this.getY(t),xn.z=this.getZ(t),xn.applyNormalMatrix(e),this.setXYZ(t,xn.x,xn.y,xn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)xn.x=this.getX(t),xn.y=this.getY(t),xn.z=this.getZ(t),xn.transformDirection(e),this.setXYZ(t,xn.x,xn.y,xn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==fh&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}an.prototype.isBufferAttribute=!0;class V0 extends an{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class H0 extends an{constructor(e,t,n){super(new Uint32Array(e),t,n)}}(class extends an{constructor(e,t,n){super(new Uint16Array(e),t,n)}}).prototype.isFloat16BufferAttribute=!0;class Ge extends an{constructor(e,t,n){super(new Float32Array(e),t,n)}}let W$=0;const zr=new Ue,z0=new Xt,lu=new E,_r=new Hr,bh=new Hr,yi=new E;class ot extends na{constructor(){super(),Object.defineProperty(this,"id",{value:W$++}),this.uuid=mr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(jI(e)>65535?H0:V0)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const s=(new _i).getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return zr.makeRotationFromQuaternion(e),this.applyMatrix4(zr),this}rotateX(e){return zr.makeRotationX(e),this.applyMatrix4(zr),this}rotateY(e){return zr.makeRotationY(e),this.applyMatrix4(zr),this}rotateZ(e){return zr.makeRotationZ(e),this.applyMatrix4(zr),this}translate(e,t,n){return zr.makeTranslation(e,t,n),this.applyMatrix4(zr),this}scale(e,t,n){return zr.makeScale(e,t,n),this.applyMatrix4(zr),this}lookAt(e){return z0.lookAt(e),z0.updateMatrix(),this.applyMatrix4(z0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lu).negate(),this.translate(lu.x,lu.y,lu.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ge(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Hr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new E(-1/0,-1/0,-1/0),new E(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++)_r.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(yi.addVectors(this.boundingBox.min,_r.min),this.boundingBox.expandByPoint(yi),yi.addVectors(this.boundingBox.max,_r.max),this.boundingBox.expandByPoint(yi)):(this.boundingBox.expandByPoint(_r.min),this.boundingBox.expandByPoint(_r.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new el);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new E,1/0);if(e){const n=this.boundingSphere.center;if(_r.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)bh.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(yi.addVectors(_r.min,bh.min),_r.expandByPoint(yi),yi.addVectors(_r.max,bh.max),_r.expandByPoint(yi)):(_r.expandByPoint(bh.min),_r.expandByPoint(bh.max));_r.getCenter(n);let r=0;for(let s=0,o=e.count;s<o;s++)yi.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(yi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)yi.fromBufferAttribute(a,c),l&&(lu.fromBufferAttribute(e,c),yi.add(lu)),r=Math.max(r,n.distanceToSquared(yi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new an(new Float32Array(4*a),4));const l=t.tangent.array,c=[],u=[];for(let z=0;z<a;z++)c[z]=new E,u[z]=new E;const d=new E,h=new E,f=new E,p=new Q,g=new Q,b=new Q,_=new E,m=new E;function w(z,V,S){d.fromArray(r,3*z),h.fromArray(r,3*V),f.fromArray(r,3*S),p.fromArray(o,2*z),g.fromArray(o,2*V),b.fromArray(o,2*S),h.sub(d),f.sub(d),g.sub(p),b.sub(p);const A=1/(g.x*b.y-b.x*g.y);!isFinite(A)||(_.copy(h).multiplyScalar(b.y).addScaledVector(f,-g.y).multiplyScalar(A),m.copy(f).multiplyScalar(g.x).addScaledVector(h,-b.x).multiplyScalar(A),c[z].add(_),c[V].add(_),c[S].add(_),u[z].add(m),u[V].add(m),u[S].add(m))}let x=this.groups;0===x.length&&(x=[{start:0,count:n.length}]);for(let z=0,V=x.length;z<V;++z){const S=x[z],A=S.start;for(let G=A,L=A+S.count;G<L;G+=3)w(n[G+0],n[G+1],n[G+2])}const C=new E,D=new E,k=new E,N=new E;function W(z){k.fromArray(s,3*z),N.copy(k);const V=c[z];C.copy(V),C.sub(k.multiplyScalar(k.dot(V))).normalize(),D.crossVectors(N,V);const A=D.dot(u[z])<0?-1:1;l[4*z]=C.x,l[4*z+1]=C.y,l[4*z+2]=C.z,l[4*z+3]=A}for(let z=0,V=x.length;z<V;++z){const S=x[z],A=S.start;for(let G=A,L=A+S.count;G<L;G+=3)W(n[G+0]),W(n[G+1]),W(n[G+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new an(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let h=0,f=n.count;h<f;h++)n.setXYZ(h,0,0,0);const r=new E,s=new E,o=new E,a=new E,l=new E,c=new E,u=new E,d=new E;if(e)for(let h=0,f=e.count;h<f;h+=3){const p=e.getX(h+0),g=e.getX(h+1),b=e.getX(h+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,b),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,g),c.fromBufferAttribute(n,b),a.add(u),l.add(u),c.add(u),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(g,l.x,l.y,l.z),n.setXYZ(b,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),n.setXYZ(h+0,u.x,u.y,u.z),n.setXYZ(h+1,u.x,u.y,u.z),n.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===e.attributes[r])continue;const o=n[r].array,a=e.attributes[r],l=a.array,c=a.itemSize*t,u=Math.min(l.length,o.length-c);for(let d=0,h=c;d<u;d++,h++)o[h]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)yi.fromBufferAttribute(e,t),yi.normalize(),e.setXYZ(t,yi.x,yi.y,yi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,p=0;for(let g=0,b=l.length;g<b;g++){f=a.isInterleavedBufferAttribute?l[g]*a.data.stride+a.offset:l[g]*u;for(let _=0;_<u;_++)h[p++]=c[f++]}return new an(h,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ot,n=this.index.array,r=this.attributes;for(const a in r){const c=e(r[a],n);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=e(c[u],n);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n)e.data.attributes[l]=n[l].toJSON(e.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++)u.push(c[d].toJSON(e.data));u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}ot.prototype.isBufferGeometry=!0;const iR=new Ue,cu=new tl,U0=new el,aa=new E,la=new E,ca=new E,G0=new E,W0=new E,j0=new E,Nm=new E,Bm=new E,Vm=new E,Hm=new Q,zm=new Q,Um=new Q,$0=new E,Gm=new E;class zn extends Xt{constructor(e=new ot,t=new So){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;if(void 0===r||(null===n.boundingSphere&&n.computeBoundingSphere(),U0.copy(n.boundingSphere),U0.applyMatrix4(s),!1===e.ray.intersectsSphere(U0))||(iR.copy(s).invert(),cu.copy(e.ray).applyMatrix4(iR),null!==n.boundingBox&&!1===cu.intersectsBox(n.boundingBox)))return;let o;if(n.isBufferGeometry){const a=n.index,l=n.attributes.position,c=n.morphAttributes.position,u=n.morphTargetsRelative,d=n.attributes.uv,h=n.attributes.uv2,f=n.groups,p=n.drawRange;if(null!==a)if(Array.isArray(r))for(let g=0,b=f.length;g<b;g++){const _=f[g],m=r[_.materialIndex];for(let C=Math.max(_.start,p.start),D=Math.min(a.count,Math.min(_.start+_.count,p.start+p.count));C<D;C+=3){const k=a.getX(C),N=a.getX(C+1),W=a.getX(C+2);o=Wm(this,m,e,cu,l,c,u,d,h,k,N,W),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=_.materialIndex,t.push(o))}}else for(let _=Math.max(0,p.start),m=Math.min(a.count,p.start+p.count);_<m;_+=3){const w=a.getX(_),x=a.getX(_+1),C=a.getX(_+2);o=Wm(this,r,e,cu,l,c,u,d,h,w,x,C),o&&(o.faceIndex=Math.floor(_/3),t.push(o))}else if(void 0!==l)if(Array.isArray(r))for(let g=0,b=f.length;g<b;g++){const _=f[g],m=r[_.materialIndex];for(let C=Math.max(_.start,p.start),D=Math.min(l.count,Math.min(_.start+_.count,p.start+p.count));C<D;C+=3)o=Wm(this,m,e,cu,l,c,u,d,h,C,C+1,C+2),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=_.materialIndex,t.push(o))}else for(let _=Math.max(0,p.start),m=Math.min(l.count,p.start+p.count);_<m;_+=3)o=Wm(this,r,e,cu,l,c,u,d,h,_,_+1,_+2),o&&(o.faceIndex=Math.floor(_/3),t.push(o))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function Wm(i,e,t,n,r,s,o,a,l,c,u,d){aa.fromBufferAttribute(r,c),la.fromBufferAttribute(r,u),ca.fromBufferAttribute(r,d);const h=i.morphTargetInfluences;if(s&&h){Nm.set(0,0,0),Bm.set(0,0,0),Vm.set(0,0,0);for(let p=0,g=s.length;p<g;p++){const b=h[p],_=s[p];0!==b&&(G0.fromBufferAttribute(_,c),W0.fromBufferAttribute(_,u),j0.fromBufferAttribute(_,d),o?(Nm.addScaledVector(G0,b),Bm.addScaledVector(W0,b),Vm.addScaledVector(j0,b)):(Nm.addScaledVector(G0.sub(aa),b),Bm.addScaledVector(W0.sub(la),b),Vm.addScaledVector(j0.sub(ca),b)))}aa.add(Nm),la.add(Bm),ca.add(Vm)}i.isSkinnedMesh&&(i.boneTransform(c,aa),i.boneTransform(u,la),i.boneTransform(d,ca));const f=function(i,e,t,n,r,s,o,a){let l;if(l=1===e.side?n.intersectTriangle(o,s,r,!0,a):n.intersectTriangle(r,s,o,2!==e.side,a),null===l)return null;Gm.copy(a),Gm.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(Gm);return c<t.near||c>t.far?null:{distance:c,point:Gm.clone(),object:i}}(i,e,t,n,aa,la,ca,$0);if(f){a&&(Hm.fromBufferAttribute(a,c),zm.fromBufferAttribute(a,u),Um.fromBufferAttribute(a,d),f.uv=ti.getUV($0,aa,la,ca,Hm,zm,Um,new Q)),l&&(Hm.fromBufferAttribute(l,c),zm.fromBufferAttribute(l,u),Um.fromBufferAttribute(l,d),f.uv2=ti.getUV($0,aa,la,ca,Hm,zm,Um,new Q));const p={a:c,b:u,c:d,normal:new E,materialIndex:0};ti.getNormal(aa,la,ca,p.normal),f.face=p}return f}zn.prototype.isMesh=!0;class nl extends ot{constructor(e=1,t=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;function p(g,b,_,m,w,x,C,D,k,N,W){const z=x/k,V=C/N,S=x/2,A=C/2,H=D/2,G=k+1,L=N+1;let B=0,K=0;const ie=new E;for(let Y=0;Y<L;Y++){const J=Y*V-A;for(let ge=0;ge<G;ge++)ie[g]=(ge*z-S)*m,ie[b]=J*w,ie[_]=H,c.push(ie.x,ie.y,ie.z),ie[g]=0,ie[b]=0,ie[_]=D>0?1:-1,u.push(ie.x,ie.y,ie.z),d.push(ge/k),d.push(1-Y/N),B+=1}for(let Y=0;Y<N;Y++)for(let J=0;J<k;J++){const ye=h+J+G*(Y+1),me=h+(J+1)+G*(Y+1),Et=h+(J+1)+G*Y;l.push(h+J+G*Y,ye,Et),l.push(ye,me,Et),K+=6}a.addGroup(f,K,W),f+=K,h+=B}p("z","y","x",-1,-1,n,t,e,o,s,0),p("z","y","x",1,-1,n,t,-e,o,s,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,s,4),p("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new Ge(c,3)),this.setAttribute("normal",new Ge(u,3)),this.setAttribute("uv",new Ge(d,2))}static fromJSON(e){return new nl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function uu(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];e[t][n]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return e}function Bi(i){const e={};for(let t=0;t<i.length;t++){const n=uu(i[t]);for(const r in n)e[r]=n[r]}return e}const $$={clone:uu,merge:Bi};class To extends Di{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=uu(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}To.prototype.isShaderMaterial=!0;class jm extends Xt{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ue,this.projectionMatrix=new Ue,this.projectionMatrixInverse=new Ue}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}jm.prototype.isCamera=!0;class qn extends jm{constructor(e=50,t=1,n=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*mh*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Ka*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*mh*Math.atan(Math.tan(.5*Ka*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Ka*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*n/c,r*=o.width/l,n*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}qn.prototype.isPerspectiveCamera=!0;class q0 extends Xt{constructor(e,t,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new qn(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new E(1,0,0)),this.add(r);const s=new qn(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new E(-1,0,0)),this.add(s);const o=new qn(90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new E(0,1,0)),this.add(o);const a=new qn(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new E(0,-1,0)),this.add(a);const l=new qn(90,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new E(0,0,1)),this.add(l);const c=new qn(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new E(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(d),e.xr.enabled=u}}class xh extends $n{constructor(e,t,n,r,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,r,s,o,a,l,c,u),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}xh.prototype.isCubeTexture=!0;class Y0 extends Vr{constructor(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),super(e,e,t),this.texture=new xh(void 0,(t=t||{}).mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Rn,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=ui,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new nl(5,5,5),s=new To({name:"CubemapFromEquirect",uniforms:uu(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new zn(r,s),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=Rn),new q0(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(s)}}Y0.prototype.isWebGLCubeRenderTarget=!0;const X0=new E,X$=new E,Z$=new _i;class Do{constructor(e=new E(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=X0.subVectors(n,t).cross(X$.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(X0),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Z$.getNormalMatrix(e),r=this.coplanarPoint(X0).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Do.prototype.isPlane=!0;const fu=new el,$m=new E;class qm{constructor(e=new Do,t=new Do,n=new Do,r=new Do,s=new Do,o=new Do){this.planes=[e,t,n,r,s,o]}set(e,t,n,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=n[6],d=n[7],h=n[8],f=n[9],p=n[10],g=n[11],b=n[12],_=n[13],m=n[14],w=n[15];return t[0].setComponents(a-r,d-l,g-h,w-b).normalize(),t[1].setComponents(a+r,d+l,g+h,w+b).normalize(),t[2].setComponents(a+s,d+c,g+f,w+_).normalize(),t[3].setComponents(a-s,d-c,g-f,w-_).normalize(),t[4].setComponents(a-o,d-u,g-p,w-m).normalize(),t[5].setComponents(a+o,d+u,g+p,w+m).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),fu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(fu)}intersectsSprite(e){return fu.center.set(0,0,0),fu.radius=.7071067811865476,fu.applyMatrix4(e.matrixWorld),this.intersectsSphere(fu)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if($m.x=r.normal.x>0?e.max.x:e.min.x,$m.y=r.normal.y>0?e.max.y:e.min.y,$m.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint($m)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function rR(){let i=null,e=!1,t=null,n=null;function r(s,o){t(s,o),n=i.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function K$(i,e){const t=e.isWebGL2,n=new WeakMap;return{get:function(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)},remove:function(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=n.get(c);u&&(i.deleteBuffer(u.buffer),n.delete(c))},update:function(c,u){if(c.isGLBufferAttribute){const h=n.get(c);return void((!h||h.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const d=n.get(c);void 0===d?n.set(c,function(c,u){const d=c.array,h=c.usage,f=i.createBuffer();i.bindBuffer(u,f),i.bufferData(u,d,h),c.onUploadCallback();let p=5126;return d instanceof Float32Array?p=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?c.isFloat16BufferAttribute?t?p=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):p=5123:d instanceof Int16Array?p=5122:d instanceof Uint32Array?p=5125:d instanceof Int32Array?p=5124:d instanceof Int8Array?p=5120:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(p=5121),{buffer:f,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function(c,u,d){const h=u.array,f=u.updateRange;i.bindBuffer(d,c),-1===f.count?i.bufferSubData(d,0,h):(t?i.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):i.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1)}(d.buffer,c,u),d.version=c.version)}}}class il extends ot{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(n),l=Math.floor(r),c=a+1,u=l+1,d=e/a,h=t/l,f=[],p=[],g=[],b=[];for(let _=0;_<u;_++){const m=_*h-o;for(let w=0;w<c;w++)p.push(w*d-s,-m,0),g.push(0,0,1),b.push(w/a),b.push(1-_/l)}for(let _=0;_<l;_++)for(let m=0;m<a;m++){const x=m+c*(_+1),C=m+1+c*(_+1),D=m+1+c*_;f.push(m+c*_,x,D),f.push(x,C,D)}this.setIndex(f),this.setAttribute("position",new Ge(p,3)),this.setAttribute("normal",new Ge(g,3)),this.setAttribute("uv",new Ge(b,2))}static fromJSON(e){return new il(e.width,e.height,e.widthSegments,e.heightSegments)}}const zt={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\treturn texture2D( envMap, uv ).rgb;\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},De={common:{diffuse:{value:new Pe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new _i},uv2Transform:{value:new _i},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Q(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _i}},sprite:{diffuse:{value:new Pe(16777215)},opacity:{value:1},center:{value:new Q(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _i}}},Os={basic:{uniforms:Bi([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.fog]),vertexShader:zt.meshbasic_vert,fragmentShader:zt.meshbasic_frag},lambert:{uniforms:Bi([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.fog,De.lights,{emissive:{value:new Pe(0)}}]),vertexShader:zt.meshlambert_vert,fragmentShader:zt.meshlambert_frag},phong:{uniforms:Bi([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Pe(0)},specular:{value:new Pe(1118481)},shininess:{value:30}}]),vertexShader:zt.meshphong_vert,fragmentShader:zt.meshphong_frag},standard:{uniforms:Bi([De.common,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.roughnessmap,De.metalnessmap,De.fog,De.lights,{emissive:{value:new Pe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:zt.meshphysical_vert,fragmentShader:zt.meshphysical_frag},toon:{uniforms:Bi([De.common,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.gradientmap,De.fog,De.lights,{emissive:{value:new Pe(0)}}]),vertexShader:zt.meshtoon_vert,fragmentShader:zt.meshtoon_frag},matcap:{uniforms:Bi([De.common,De.bumpmap,De.normalmap,De.displacementmap,De.fog,{matcap:{value:null}}]),vertexShader:zt.meshmatcap_vert,fragmentShader:zt.meshmatcap_frag},points:{uniforms:Bi([De.points,De.fog]),vertexShader:zt.points_vert,fragmentShader:zt.points_frag},dashed:{uniforms:Bi([De.common,De.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zt.linedashed_vert,fragmentShader:zt.linedashed_frag},depth:{uniforms:Bi([De.common,De.displacementmap]),vertexShader:zt.depth_vert,fragmentShader:zt.depth_frag},normal:{uniforms:Bi([De.common,De.bumpmap,De.normalmap,De.displacementmap,{opacity:{value:1}}]),vertexShader:zt.meshnormal_vert,fragmentShader:zt.meshnormal_frag},sprite:{uniforms:Bi([De.sprite,De.fog]),vertexShader:zt.sprite_vert,fragmentShader:zt.sprite_frag},background:{uniforms:{uvTransform:{value:new _i},t2D:{value:null}},vertexShader:zt.background_vert,fragmentShader:zt.background_frag},cube:{uniforms:Bi([De.envmap,{opacity:{value:1}}]),vertexShader:zt.cube_vert,fragmentShader:zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zt.equirect_vert,fragmentShader:zt.equirect_frag},distanceRGBA:{uniforms:Bi([De.common,De.displacementmap,{referencePosition:{value:new E},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zt.distanceRGBA_vert,fragmentShader:zt.distanceRGBA_frag},shadow:{uniforms:Bi([De.lights,De.fog,{color:{value:new Pe(0)},opacity:{value:1}}]),vertexShader:zt.shadow_vert,fragmentShader:zt.shadow_frag}};function qq(i,e,t,n,r){const s=new Pe(0);let a,l,o=0,c=null,u=0,d=null;function f(p,g){t.buffers.color.setClear(p.r,p.g,p.b,g,r)}return{getClearColor:function(){return s},setClearColor:function(p,g=1){s.set(p),o=g,f(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(p){o=p,f(s,o)},render:function(p,g){let b=!1,_=!0===g.isScene?g.background:null;_&&_.isTexture&&(_=e.get(_));const m=i.xr,w=m.getSession&&m.getSession();w&&"additive"===w.environmentBlendMode&&(_=null),null===_?f(s,o):_&&_.isColor&&(f(_,1),b=!0),(i.autoClear||b)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),_&&(_.isCubeTexture||306===_.mapping)?(void 0===l&&(l=new zn(new nl(1,1,1),new To({name:"BackgroundCubeMaterial",uniforms:uu(Os.cube.uniforms),vertexShader:Os.cube.vertexShader,fragmentShader:Os.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(x,C,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(l)),l.material.uniforms.envMap.value=_,l.material.uniforms.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,(c!==_||u!==_.version||d!==i.toneMapping)&&(l.material.needsUpdate=!0,c=_,u=_.version,d=i.toneMapping),p.unshift(l,l.geometry,l.material,0,0,null)):_&&_.isTexture&&(void 0===a&&(a=new zn(new il(2,2),new To({name:"BackgroundMaterial",uniforms:uu(Os.background.uniforms),vertexShader:Os.background.vertexShader,fragmentShader:Os.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(a)),a.material.uniforms.t2D.value=_,!0===_.matrixAutoUpdate&&_.updateMatrix(),a.material.uniforms.uvTransform.value.copy(_.matrix),(c!==_||u!==_.version||d!==i.toneMapping)&&(a.material.needsUpdate=!0,c=_,u=_.version,d=i.toneMapping),p.unshift(a,a.geometry,a.material,0,0,null))}}}function Yq(i,e,t,n){const r=i.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||null!==s,a={},l=g(null);let c=l;function h(A){return n.isWebGL2?i.bindVertexArray(A):s.bindVertexArrayOES(A)}function f(A){return n.isWebGL2?i.deleteVertexArray(A):s.deleteVertexArrayOES(A)}function g(A){const H=[],G=[],L=[];for(let B=0;B<r;B++)H[B]=0,G[B]=0,L[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:G,attributeDivisors:L,object:A,attributes:{},index:null}}function m(){const A=c.newAttributes;for(let H=0,G=A.length;H<G;H++)A[H]=0}function w(A){x(A,0)}function x(A,H){const L=c.enabledAttributes,B=c.attributeDivisors;c.newAttributes[A]=1,0===L[A]&&(i.enableVertexAttribArray(A),L[A]=1),B[A]!==H&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](A,H),B[A]=H)}function C(){const A=c.newAttributes,H=c.enabledAttributes;for(let G=0,L=H.length;G<L;G++)H[G]!==A[G]&&(i.disableVertexAttribArray(G),H[G]=0)}function D(A,H,G,L,B,K){!0!==n.isWebGL2||5124!==G&&5125!==G?i.vertexAttribPointer(A,H,G,L,B,K):i.vertexAttribIPointer(A,H,G,B,K)}function V(){S(),c!==l&&(c=l,h(c.object))}function S(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(A,H,G,L,B){let K=!1;if(o){const ie=function(A,H,G){const L=!0===G.wireframe;let B=a[A.id];void 0===B&&(B={},a[A.id]=B);let K=B[H.id];void 0===K&&(K={},B[H.id]=K);let ie=K[L];return void 0===ie&&(ie=g(n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()),K[L]=ie),ie}(L,G,H);c!==ie&&(c=ie,h(c.object)),K=function(A,H){const G=c.attributes,L=A.attributes;let B=0;for(const K in L){const ie=G[K],Y=L[K];if(void 0===ie||ie.attribute!==Y||ie.data!==Y.data)return!0;B++}return c.attributesNum!==B||c.index!==H}(L,B),K&&function(A,H){const G={},L=A.attributes;let B=0;for(const K in L){const ie=L[K],Y={};Y.attribute=ie,ie.data&&(Y.data=ie.data),G[K]=Y,B++}c.attributes=G,c.attributesNum=B,c.index=H}(L,B)}else{const ie=!0===H.wireframe;(c.geometry!==L.id||c.program!==G.id||c.wireframe!==ie)&&(c.geometry=L.id,c.program=G.id,c.wireframe=ie,K=!0)}!0===A.isInstancedMesh&&(K=!0),null!==B&&t.update(B,34963),K&&(function(A,H,G,L){if(!1===n.isWebGL2&&(A.isInstancedMesh||L.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;m();const B=L.attributes,K=G.getAttributes(),ie=H.defaultAttributeValues;for(const Y in K){const J=K[Y];if(J.location>=0){let ge=B[Y];if(void 0===ge&&("instanceMatrix"===Y&&A.instanceMatrix&&(ge=A.instanceMatrix),"instanceColor"===Y&&A.instanceColor&&(ge=A.instanceColor)),void 0!==ge){const ye=ge.normalized,me=ge.itemSize,Et=t.get(ge);if(void 0===Et)continue;const re=Et.buffer,qe=Et.type,je=Et.bytesPerElement;if(ge.isInterleavedBufferAttribute){const Le=ge.data,Ve=Le.stride,It=ge.offset;if(Le&&Le.isInstancedInterleavedBuffer){for(let ee=0;ee<J.locationSize;ee++)x(J.location+ee,Le.meshPerAttribute);!0!==A.isInstancedMesh&&void 0===L._maxInstanceCount&&(L._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let ee=0;ee<J.locationSize;ee++)w(J.location+ee);i.bindBuffer(34962,re);for(let ee=0;ee<J.locationSize;ee++)D(J.location+ee,me/J.locationSize,qe,ye,Ve*je,(It+me/J.locationSize*ee)*je)}else{if(ge.isInstancedBufferAttribute){for(let Le=0;Le<J.locationSize;Le++)x(J.location+Le,ge.meshPerAttribute);!0!==A.isInstancedMesh&&void 0===L._maxInstanceCount&&(L._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let Le=0;Le<J.locationSize;Le++)w(J.location+Le);i.bindBuffer(34962,re);for(let Le=0;Le<J.locationSize;Le++)D(J.location+Le,me/J.locationSize,qe,ye,me*je,me/J.locationSize*Le*je)}}else if(void 0!==ie){const ye=ie[Y];if(void 0!==ye)switch(ye.length){case 2:i.vertexAttrib2fv(J.location,ye);break;case 3:i.vertexAttrib3fv(J.location,ye);break;case 4:i.vertexAttrib4fv(J.location,ye);break;default:i.vertexAttrib1fv(J.location,ye)}}}}C()}(A,H,G,L),null!==B&&i.bindBuffer(34963,t.get(B).buffer))},reset:V,resetDefaultState:S,dispose:function(){V();for(const A in a){const H=a[A];for(const G in H){const L=H[G];for(const B in L)f(L[B].object),delete L[B];delete H[G]}delete a[A]}},releaseStatesOfGeometry:function(A){if(void 0===a[A.id])return;const H=a[A.id];for(const G in H){const L=H[G];for(const B in L)f(L[B].object),delete L[B];delete H[G]}delete a[A.id]},releaseStatesOfProgram:function(A){for(const H in a){const G=a[H];if(void 0===G[A.id])continue;const L=G[A.id];for(const B in L)f(L[B].object),delete L[B];delete G[A.id]}},initAttributes:m,enableAttribute:w,disableUnusedAttributes:C}}function Xq(i,e,t,n){const r=n.isWebGL2;let s;this.setMode=function(c){s=c},this.render=function(c,u){i.drawArrays(s,c,u),t.update(u,s,1)},this.renderInstances=function(c,u,d){if(0===d)return;let h,f;if(r)h=i,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](s,c,u,d),t.update(u,s,d)}}function Zq(i,e,t){let n;function s(k){if("highp"===k){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";k="mediump"}return"mediump"===k&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&i instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&i instanceof WebGL2ComputeRenderingContext;let a=void 0!==t.precision?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,d=i.getParameter(34930),h=i.getParameter(35660),f=i.getParameter(3379),p=i.getParameter(34076),g=i.getParameter(34921),b=i.getParameter(36347),_=i.getParameter(36348),m=i.getParameter(36349),w=h>0,x=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===e.has("EXT_texture_filter_anisotropic")){const k=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:b,maxVaryings:_,maxFragmentUniforms:m,vertexTextures:w,floatFragmentTextures:x,floatVertexTextures:w&&x,maxSamples:o?i.getParameter(36183):0}}function Kq(i){const e=this;let t=null,n=0,r=!1,s=!1;const o=new Do,a=new _i,l={value:null,needsUpdate:!1};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(d,h,f,p){const g=null!==d?d.length:0;let b=null;if(0!==g){if(b=l.value,!0!==p||null===b){const _=f+4*g,m=h.matrixWorldInverse;a.getNormalMatrix(m),(null===b||b.length<_)&&(b=new Float32Array(_));for(let w=0,x=f;w!==g;++w,x+=4)o.copy(d[w]).applyMatrix4(m,a),o.normal.toArray(b,x),b[x+3]=o.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,b}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,f){const p=0!==d.length||h||0!==n||r;return r=h,t=u(d,f,0),n=d.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,h,f){const p=d.clippingPlanes,g=d.clipIntersection,b=d.clipShadows,_=i.get(d);if(!r||null===p||0===p.length||s&&!b)s?u(null):c();else{const m=s?0:n,w=4*m;let x=_.clippingState||null;l.value=x,x=u(p,h,w,f);for(let C=0;C!==w;++C)x[C]=t[C];_.clippingState=x,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=m}}}function Qq(i){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=301:304===a&&(o.mapping=302),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=i.getRenderTarget(),u=new Y0(l.height/2);return u.fromEquirectangularTexture(i,o),e.set(o,u),i.setRenderTarget(c),o.addEventListener("dispose",r),t(u.texture,o.mapping)}return null}}}return o},dispose:function(){e=new WeakMap}}}Os.physical={uniforms:Bi([Os.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Q(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Pe(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Q},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Pe(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new Pe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:zt.meshphysical_vert,fragmentShader:zt.meshphysical_frag};class Ym extends jm{constructor(e=-1,t=1,n=1,r=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}Ym.prototype.isOrthographicCamera=!0;class pu extends To{constructor(e){super(e),this.type="RawShaderMaterial"}}pu.prototype.isRawShaderMaterial=!0;const Ns=Math.pow(2,8),sR=[.125,.215,.35,.446,.526,.582],oR=5+sR.length,Xm={[us]:0,[Zc]:1},Z0=new Ym,{_lodPlanes:wh,_sizeLods:aR,_sigmas:Zm}=e9(),lR=new Pe;let K0=null;const rl=(1+Math.sqrt(5))/2,_u=1/rl,cR=[new E(1,1,1),new E(-1,1,1),new E(1,1,-1),new E(-1,1,-1),new E(0,rl,_u),new E(0,rl,-_u),new E(_u,0,rl),new E(-_u,0,rl),new E(rl,_u,0),new E(-rl,_u,0)];class Jq{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(i){const e=new Float32Array(20),t=new E(0,1,0);return new pu({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){K0=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=hR(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=dR(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<wh.length;e++)wh[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(K0),e.scissorTest=!1,Km(e,0,0,e.width,e.height)}_fromTexture(e){K0=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:Rn,minFilter:Rn,generateMipmaps:!1,type:Xa,format:ui,encoding:us,depthBuffer:!1},n=uR(t);return n.depthBuffer=!e,this._pingPongRenderTarget=uR(t),n}_compileMaterial(e){const t=new zn(wh[0],e);this._renderer.compile(t,Z0)}_sceneToCubeUV(e,t,n,r){const a=new qn(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(lR),u.toneMapping=0,u.autoClear=!1;const f=new So({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new zn(new nl,f);let g=!1;const b=e.background;b?b.isColor&&(f.color.copy(b),e.background=null,g=!0):(f.color.copy(lR),g=!0);for(let _=0;_<6;_++){const m=_%3;0==m?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):1==m?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_])),Km(r,m*Ns,_>2?Ns:0,Ns,Ns),u.setRenderTarget(r),g&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=b}_setEncoding(e,t){e.value=!0===this._renderer.capabilities.isWebGL2&&t.format===ui&&t.type===vo&&t.encoding===Zc?Xm[us]:Xm[t.encoding]}_textureToCubeUV(e,t){const n=this._renderer,r=301===e.mapping||302===e.mapping;r?null==this._cubemapShader&&(this._cubemapShader=hR()):null==this._equirectShader&&(this._equirectShader=dR());const s=r?this._cubemapShader:this._equirectShader,o=new zn(wh[0],s),a=s.uniforms;a.envMap.value=e,r||a.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(a.inputEncoding,e),Km(t,0,0,3*Ns,2*Ns),n.setRenderTarget(t),n.render(o,Z0)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<oR;r++){const s=Math.sqrt(Zm[r]*Zm[r]-Zm[r-1]*Zm[r-1]);this._blur(e,r-1,r,s,cR[(r-1)%cR.length])}t.autoClear=n}_blur(e,t,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",s),this._halfBlur(o,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new zn(wh[r],c),h=c.uniforms,f=aR[n]-1,p=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,g=s/p,b=isFinite(s)?1+Math.floor(3*g):20;b>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to 20`);const _=[];let m=0;for(let D=0;D<20;++D){const k=D/g,N=Math.exp(-k*k/2);_.push(N),0==D?m+=N:D<b&&(m+=2*N)}for(let D=0;D<_.length;D++)_[D]=_[D]/m;h.envMap.value=e.texture,h.samples.value=b,h.weights.value=_,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a),h.dTheta.value=p,h.mipInt.value=8-n;const w=aR[r];Km(t,3*Math.max(0,Ns-2*w),(0===r?0:2*Ns)+2*w*(r>4?r-8+4:0),3*w,2*w),l.setRenderTarget(t),l.render(d,Z0)}}function e9(){const i=[],e=[],t=[];let n=8;for(let r=0;r<oR;r++){const s=Math.pow(2,n);e.push(s);let o=1/s;r>4?o=sR[r-8+4-1]:0==r&&(o=0),t.push(o);const a=1/(s-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=6,h=6,f=3,p=2,g=1,b=new Float32Array(f*h*d),_=new Float32Array(p*h*d),m=new Float32Array(g*h*d);for(let x=0;x<d;x++){const C=x%3*2/3-1,D=x>2?0:-1;b.set([C,D,0,C+2/3,D,0,C+2/3,D+1,0,C,D,0,C+2/3,D+1,0,C,D+1,0],f*h*x),_.set(u,p*h*x),m.set([x,x,x,x,x,x],g*h*x)}const w=new ot;w.setAttribute("position",new an(b,f)),w.setAttribute("uv",new an(_,p)),w.setAttribute("faceIndex",new an(m,g)),i.push(w),n>4&&n--}return{_lodPlanes:i,_sizeLods:e,_sigmas:t}}function uR(i){const e=new Vr(3*Ns,3*Ns,i);return e.texture.mapping=306,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Km(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function dR(){const i=new Q(1,1);return new pu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:i},inputEncoding:{value:Xm[us]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function hR(){return new pu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Xm[us]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function n9(i){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const l=a.mapping,c=303===l||304===l,u=301===l||302===l;if(c||u){if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&function(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)){const h=i.getRenderTarget();null===t&&(t=new Jq(i));const f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),i.setRenderTarget(h),a.addEventListener("dispose",s),f.texture}return null}}}return a},dispose:function(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function i9(i){const e={};function t(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return null!==t(n)},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function r9(i,e,t,n){const r={},s=new WeakMap;function o(d){const h=d.target;null!==h.index&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);h.removeEventListener("dispose",o),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),n.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function c(d){const h=[],f=d.index,p=d.attributes.position;let g=0;if(null!==f){const m=f.array;g=f.version;for(let w=0,x=m.length;w<x;w+=3){const C=m[w+0],D=m[w+1],k=m[w+2];h.push(C,D,D,k,k,C)}}else{g=p.version;for(let w=0,x=p.array.length/3-1;w<x;w+=3){const C=w+0,D=w+1,k=w+2;h.push(C,D,D,k,k,C)}}const b=new(jI(h)>65535?H0:V0)(h,1);b.version=g;const _=s.get(d);_&&e.remove(_),s.set(d,b)}return{get:function(d,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h},update:function(d){const h=d.attributes;for(const p in h)e.update(h[p],34962);const f=d.morphAttributes;for(const p in f){const g=f[p];for(let b=0,_=g.length;b<_;b++)e.update(g[b],34962)}},getWireframeAttribute:function(d){const h=s.get(d);if(h){const f=d.index;null!==f&&h.version<f.version&&c(d)}else c(d);return s.get(d)}}}function s9(i,e,t,n){const r=n.isWebGL2;let s,a,l;this.setMode=function(h){s=h},this.setIndex=function(h){a=h.type,l=h.bytesPerElement},this.render=function(h,f){i.drawElements(s,f,a,h*l),t.update(f,s,1)},this.renderInstances=function(h,f,p){if(0===p)return;let g,b;if(r)g=i,b="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",null===g)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[b](s,f,a,h*l,p),t.update(f,s,p)}}function o9(i){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}class ex extends $n{constructor(e=null,t=1,n=1,r=1){super(null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=ei,this.minFilter=ei,this.wrapR=Ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}function a9(i,e){return i[0]-e[0]}function l9(i,e){return Math.abs(e[1])-Math.abs(i[1])}function fR(i,e){let t=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),i.divideScalar(t)}function c9(i,e,t){const n={},r=new Float32Array(8),s=new WeakMap,o=new E,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function(c,u,d,h){const f=c.morphTargetInfluences;if(!0===e.isWebGL2){const p=u.morphAttributes.position.length;let g=s.get(u);if(void 0===g||g.count!==p){void 0!==g&&g.texture.dispose();const m=void 0!==u.morphAttributes.normal,w=u.morphAttributes.position,x=u.morphAttributes.normal||[],D=!0===m?2:1;let k=u.attributes.position.count*D,N=1;k>e.maxTextureSize&&(N=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const W=new Float32Array(k*N*4*p),z=new ex(W,k,N,p);z.format=ui,z.type=bo,z.needsUpdate=!0;const V=4*D;for(let S=0;S<p;S++){const A=w[S],H=x[S],G=k*N*4*S;for(let L=0;L<A.count;L++){o.fromBufferAttribute(A,L),!0===A.normalized&&fR(o,A);const B=L*V;W[G+B+0]=o.x,W[G+B+1]=o.y,W[G+B+2]=o.z,W[G+B+3]=0,!0===m&&(o.fromBufferAttribute(H,L),!0===H.normalized&&fR(o,H),W[G+B+4]=o.x,W[G+B+5]=o.y,W[G+B+6]=o.z,W[G+B+7]=0)}}g={count:p,texture:z,size:new Q(k,N)},s.set(u,g)}let b=0;for(let m=0;m<f.length;m++)b+=f[m];const _=u.morphTargetsRelative?1:1-b;h.getUniforms().setValue(i,"morphTargetBaseInfluence",_),h.getUniforms().setValue(i,"morphTargetInfluences",f),h.getUniforms().setValue(i,"morphTargetsTexture",g.texture,t),h.getUniforms().setValue(i,"morphTargetsTextureSize",g.size)}else{const p=void 0===f?0:f.length;let g=n[u.id];if(void 0===g||g.length!==p){g=[];for(let x=0;x<p;x++)g[x]=[x,0];n[u.id]=g}for(let x=0;x<p;x++){const C=g[x];C[0]=x,C[1]=f[x]}g.sort(l9);for(let x=0;x<8;x++)x<p&&g[x][1]?(a[x][0]=g[x][0],a[x][1]=g[x][1]):(a[x][0]=Number.MAX_SAFE_INTEGER,a[x][1]=0);a.sort(a9);const b=u.morphAttributes.position,_=u.morphAttributes.normal;let m=0;for(let x=0;x<8;x++){const C=a[x],D=C[0],k=C[1];D!==Number.MAX_SAFE_INTEGER&&k?(b&&u.getAttribute("morphTarget"+x)!==b[D]&&u.setAttribute("morphTarget"+x,b[D]),_&&u.getAttribute("morphNormal"+x)!==_[D]&&u.setAttribute("morphNormal"+x,_[D]),r[x]=k,m+=k):(b&&!0===u.hasAttribute("morphTarget"+x)&&u.deleteAttribute("morphTarget"+x),_&&!0===u.hasAttribute("morphNormal"+x)&&u.deleteAttribute("morphNormal"+x),r[x]=0)}const w=u.morphTargetsRelative?1:1-m;h.getUniforms().setValue(i,"morphTargetBaseInfluence",w),h.getUniforms().setValue(i,"morphTargetInfluences",r)}}}}function u9(i,e,t,n){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function(l){const c=n.render.frame,d=e.get(l,l.geometry);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),null!==l.instanceColor&&t.update(l.instanceColor,34962)),d},dispose:function(){r=new WeakMap}}}ex.prototype.isDataTexture2DArray=!0;class pR extends $n{constructor(e=null,t=1,n=1,r=1){super(null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=ei,this.minFilter=ei,this.wrapR=Ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}pR.prototype.isDataTexture3D=!0;const mR=new $n,gR=new ex,_R=new pR,yR=new xh,vR=[],bR=[],xR=new Float32Array(16),wR=new Float32Array(9),MR=new Float32Array(4);function yu(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=vR[r];if(void 0===s&&(s=new Float32Array(r),vR[r]=s),0!==e){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,i[o].toArray(s,a)}return s}function Zi(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Vi(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Qm(i,e){let t=bR[e];void 0===t&&(t=new Int32Array(e),bR[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function d9(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function h9(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Zi(t,e))return;i.uniform2fv(this.addr,e),Vi(t,e)}}function f9(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Zi(t,e))return;i.uniform3fv(this.addr,e),Vi(t,e)}}function p9(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Zi(t,e))return;i.uniform4fv(this.addr,e),Vi(t,e)}}function m9(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Zi(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Vi(t,e)}else{if(Zi(t,n))return;MR.set(n),i.uniformMatrix2fv(this.addr,!1,MR),Vi(t,n)}}function g9(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Zi(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Vi(t,e)}else{if(Zi(t,n))return;wR.set(n),i.uniformMatrix3fv(this.addr,!1,wR),Vi(t,n)}}function _9(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Zi(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Vi(t,e)}else{if(Zi(t,n))return;xR.set(n),i.uniformMatrix4fv(this.addr,!1,xR),Vi(t,n)}}function y9(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function v9(i,e){const t=this.cache;Zi(t,e)||(i.uniform2iv(this.addr,e),Vi(t,e))}function b9(i,e){const t=this.cache;Zi(t,e)||(i.uniform3iv(this.addr,e),Vi(t,e))}function x9(i,e){const t=this.cache;Zi(t,e)||(i.uniform4iv(this.addr,e),Vi(t,e))}function w9(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function M9(i,e){const t=this.cache;Zi(t,e)||(i.uniform2uiv(this.addr,e),Vi(t,e))}function C9(i,e){const t=this.cache;Zi(t,e)||(i.uniform3uiv(this.addr,e),Vi(t,e))}function E9(i,e){const t=this.cache;Zi(t,e)||(i.uniform4uiv(this.addr,e),Vi(t,e))}function S9(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.safeSetTexture2D(e||mR,r)}function T9(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||_R,r)}function D9(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.safeSetTextureCube(e||yR,r)}function A9(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||gR,r)}function R9(i,e){i.uniform1fv(this.addr,e)}function P9(i,e){const t=yu(e,this.size,2);i.uniform2fv(this.addr,t)}function k9(i,e){const t=yu(e,this.size,3);i.uniform3fv(this.addr,t)}function F9(i,e){const t=yu(e,this.size,4);i.uniform4fv(this.addr,t)}function L9(i,e){const t=yu(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function O9(i,e){const t=yu(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function N9(i,e){const t=yu(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function B9(i,e){i.uniform1iv(this.addr,e)}function V9(i,e){i.uniform2iv(this.addr,e)}function H9(i,e){i.uniform3iv(this.addr,e)}function z9(i,e){i.uniform4iv(this.addr,e)}function U9(i,e){i.uniform1uiv(this.addr,e)}function G9(i,e){i.uniform2uiv(this.addr,e)}function W9(i,e){i.uniform3uiv(this.addr,e)}function j9(i,e){i.uniform4uiv(this.addr,e)}function $9(i,e,t){const n=e.length,r=Qm(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.safeSetTexture2D(e[s]||mR,r[s])}function q9(i,e,t){const n=e.length,r=Qm(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.setTexture3D(e[s]||_R,r[s])}function Y9(i,e,t){const n=e.length,r=Qm(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.safeSetTextureCube(e[s]||yR,r[s])}function X9(i,e,t){const n=e.length,r=Qm(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.setTexture2DArray(e[s]||gR,r[s])}function K9(i,e,t){this.id=i,this.addr=t,this.cache=[],this.setValue=function(i){switch(i){case 5126:return d9;case 35664:return h9;case 35665:return f9;case 35666:return p9;case 35674:return m9;case 35675:return g9;case 35676:return _9;case 5124:case 35670:return y9;case 35667:case 35671:return v9;case 35668:case 35672:return b9;case 35669:case 35673:return x9;case 5125:return w9;case 36294:return M9;case 36295:return C9;case 36296:return E9;case 35678:case 36198:case 36298:case 36306:case 35682:return S9;case 35679:case 36299:case 36307:return T9;case 35680:case 36300:case 36308:case 36293:return D9;case 36289:case 36303:case 36311:case 36292:return A9}}(e.type)}function CR(i,e,t){this.id=i,this.addr=t,this.cache=[],this.size=e.size,this.setValue=function(i){switch(i){case 5126:return R9;case 35664:return P9;case 35665:return k9;case 35666:return F9;case 35674:return L9;case 35675:return O9;case 35676:return N9;case 5124:case 35670:return B9;case 35667:case 35671:return V9;case 35668:case 35672:return H9;case 35669:case 35673:return z9;case 5125:return U9;case 36294:return G9;case 36295:return W9;case 36296:return j9;case 35678:case 36198:case 36298:case 36306:case 35682:return $9;case 35679:case 36299:case 36307:return q9;case 35680:case 36300:case 36308:case 36293:return Y9;case 36289:case 36303:case 36311:case 36292:return X9}}(e.type)}function ER(i){this.id=i,this.seq=[],this.map={}}CR.prototype.updateCache=function(i){const e=this.cache;i instanceof Float32Array&&e.length!==i.length&&(this.cache=new Float32Array(i.length)),Vi(e,i)},ER.prototype.setValue=function(i,e,t){const n=this.seq;for(let r=0,s=n.length;r!==s;++r){const o=n[r];o.setValue(i,e[o.id],t)}};const tx=/(\w+)(\])?(\[|\.)?/g;function SR(i,e){i.seq.push(e),i.map[e.id]=e}function Q9(i,e,t){const n=i.name,r=n.length;for(tx.lastIndex=0;;){const s=tx.exec(n),o=tx.lastIndex;let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&o+2===r){SR(t,void 0===c?new K9(a,i,e):new CR(a,i,e));break}{let d=t.map[a];void 0===d&&(d=new ER(a),SR(t,d)),t=d}}}function da(i,e){this.seq=[],this.map={};const t=i.getProgramParameter(e,35718);for(let n=0;n<t;++n){const r=i.getActiveUniform(e,n);Q9(r,i.getUniformLocation(e,r.name),this)}}function TR(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}da.prototype.setValue=function(i,e,t,n){const r=this.map[e];void 0!==r&&r.setValue(i,t,n)},da.prototype.setOptional=function(i,e,t){const n=e[t];void 0!==n&&this.setValue(i,t,n)},da.upload=function(i,e,t,n){for(let r=0,s=e.length;r!==s;++r){const o=e[r],a=t[o.id];!1!==a.needsUpdate&&o.setValue(i,a.value,n)}},da.seqWithValue=function(i,e){const t=[];for(let n=0,r=i.length;n!==r;++n){const s=i[n];s.id in e&&t.push(s)}return t};let J9=0;function DR(i){switch(i){case us:return["Linear","( value )"];case Zc:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}function AR(i,e,t){const n=i.getShaderParameter(e,35713),r=i.getShaderInfoLog(e).trim();return n&&""===r?"":t.toUpperCase()+"\n\n"+r+"\n\n"+function(i){const e=i.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(i.getShaderSource(e))}function sl(i,e){const t=DR(e);return"vec4 "+i+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function tY(i,e){const t=DR(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function nY(i,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Mh(i){return""!==i}function IR(i,e){return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function RR(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const oY=/^[ \t]*#include +<([\w\d./]+)>/gm;function nx(i){return i.replace(oY,aY)}function aY(i,e){const t=zt[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return nx(t)}const lY=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,cY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function PR(i){return i.replace(cY,kR).replace(lY,uY)}function uY(i,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),kR(0,e,t,n)}function kR(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function FR(i){let e="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?e+="\n#define HIGH_PRECISION":"mediump"===i.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(e+="\n#define LOW_PRECISION"),e}function mY(i,e,t,n){const r=i.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function(i){let e="SHADOWMAP_TYPE_BASIC";return 1===i.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===i.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===i.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(t),d=function(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),h=t.isWebGL2?"":function(i){return[i.extensionDerivatives||i.envMapCubeUV||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Mh).join("\n")}(t),f=function(i){const e=[];for(const t in i){const n=i[t];!1!==n&&e.push("#define "+t+" "+n)}return e.join("\n")}(s),p=r.createProgram();let g,b,_=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(g=[f].filter(Mh).join("\n"),g.length>0&&(g+="\n"),b=[h,f].filter(Mh).join("\n"),b.length>0&&(b+="\n")):(g=[FR(t),"#define SHADER_NAME "+t.shaderName,f,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Mh).join("\n"),b=[h,FR(t),"#define SHADER_NAME "+t.shaderName,f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?zt.tonemapping_pars_fragment:"",0!==t.toneMapping?nY("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===ta?"#define OPAQUE":"",zt.encodings_pars_fragment,t.map?sl("mapTexelToLinear",t.mapEncoding):"",t.matcap?sl("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?sl("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?sl("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?sl("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?sl("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?sl("lightMapTexelToLinear",t.lightMapEncoding):"",tY("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Mh).join("\n")),o=nx(o),o=IR(o,t),o=RR(o,t),a=nx(a),a=IR(a,t),a=RR(a,t),o=PR(o),a=PR(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(_="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,b=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);const w=_+b+a,x=TR(r,35633,_+g+o),C=TR(r,35632,w);if(r.attachShader(p,x),r.attachShader(p,C),void 0!==t.index0AttributeName?r.bindAttribLocation(p,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(p,0,"position"),r.linkProgram(p),i.debug.checkShaderErrors){const N=r.getProgramInfoLog(p).trim(),W=r.getShaderInfoLog(x).trim(),z=r.getShaderInfoLog(C).trim();let V=!0,S=!0;if(!1===r.getProgramParameter(p,35714)){V=!1;const A=AR(r,x,"vertex"),H=AR(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(p,35715)+"\n\nProgram Info Log: "+N+"\n"+A+"\n"+H)}else""!==N?console.warn("THREE.WebGLProgram: Program Info Log:",N):(""===W||""===z)&&(S=!1);S&&(this.diagnostics={runnable:V,programLog:N,vertexShader:{log:W,prefix:g},fragmentShader:{log:z,prefix:b}})}let D,k;return r.deleteShader(x),r.deleteShader(C),this.getUniforms=function(){return void 0===D&&(D=new da(r,p)),D},this.getAttributes=function(){return void 0===k&&(k=function(i,e){const t={},n=i.getProgramParameter(e,35721);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),o=s.name;let a=1;35674===s.type&&(a=2),35675===s.type&&(a=3),35676===s.type&&(a=4),t[o]={type:s.type,location:i.getAttribLocation(e,o),locationSize:a}}return t}(r,p)),k},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(p),this.program=void 0},this.name=t.shaderName,this.id=J9++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=x,this.fragmentShader=C,this}let gY=0;class _Y{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const n=new yY;t.set(e,n)}return t.get(e)}}class yY{constructor(){this.id=gY++,this.usedTimes=0}}function vY(i,e,t,n,r,s,o){const a=new R0,l=new _Y,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.floatVertexTextures,f=r.maxVertexUniforms,p=r.vertexTextures;let g=r.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){let A;return S&&S.isTexture?A=S.encoding:S&&S.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),A=S.texture.encoding):A=us,u&&S&&S.isTexture&&S.format===ui&&S.type===vo&&S.encoding===Zc&&(A=us),A}return{getParameters:function(S,A,H,G,L){const B=G.fog,ie=(S.isMeshStandardMaterial?t:e).get(S.envMap||(S.isMeshStandardMaterial?G.environment:null)),Y=b[S.type],J=L.isSkinnedMesh?function(S){const H=S.skeleton.bones;if(h)return 1024;{const L=Math.floor((f-20)/4),B=Math.min(L,H.length);return B<H.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+H.length+" bones. This GPU supports "+B+"."),0):B}}(L):0;let ge,ye,me,Et;if(null!==S.precision&&(g=r.getMaxPrecision(S.precision),g!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",g,"instead.")),Y){const Ve=Os[Y];ge=Ve.vertexShader,ye=Ve.fragmentShader}else ge=S.vertexShader,ye=S.fragmentShader,l.update(S),me=l.getVertexShaderID(S),Et=l.getFragmentShaderID(S);const re=i.getRenderTarget(),qe=S.alphaTest>0,je=S.clearcoat>0;return{isWebGL2:u,shaderID:Y,shaderName:S.type,vertexShader:ge,fragmentShader:ye,defines:S.defines,customVertexShaderID:me,customFragmentShaderID:Et,isRawShaderMaterial:!0===S.isRawShaderMaterial,glslVersion:S.glslVersion,precision:g,instancing:!0===L.isInstancedMesh,instancingColor:!0===L.isInstancedMesh&&null!==L.instanceColor,supportsVertexTextures:p,outputEncoding:null!==re?m(re.texture):i.outputEncoding,map:!!S.map,mapEncoding:m(S.map),matcap:!!S.matcap,matcapEncoding:m(S.matcap),envMap:!!ie,envMapMode:ie&&ie.mapping,envMapEncoding:m(ie),envMapCubeUV:!!ie&&(306===ie.mapping||307===ie.mapping),lightMap:!!S.lightMap,lightMapEncoding:m(S.lightMap),aoMap:!!S.aoMap,emissiveMap:!!S.emissiveMap,emissiveMapEncoding:m(S.emissiveMap),bumpMap:!!S.bumpMap,normalMap:!!S.normalMap,objectSpaceNormalMap:1===S.normalMapType,tangentSpaceNormalMap:0===S.normalMapType,clearcoat:je,clearcoatMap:je&&!!S.clearcoatMap,clearcoatRoughnessMap:je&&!!S.clearcoatRoughnessMap,clearcoatNormalMap:je&&!!S.clearcoatNormalMap,displacementMap:!!S.displacementMap,roughnessMap:!!S.roughnessMap,metalnessMap:!!S.metalnessMap,specularMap:!!S.specularMap,specularIntensityMap:!!S.specularIntensityMap,specularColorMap:!!S.specularColorMap,specularColorMapEncoding:m(S.specularColorMap),alphaMap:!!S.alphaMap,alphaTest:qe,gradientMap:!!S.gradientMap,sheen:S.sheen>0,sheenColorMap:!!S.sheenColorMap,sheenColorMapEncoding:m(S.sheenColorMap),sheenRoughnessMap:!!S.sheenRoughnessMap,transmission:S.transmission>0,transmissionMap:!!S.transmissionMap,thicknessMap:!!S.thicknessMap,combine:S.combine,vertexTangents:!!S.normalMap&&!!L.geometry&&!!L.geometry.attributes.tangent,vertexColors:S.vertexColors,vertexAlphas:!0===S.vertexColors&&!!L.geometry&&!!L.geometry.attributes.color&&4===L.geometry.attributes.color.itemSize,vertexUvs:!!(S.map||S.bumpMap||S.normalMap||S.specularMap||S.alphaMap||S.emissiveMap||S.roughnessMap||S.metalnessMap||S.clearcoatMap||S.clearcoatRoughnessMap||S.clearcoatNormalMap||S.displacementMap||S.transmissionMap||S.thicknessMap||S.specularIntensityMap||S.specularColorMap||S.sheenColorMap||S.sheenRoughnessMap),uvsVertexOnly:!(S.map||S.bumpMap||S.normalMap||S.specularMap||S.alphaMap||S.emissiveMap||S.roughnessMap||S.metalnessMap||S.clearcoatNormalMap||S.transmission>0||S.transmissionMap||S.thicknessMap||S.specularIntensityMap||S.specularColorMap||S.sheen>0||S.sheenColorMap||S.sheenRoughnessMap||!S.displacementMap),fog:!!B,useFog:S.fog,fogExp2:B&&B.isFogExp2,flatShading:!!S.flatShading,sizeAttenuation:S.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===L.isSkinnedMesh&&J>0,maxBones:J,useVertexTexture:h,morphTargets:!!L.geometry&&!!L.geometry.morphAttributes.position,morphNormals:!!L.geometry&&!!L.geometry.morphAttributes.normal,morphTargetsCount:L.geometry&&L.geometry.morphAttributes.position?L.geometry.morphAttributes.position.length:0,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:S.format,dithering:S.dithering,shadowMapEnabled:i.shadowMap.enabled&&H.length>0,shadowMapType:i.shadowMap.type,toneMapping:S.toneMapped?i.toneMapping:0,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:2===S.side,flipSided:1===S.side,depthPacking:void 0!==S.depthPacking&&S.depthPacking,index0AttributeName:S.index0AttributeName,extensionDerivatives:S.extensions&&S.extensions.derivatives,extensionFragDepth:S.extensions&&S.extensions.fragDepth,extensionDrawBuffers:S.extensions&&S.extensions.drawBuffers,extensionShaderTextureLOD:S.extensions&&S.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}},getProgramCacheKey:function(S){const A=[];if(S.shaderID?A.push(S.shaderID):(A.push(S.customVertexShaderID),A.push(S.customFragmentShaderID)),void 0!==S.defines)for(const H in S.defines)A.push(H),A.push(S.defines[H]);return!1===S.isRawShaderMaterial&&(function(S,A){S.push(A.precision),S.push(A.outputEncoding),S.push(A.mapEncoding),S.push(A.matcapEncoding),S.push(A.envMapMode),S.push(A.envMapEncoding),S.push(A.lightMapEncoding),S.push(A.emissiveMapEncoding),S.push(A.combine),S.push(A.vertexUvs),S.push(A.fogExp2),S.push(A.sizeAttenuation),S.push(A.maxBones),S.push(A.morphTargetsCount),S.push(A.numDirLights),S.push(A.numPointLights),S.push(A.numSpotLights),S.push(A.numHemiLights),S.push(A.numRectAreaLights),S.push(A.numDirLightShadows),S.push(A.numPointLightShadows),S.push(A.numSpotLightShadows),S.push(A.shadowMapType),S.push(A.toneMapping),S.push(A.numClippingPlanes),S.push(A.numClipIntersection),S.push(A.format),S.push(A.specularColorMapEncoding),S.push(A.sheenColorMapEncoding)}(A,S),function(S,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.map&&a.enable(4),A.matcap&&a.enable(5),A.envMap&&a.enable(6),A.envMapCubeUV&&a.enable(7),A.lightMap&&a.enable(8),A.aoMap&&a.enable(9),A.emissiveMap&&a.enable(10),A.bumpMap&&a.enable(11),A.normalMap&&a.enable(12),A.objectSpaceNormalMap&&a.enable(13),A.tangentSpaceNormalMap&&a.enable(14),A.clearcoat&&a.enable(15),A.clearcoatMap&&a.enable(16),A.clearcoatRoughnessMap&&a.enable(17),A.clearcoatNormalMap&&a.enable(18),A.displacementMap&&a.enable(19),A.specularMap&&a.enable(20),A.roughnessMap&&a.enable(21),A.metalnessMap&&a.enable(22),A.gradientMap&&a.enable(23),A.alphaMap&&a.enable(24),A.alphaTest&&a.enable(25),A.vertexColors&&a.enable(26),A.vertexAlphas&&a.enable(27),A.vertexUvs&&a.enable(28),A.vertexTangents&&a.enable(29),A.uvsVertexOnly&&a.enable(30),A.fog&&a.enable(31),S.push(a.mask),a.disableAll(),A.useFog&&a.enable(0),A.flatShading&&a.enable(1),A.logarithmicDepthBuffer&&a.enable(2),A.skinning&&a.enable(3),A.useVertexTexture&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.premultipliedAlpha&&a.enable(7),A.shadowMapEnabled&&a.enable(8),A.physicallyCorrectLights&&a.enable(9),A.doubleSided&&a.enable(10),A.flipSided&&a.enable(11),A.depthPacking&&a.enable(12),A.dithering&&a.enable(13),A.specularIntensityMap&&a.enable(14),A.specularColorMap&&a.enable(15),A.transmission&&a.enable(16),A.transmissionMap&&a.enable(17),A.thicknessMap&&a.enable(18),A.sheen&&a.enable(19),A.sheenColorMap&&a.enable(20),A.sheenRoughnessMap&&a.enable(21),S.push(a.mask)}(A,S),A.push(i.outputEncoding)),A.push(S.customProgramCacheKey),A.join()},getUniforms:function(S){const A=b[S.type];let H;return H=A?$$.clone(Os[A].uniforms):S.uniforms,H},acquireProgram:function(S,A){let H;for(let G=0,L=c.length;G<L;G++){const B=c[G];if(B.cacheKey===A){H=B,++H.usedTimes;break}}return void 0===H&&(H=new mY(i,A,S,s),c.push(H)),H},releaseProgram:function(S){if(0==--S.usedTimes){const A=c.indexOf(S);c[A]=c[c.length-1],c.pop(),S.destroy()}},releaseShaderCache:function(S){l.remove(S)},programs:c,dispose:function(){l.dispose()}}}function bY(){let i=new WeakMap;return{get:function(s){let o=i.get(s);return void 0===o&&(o={},i.set(s,o)),o},remove:function(s){i.delete(s)},update:function(s,o,a){i.get(s)[o]=a},dispose:function(){i=new WeakMap}}}function xY(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function LR(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function OR(){const i=[];let e=0;const t=[],n=[],r=[];function o(d,h,f,p,g,b){let _=i[e];return void 0===_?(_={id:d.id,object:d,geometry:h,material:f,groupOrder:p,renderOrder:d.renderOrder,z:g,group:b},i[e]=_):(_.id=d.id,_.object=d,_.geometry=h,_.material=f,_.groupOrder=p,_.renderOrder=d.renderOrder,_.z=g,_.group=b),e++,_}return{opaque:t,transmissive:n,transparent:r,init:function(){e=0,t.length=0,n.length=0,r.length=0},push:function(d,h,f,p,g,b){const _=o(d,h,f,p,g,b);f.transmission>0?n.push(_):!0===f.transparent?r.push(_):t.push(_)},unshift:function(d,h,f,p,g,b){const _=o(d,h,f,p,g,b);f.transmission>0?n.unshift(_):!0===f.transparent?r.unshift(_):t.unshift(_)},finish:function(){for(let d=e,h=i.length;d<h;d++){const f=i[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function(d,h){t.length>1&&t.sort(d||xY),n.length>1&&n.sort(h||LR),r.length>1&&r.sort(h||LR)}}}function wY(){let i=new WeakMap;return{get:function(n,r){let s;return!1===i.has(n)?(s=new OR,i.set(n,[s])):r>=i.get(n).length?(s=new OR,i.get(n).push(s)):s=i.get(n)[r],s},dispose:function(){i=new WeakMap}}}function MY(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new E,color:new Pe};break;case"SpotLight":t={position:new E,direction:new E,color:new Pe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new E,color:new Pe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new E,skyColor:new Pe,groundColor:new Pe};break;case"RectAreaLight":t={color:new Pe,position:new E,halfWidth:new E,halfHeight:new E}}return i[e.id]=t,t}}}let EY=0;function SY(i,e){return(e.castShadow?1:0)-(i.castShadow?1:0)}function TY(i,e){const t=new MY,n=function(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Q};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Q,shadowCameraNear:1,shadowCameraFar:1e3}}return i[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new E);const s=new E,o=new Ue,a=new Ue;return{setup:function(u,d){let h=0,f=0,p=0;for(let W=0;W<9;W++)r.probe[W].set(0,0,0);let g=0,b=0,_=0,m=0,w=0,x=0,C=0,D=0;u.sort(SY);const k=!0!==d?Math.PI:1;for(let W=0,z=u.length;W<z;W++){const V=u[W],S=V.color,A=V.intensity,H=V.distance,G=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)h+=S.r*A*k,f+=S.g*A*k,p+=S.b*A*k;else if(V.isLightProbe)for(let L=0;L<9;L++)r.probe[L].addScaledVector(V.sh.coefficients[L],A);else if(V.isDirectionalLight){const L=t.get(V);if(L.color.copy(V.color).multiplyScalar(V.intensity*k),V.castShadow){const B=V.shadow,K=n.get(V);K.shadowBias=B.bias,K.shadowNormalBias=B.normalBias,K.shadowRadius=B.radius,K.shadowMapSize=B.mapSize,r.directionalShadow[g]=K,r.directionalShadowMap[g]=G,r.directionalShadowMatrix[g]=V.shadow.matrix,x++}r.directional[g]=L,g++}else if(V.isSpotLight){const L=t.get(V);if(L.position.setFromMatrixPosition(V.matrixWorld),L.color.copy(S).multiplyScalar(A*k),L.distance=H,L.coneCos=Math.cos(V.angle),L.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),L.decay=V.decay,V.castShadow){const B=V.shadow,K=n.get(V);K.shadowBias=B.bias,K.shadowNormalBias=B.normalBias,K.shadowRadius=B.radius,K.shadowMapSize=B.mapSize,r.spotShadow[_]=K,r.spotShadowMap[_]=G,r.spotShadowMatrix[_]=V.shadow.matrix,D++}r.spot[_]=L,_++}else if(V.isRectAreaLight){const L=t.get(V);L.color.copy(S).multiplyScalar(A),L.halfWidth.set(.5*V.width,0,0),L.halfHeight.set(0,.5*V.height,0),r.rectArea[m]=L,m++}else if(V.isPointLight){const L=t.get(V);if(L.color.copy(V.color).multiplyScalar(V.intensity*k),L.distance=V.distance,L.decay=V.decay,V.castShadow){const B=V.shadow,K=n.get(V);K.shadowBias=B.bias,K.shadowNormalBias=B.normalBias,K.shadowRadius=B.radius,K.shadowMapSize=B.mapSize,K.shadowCameraNear=B.camera.near,K.shadowCameraFar=B.camera.far,r.pointShadow[b]=K,r.pointShadowMap[b]=G,r.pointShadowMatrix[b]=V.shadow.matrix,C++}r.point[b]=L,b++}else if(V.isHemisphereLight){const L=t.get(V);L.skyColor.copy(V.color).multiplyScalar(A*k),L.groundColor.copy(V.groundColor).multiplyScalar(A*k),r.hemi[w]=L,w++}}m>0&&(e.isWebGL2||!0===i.has("OES_texture_float_linear")?(r.rectAreaLTC1=De.LTC_FLOAT_1,r.rectAreaLTC2=De.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=De.LTC_HALF_1,r.rectAreaLTC2=De.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=p;const N=r.hash;(N.directionalLength!==g||N.pointLength!==b||N.spotLength!==_||N.rectAreaLength!==m||N.hemiLength!==w||N.numDirectionalShadows!==x||N.numPointShadows!==C||N.numSpotShadows!==D)&&(r.directional.length=g,r.spot.length=_,r.rectArea.length=m,r.point.length=b,r.hemi.length=w,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=D,r.spotShadowMap.length=D,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=C,r.spotShadowMatrix.length=D,N.directionalLength=g,N.pointLength=b,N.spotLength=_,N.rectAreaLength=m,N.hemiLength=w,N.numDirectionalShadows=x,N.numPointShadows=C,N.numSpotShadows=D,r.version=EY++)},setupView:function(u,d){let h=0,f=0,p=0,g=0,b=0;const _=d.matrixWorldInverse;for(let m=0,w=u.length;m<w;m++){const x=u[m];if(x.isDirectionalLight){const C=r.directional[h];C.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(_),h++}else if(x.isSpotLight){const C=r.spot[p];C.position.setFromMatrixPosition(x.matrixWorld),C.position.applyMatrix4(_),C.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(_),p++}else if(x.isRectAreaLight){const C=r.rectArea[g];C.position.setFromMatrixPosition(x.matrixWorld),C.position.applyMatrix4(_),a.identity(),o.copy(x.matrixWorld),o.premultiply(_),a.extractRotation(o),C.halfWidth.set(.5*x.width,0,0),C.halfHeight.set(0,.5*x.height,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),g++}else if(x.isPointLight){const C=r.point[f];C.position.setFromMatrixPosition(x.matrixWorld),C.position.applyMatrix4(_),f++}else if(x.isHemisphereLight){const C=r.hemi[b];C.direction.setFromMatrixPosition(x.matrixWorld),C.direction.transformDirection(_),C.direction.normalize(),b++}}},state:r}}function NR(i,e){const t=new TY(i,e),n=[],r=[];return{init:function(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:function(d){t.setup(n,d)},setupLightsView:function(d){t.setupView(n,d)},pushLight:function(d){n.push(d)},pushShadow:function(d){r.push(d)}}}function DY(i,e){let t=new WeakMap;return{get:function(s,o=0){let a;return!1===t.has(s)?(a=new NR(i,e),t.set(s,[a])):o>=t.get(s).length?(a=new NR(i,e),t.get(s).push(a)):a=t.get(s)[o],a},dispose:function(){t=new WeakMap}}}class ix extends Di{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}ix.prototype.isMeshDepthMaterial=!0;class rx extends Di{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new E,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function BR(i,e,t){let n=new qm;const r=new Q,s=new Q,o=new on,a=new ix({depthPacking:3201}),l=new rx,c={},u=t.maxTextureSize,d={0:1,1:0,2:2},h=new To({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Q},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new ot;p.setAttribute("position",new an(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new zn(p,h),b=this;function _(x,C){const D=e.update(g);h.defines.VSM_SAMPLES!==x.blurSamples&&(h.defines.VSM_SAMPLES=x.blurSamples,f.defines.VSM_SAMPLES=x.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),h.uniforms.shadow_pass.value=x.map.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,i.setRenderTarget(x.mapPass),i.clear(),i.renderBufferDirect(C,null,D,h,g,null),f.uniforms.shadow_pass.value=x.mapPass.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,i.setRenderTarget(x.map),i.clear(),i.renderBufferDirect(C,null,D,f,g,null)}function m(x,C,D,k,N,W,z){let V=null;const S=!0===k.isPointLight?x.customDistanceMaterial:x.customDepthMaterial;if(V=void 0!==S?S:!0===k.isPointLight?l:a,i.localClippingEnabled&&!0===D.clipShadows&&0!==D.clippingPlanes.length||D.displacementMap&&0!==D.displacementScale||D.alphaMap&&D.alphaTest>0){const A=V.uuid,H=D.uuid;let G=c[A];void 0===G&&(G={},c[A]=G);let L=G[H];void 0===L&&(L=V.clone(),G[H]=L),V=L}return V.visible=D.visible,V.wireframe=D.wireframe,V.side=3===z?null!==D.shadowSide?D.shadowSide:D.side:null!==D.shadowSide?D.shadowSide:d[D.side],V.alphaMap=D.alphaMap,V.alphaTest=D.alphaTest,V.clipShadows=D.clipShadows,V.clippingPlanes=D.clippingPlanes,V.clipIntersection=D.clipIntersection,V.displacementMap=D.displacementMap,V.displacementScale=D.displacementScale,V.displacementBias=D.displacementBias,V.wireframeLinewidth=D.wireframeLinewidth,V.linewidth=D.linewidth,!0===k.isPointLight&&!0===V.isMeshDistanceMaterial&&(V.referencePosition.setFromMatrixPosition(k.matrixWorld),V.nearDistance=N,V.farDistance=W),V}function w(x,C,D,k,N){if(!1===x.visible)return;if(x.layers.test(C.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&3===N)&&(!x.frustumCulled||n.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,x.matrixWorld);const V=e.update(x),S=x.material;if(Array.isArray(S)){const A=V.groups;for(let H=0,G=A.length;H<G;H++){const L=A[H],B=S[L.materialIndex];if(B&&B.visible){const K=m(x,0,B,k,D.near,D.far,N);i.renderBufferDirect(D,null,V,K,x,L)}}}else if(S.visible){const A=m(x,0,S,k,D.near,D.far,N);i.renderBufferDirect(D,null,V,A,x,null)}}const z=x.children;for(let V=0,S=z.length;V<S;V++)w(z[V],C,D,k,N)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(x,C,D){if(!1===b.enabled||!1===b.autoUpdate&&!1===b.needsUpdate||0===x.length)return;const k=i.getRenderTarget(),N=i.getActiveCubeFace(),W=i.getActiveMipmapLevel(),z=i.state;z.setBlending(0),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);for(let V=0,S=x.length;V<S;V++){const A=x[V],H=A.shadow;if(void 0===H){console.warn("THREE.WebGLShadowMap:",A,"has no shadow.");continue}if(!1===H.autoUpdate&&!1===H.needsUpdate)continue;r.copy(H.mapSize);const G=H.getFrameExtents();if(r.multiply(G),s.copy(H.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/G.x),r.x=s.x*G.x,H.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/G.y),r.y=s.y*G.y,H.mapSize.y=s.y)),null===H.map&&!H.isPointLightShadow&&3===this.type){const B={minFilter:Rn,magFilter:Rn,format:ui};H.map=new Vr(r.x,r.y,B),H.map.texture.name=A.name+".shadowMap",H.mapPass=new Vr(r.x,r.y,B),H.camera.updateProjectionMatrix()}null===H.map&&(H.map=new Vr(r.x,r.y,{minFilter:ei,magFilter:ei,format:ui}),H.map.texture.name=A.name+".shadowMap",H.camera.updateProjectionMatrix()),i.setRenderTarget(H.map),i.clear();const L=H.getViewportCount();for(let B=0;B<L;B++){const K=H.getViewport(B);o.set(s.x*K.x,s.y*K.y,s.x*K.z,s.y*K.w),z.viewport(o),H.updateMatrices(A,B),n=H.getFrustum(),w(C,D,H.camera,A,this.type)}!H.isPointLightShadow&&3===this.type&&_(H,D),H.needsUpdate=!1}b.needsUpdate=!1,i.setRenderTarget(k,N,W)}}function RY(i,e,t){const n=t.isWebGL2,a=new function(){let P=!1;const le=new on;let ae=null;const Ze=new on(0,0,0,0);return{setMask:function(Oe){ae!==Oe&&!P&&(i.colorMask(Oe,Oe,Oe,Oe),ae=Oe)},setLocked:function(Oe){P=Oe},setClear:function(Oe,bt,Ae,tt,jt){!0===jt&&(Oe*=tt,bt*=tt,Ae*=tt),le.set(Oe,bt,Ae,tt),!1===Ze.equals(le)&&(i.clearColor(Oe,bt,Ae,tt),Ze.copy(le))},reset:function(){P=!1,ae=null,Ze.set(-1,0,0,0)}}},l=new function(){let P=!1,le=null,ae=null,Ze=null;return{setTest:function(Oe){Oe?ye(2929):me(2929)},setMask:function(Oe){le!==Oe&&!P&&(i.depthMask(Oe),le=Oe)},setFunc:function(Oe){if(ae!==Oe){if(Oe)switch(Oe){case 0:i.depthFunc(512);break;case 1:i.depthFunc(519);break;case 2:i.depthFunc(513);break;case 3:default:i.depthFunc(515);break;case 4:i.depthFunc(514);break;case 5:i.depthFunc(518);break;case 6:i.depthFunc(516);break;case 7:i.depthFunc(517)}else i.depthFunc(515);ae=Oe}},setLocked:function(Oe){P=Oe},setClear:function(Oe){Ze!==Oe&&(i.clearDepth(Oe),Ze=Oe)},reset:function(){P=!1,le=null,ae=null,Ze=null}}},c=new function(){let P=!1,le=null,ae=null,Ze=null,Oe=null,bt=null,Ae=null,tt=null,jt=null;return{setTest:function(fn){P||(fn?ye(2960):me(2960))},setMask:function(fn){le!==fn&&!P&&(i.stencilMask(fn),le=fn)},setFunc:function(fn,Ws,js){(ae!==fn||Ze!==Ws||Oe!==js)&&(i.stencilFunc(fn,Ws,js),ae=fn,Ze=Ws,Oe=js)},setOp:function(fn,Ws,js){(bt!==fn||Ae!==Ws||tt!==js)&&(i.stencilOp(fn,Ws,js),bt=fn,Ae=Ws,tt=js)},setLocked:function(fn){P=fn},setClear:function(fn){jt!==fn&&(i.clearStencil(fn),jt=fn)},reset:function(){P=!1,le=null,ae=null,Ze=null,Oe=null,bt=null,Ae=null,tt=null,jt=null}}};let u={},d={},h=null,f=!1,p=null,g=null,b=null,_=null,m=null,w=null,x=null,C=!1,D=null,k=null,N=null,W=null,z=null;const V=i.getParameter(35661);let S=!1,A=0;const H=i.getParameter(7938);-1!==H.indexOf("WebGL")?(A=parseFloat(/^WebGL (\d)/.exec(H)[1]),S=A>=1):-1!==H.indexOf("OpenGL ES")&&(A=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),S=A>=2);let G=null,L={};const B=i.getParameter(3088),K=i.getParameter(2978),ie=(new on).fromArray(B),Y=(new on).fromArray(K);function J(P,le,ae){const Ze=new Uint8Array(4),Oe=i.createTexture();i.bindTexture(P,Oe),i.texParameteri(P,10241,9728),i.texParameteri(P,10240,9728);for(let bt=0;bt<ae;bt++)i.texImage2D(le+bt,0,6408,1,1,0,6408,5121,Ze);return Oe}const ge={};function ye(P){!0!==u[P]&&(i.enable(P),u[P]=!0)}function me(P){!1!==u[P]&&(i.disable(P),u[P]=!1)}ge[3553]=J(3553,3553,1),ge[34067]=J(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ye(2929),l.setFunc(3),It(!1),ee(1),ye(2884),Le(0);const qe={100:32774,101:32778,102:32779};if(n)qe[103]=32775,qe[104]=32776;else{const P=e.get("EXT_blend_minmax");null!==P&&(qe[103]=P.MIN_EXT,qe[104]=P.MAX_EXT)}const je={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function Le(P,le,ae,Ze,Oe,bt,Ae,tt){if(0!==P){if(!1===f&&(ye(3042),f=!0),5===P)Oe=Oe||le,bt=bt||ae,Ae=Ae||Ze,(le!==g||Oe!==m)&&(i.blendEquationSeparate(qe[le],qe[Oe]),g=le,m=Oe),(ae!==b||Ze!==_||bt!==w||Ae!==x)&&(i.blendFuncSeparate(je[ae],je[Ze],je[bt],je[Ae]),b=ae,_=Ze,w=bt,x=Ae),p=P,C=null;else if(P!==p||tt!==C){if((100!==g||100!==m)&&(i.blendEquation(32774),g=100,m=100),tt)switch(P){case 1:i.blendFuncSeparate(1,771,1,771);break;case 2:i.blendFunc(1,1);break;case 3:i.blendFuncSeparate(0,0,769,771);break;case 4:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",P)}else switch(P){case 1:i.blendFuncSeparate(770,771,1,771);break;case 2:i.blendFunc(770,1);break;case 3:i.blendFunc(0,769);break;case 4:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",P)}b=null,_=null,w=null,x=null,p=P,C=tt}}else!0===f&&(me(3042),f=!1)}function It(P){D!==P&&(i.frontFace(P?2304:2305),D=P)}function ee(P){0!==P?(ye(2884),P!==k&&i.cullFace(1===P?1029:2===P?1028:1032)):me(2884),k=P}function ve(P,le,ae){P?(ye(32823),(W!==le||z!==ae)&&(i.polygonOffset(le,ae),W=le,z=ae)):me(32823)}function Ee(P){void 0===P&&(P=33984+V-1),G!==P&&(i.activeTexture(P),G=P)}return{buffers:{color:a,depth:l,stencil:c},enable:ye,disable:me,bindFramebuffer:function(P,le){return d[P]!==le&&(i.bindFramebuffer(P,le),d[P]=le,n&&(36009===P&&(d[36160]=le),36160===P&&(d[36009]=le)),!0)},useProgram:function(P){return h!==P&&(i.useProgram(P),h=P,!0)},setBlending:Le,setMaterial:function(P,le){2===P.side?me(2884):ye(2884);let ae=1===P.side;le&&(ae=!ae),It(ae),1===P.blending&&!1===P.transparent?Le(0):Le(P.blending,P.blendEquation,P.blendSrc,P.blendDst,P.blendEquationAlpha,P.blendSrcAlpha,P.blendDstAlpha,P.premultipliedAlpha),l.setFunc(P.depthFunc),l.setTest(P.depthTest),l.setMask(P.depthWrite),a.setMask(P.colorWrite);const Ze=P.stencilWrite;c.setTest(Ze),Ze&&(c.setMask(P.stencilWriteMask),c.setFunc(P.stencilFunc,P.stencilRef,P.stencilFuncMask),c.setOp(P.stencilFail,P.stencilZFail,P.stencilZPass)),ve(P.polygonOffset,P.polygonOffsetFactor,P.polygonOffsetUnits),!0===P.alphaToCoverage?ye(32926):me(32926)},setFlipSided:It,setCullFace:ee,setLineWidth:function(P){P!==N&&(S&&i.lineWidth(P),N=P)},setPolygonOffset:ve,setScissorTest:function(P){P?ye(3089):me(3089)},activeTexture:Ee,bindTexture:function(P,le){null===G&&Ee();let ae=L[G];void 0===ae&&(ae={type:void 0,texture:void 0},L[G]=ae),(ae.type!==P||ae.texture!==le)&&(i.bindTexture(P,le||ge[P]),ae.type=P,ae.texture=le)},unbindTexture:function(){const P=L[G];void 0!==P&&void 0!==P.type&&(i.bindTexture(P.type,null),P.type=void 0,P.texture=void 0)},compressedTexImage2D:function(){try{i.compressedTexImage2D.apply(i,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texImage2D:function(){try{i.texImage2D.apply(i,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texImage3D:function(){try{i.texImage3D.apply(i,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texStorage2D:function(){try{i.texStorage2D.apply(i,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texStorage3D:function(){try{i.texStorage3D.apply(i,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texSubImage2D:function(){try{i.texSubImage2D.apply(i,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},texSubImage3D:function(){try{i.texSubImage3D.apply(i,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},compressedTexSubImage2D:function(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(P){console.error("THREE.WebGLState:",P)}},scissor:function(P){!1===ie.equals(P)&&(i.scissor(P.x,P.y,P.z,P.w),ie.copy(P))},viewport:function(P){!1===Y.equals(P)&&(i.viewport(P.x,P.y,P.z,P.w),Y.copy(P))},reset:function(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),!0===n&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),u={},G=null,L={},d={},h=null,f=!1,p=null,g=null,b=null,_=null,m=null,w=null,x=null,C=!1,D=null,k=null,N=null,W=null,z=null,ie.set(0,0,i.canvas.width,i.canvas.height),Y.set(0,0,i.canvas.width,i.canvas.height),a.reset(),l.reset(),c.reset()}}}function PY(i,e,t,n,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,p=new WeakMap;let g,b=!1;try{b="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(F){}function _(F,I){return b?new OffscreenCanvas(F,I):Tm("canvas")}function m(F,I,se,de){let Se=1;if((F.width>de||F.height>de)&&(Se=de/Math.max(F.width,F.height)),Se<1||!0===I){if("undefined"!=typeof HTMLImageElement&&F instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&F instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&F instanceof ImageBitmap){const ce=I?WI:Math.floor,ct=ce(Se*F.width),Xe=ce(Se*F.height);void 0===g&&(g=_(ct,Xe));const O=se?_(ct,Xe):g;return O.width=ct,O.height=Xe,O.getContext("2d").drawImage(F,0,0,ct,Xe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+ct+"x"+Xe+")."),O}return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F}return F}function w(F){return x0(F.width)&&x0(F.height)}function C(F,I){return F.generateMipmaps&&I&&F.minFilter!==ei&&F.minFilter!==Rn}function D(F){i.generateMipmap(F)}function k(F,I,se,de){if(!1===a)return I;if(null!==F){if(void 0!==i[F])return i[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let Se=I;return 6403===I&&(5126===se&&(Se=33326),5131===se&&(Se=33325),5121===se&&(Se=33321)),6407===I&&(5126===se&&(Se=34837),5131===se&&(Se=34843),5121===se&&(Se=32849)),6408===I&&(5126===se&&(Se=34836),5131===se&&(Se=34842),5121===se&&(Se=de===Zc?35907:32856)),(33325===Se||33326===Se||34842===Se||34836===Se)&&e.get("EXT_color_buffer_float"),Se}function N(F,I,se){return!0===C(F,se)||F.isFramebufferTexture&&F.minFilter!==ei&&F.minFilter!==Rn?Math.log2(Math.max(I.width,I.height))+1:void 0!==F.mipmaps&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?I.mipmaps.length:1}function W(F){return F===ei||1004===F||1005===F?9728:9729}function z(F){const I=F.target;I.removeEventListener("dispose",z),function(F){const I=n.get(F);void 0!==I.__webglInit&&(i.deleteTexture(I.__webglTexture),n.remove(F))}(I),I.isVideoTexture&&p.delete(I),o.memory.textures--}function V(F){const I=F.target;I.removeEventListener("dispose",V),function(F){const I=F.texture,se=n.get(F),de=n.get(I);if(F){if(void 0!==de.__webglTexture&&(i.deleteTexture(de.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)i.deleteFramebuffer(se.__webglFramebuffer[Se]),se.__webglDepthbuffer&&i.deleteRenderbuffer(se.__webglDepthbuffer[Se]);else i.deleteFramebuffer(se.__webglFramebuffer),se.__webglDepthbuffer&&i.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&i.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer&&i.deleteRenderbuffer(se.__webglColorRenderbuffer),se.__webglDepthRenderbuffer&&i.deleteRenderbuffer(se.__webglDepthRenderbuffer);if(F.isWebGLMultipleRenderTargets)for(let Se=0,ce=I.length;Se<ce;Se++){const ct=n.get(I[Se]);ct.__webglTexture&&(i.deleteTexture(ct.__webglTexture),o.memory.textures--),n.remove(I[Se])}n.remove(I),n.remove(F)}}(I)}let H=0;function B(F,I){const se=n.get(F);if(F.isVideoTexture&&function(F){const I=o.render.frame;p.get(F)!==I&&(p.set(F,I),F.update())}(F),F.version>0&&se.__version!==F.version){const de=F.image;if(void 0===de)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==de.complete)return void Et(se,F,I);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+I),t.bindTexture(3553,se.__webglTexture)}function Y(F,I){const se=n.get(F);F.version>0&&se.__version!==F.version?function(F,I,se){if(6!==I.image.length)return;me(F,I),t.activeTexture(33984+se),t.bindTexture(34067,F.__webglTexture),i.pixelStorei(37440,I.flipY),i.pixelStorei(37441,I.premultiplyAlpha),i.pixelStorei(3317,I.unpackAlignment),i.pixelStorei(37443,0);const de=I&&(I.isCompressedTexture||I.image[0].isCompressedTexture),Se=I.image[0]&&I.image[0].isDataTexture,ce=[];for(let Ae=0;Ae<6;Ae++)ce[Ae]=de||Se?Se?I.image[Ae].image:I.image[Ae]:m(I.image[Ae],!1,!0,c);const ct=ce[0],Xe=w(ct)||a,O=s.convert(I.format),P=s.convert(I.type),le=k(I.internalFormat,O,P,I.encoding),ae=a&&!0!==I.isVideoTexture,Ze=void 0===F.__version;let bt,Oe=N(I,ct,Xe);if(ye(34067,I,Xe),de){ae&&Ze&&t.texStorage2D(34067,Oe,le,ct.width,ct.height);for(let Ae=0;Ae<6;Ae++){bt=ce[Ae].mipmaps;for(let tt=0;tt<bt.length;tt++){const jt=bt[tt];I.format!==ui&&I.format!==ta?null!==O?ae?t.compressedTexSubImage2D(34069+Ae,tt,0,0,jt.width,jt.height,O,jt.data):t.compressedTexImage2D(34069+Ae,tt,le,jt.width,jt.height,0,jt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ae?t.texSubImage2D(34069+Ae,tt,0,0,jt.width,jt.height,O,P,jt.data):t.texImage2D(34069+Ae,tt,le,jt.width,jt.height,0,O,P,jt.data)}}}else{bt=I.mipmaps,ae&&Ze&&(bt.length>0&&Oe++,t.texStorage2D(34067,Oe,le,ce[0].width,ce[0].height));for(let Ae=0;Ae<6;Ae++)if(Se){ae?t.texSubImage2D(34069+Ae,0,0,0,ce[Ae].width,ce[Ae].height,O,P,ce[Ae].data):t.texImage2D(34069+Ae,0,le,ce[Ae].width,ce[Ae].height,0,O,P,ce[Ae].data);for(let tt=0;tt<bt.length;tt++){const fn=bt[tt].image[Ae].image;ae?t.texSubImage2D(34069+Ae,tt+1,0,0,fn.width,fn.height,O,P,fn.data):t.texImage2D(34069+Ae,tt+1,le,fn.width,fn.height,0,O,P,fn.data)}}else{ae?t.texSubImage2D(34069+Ae,0,0,0,O,P,ce[Ae]):t.texImage2D(34069+Ae,0,le,O,P,ce[Ae]);for(let tt=0;tt<bt.length;tt++){const jt=bt[tt];ae?t.texSubImage2D(34069+Ae,tt+1,0,0,O,P,jt.image[Ae]):t.texImage2D(34069+Ae,tt+1,le,O,P,jt.image[Ae])}}}C(I,Xe)&&D(34067),F.__version=I.version,I.onUpdate&&I.onUpdate(I)}(se,F,I):(t.activeTexture(33984+I),t.bindTexture(34067,se.__webglTexture))}const J={1e3:10497,[Ni]:33071,1002:33648},ge={[ei]:9728,1004:9984,1005:9986,[Rn]:9729,1007:9985,1008:9987};function ye(F,I,se){if(se?(i.texParameteri(F,10242,J[I.wrapS]),i.texParameteri(F,10243,J[I.wrapT]),(32879===F||35866===F)&&i.texParameteri(F,32882,J[I.wrapR]),i.texParameteri(F,10240,ge[I.magFilter]),i.texParameteri(F,10241,ge[I.minFilter])):(i.texParameteri(F,10242,33071),i.texParameteri(F,10243,33071),(32879===F||35866===F)&&i.texParameteri(F,32882,33071),(I.wrapS!==Ni||I.wrapT!==Ni)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(F,10240,W(I.magFilter)),i.texParameteri(F,10241,W(I.minFilter)),I.minFilter!==ei&&I.minFilter!==Rn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const de=e.get("EXT_texture_filter_anisotropic");if(I.type===bo&&!1===e.has("OES_texture_float_linear")||!1===a&&I.type===Xa&&!1===e.has("OES_texture_half_float_linear"))return;(I.anisotropy>1||n.get(I).__currentAnisotropy)&&(i.texParameterf(F,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),n.get(I).__currentAnisotropy=I.anisotropy)}}function me(F,I){void 0===F.__webglInit&&(F.__webglInit=!0,I.addEventListener("dispose",z),F.__webglTexture=i.createTexture(),o.memory.textures++)}function Et(F,I,se){let de=3553;I.isDataTexture2DArray&&(de=35866),I.isDataTexture3D&&(de=32879),me(F,I),t.activeTexture(33984+se),t.bindTexture(de,F.__webglTexture),i.pixelStorei(37440,I.flipY),i.pixelStorei(37441,I.premultiplyAlpha),i.pixelStorei(3317,I.unpackAlignment),i.pixelStorei(37443,0);const Se=function(F){return!a&&(F.wrapS!==Ni||F.wrapT!==Ni||F.minFilter!==ei&&F.minFilter!==Rn)}(I)&&!1===w(I.image),ce=m(I.image,Se,!1,u),ct=w(ce)||a,Xe=s.convert(I.format);let le,O=s.convert(I.type),P=k(I.internalFormat,Xe,O,I.encoding);ye(de,I,ct);const ae=I.mipmaps,Ze=a&&!0!==I.isVideoTexture,Oe=void 0===F.__version,bt=N(I,ce,ct);if(I.isDepthTexture)P=6402,a?P=I.type===bo?36012:1014===I.type?33190:I.type===$c?35056:33189:I.type===bo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===Za&&6402===P&&I.type!==hh&&1014!==I.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=hh,O=s.convert(I.type)),I.format===qc&&6402===P&&(P=34041,I.type!==$c&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=$c,O=s.convert(I.type))),Ze&&Oe?t.texStorage2D(3553,1,P,ce.width,ce.height):t.texImage2D(3553,0,P,ce.width,ce.height,0,Xe,O,null);else if(I.isDataTexture)if(ae.length>0&&ct){Ze&&Oe&&t.texStorage2D(3553,bt,P,ae[0].width,ae[0].height);for(let Ae=0,tt=ae.length;Ae<tt;Ae++)le=ae[Ae],Ze?t.texSubImage2D(3553,0,0,0,le.width,le.height,Xe,O,le.data):t.texImage2D(3553,Ae,P,le.width,le.height,0,Xe,O,le.data);I.generateMipmaps=!1}else Ze?(Oe&&t.texStorage2D(3553,bt,P,ce.width,ce.height),t.texSubImage2D(3553,0,0,0,ce.width,ce.height,Xe,O,ce.data)):t.texImage2D(3553,0,P,ce.width,ce.height,0,Xe,O,ce.data);else if(I.isCompressedTexture){Ze&&Oe&&t.texStorage2D(3553,bt,P,ae[0].width,ae[0].height);for(let Ae=0,tt=ae.length;Ae<tt;Ae++)le=ae[Ae],I.format!==ui&&I.format!==ta?null!==Xe?Ze?t.compressedTexSubImage2D(3553,Ae,0,0,le.width,le.height,Xe,le.data):t.compressedTexImage2D(3553,Ae,P,le.width,le.height,0,le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ze?t.texSubImage2D(3553,Ae,0,0,le.width,le.height,Xe,O,le.data):t.texImage2D(3553,Ae,P,le.width,le.height,0,Xe,O,le.data)}else if(I.isDataTexture2DArray)Ze?(Oe&&t.texStorage3D(35866,bt,P,ce.width,ce.height,ce.depth),t.texSubImage3D(35866,0,0,0,0,ce.width,ce.height,ce.depth,Xe,O,ce.data)):t.texImage3D(35866,0,P,ce.width,ce.height,ce.depth,0,Xe,O,ce.data);else if(I.isDataTexture3D)Ze?(Oe&&t.texStorage3D(32879,bt,P,ce.width,ce.height,ce.depth),t.texSubImage3D(32879,0,0,0,0,ce.width,ce.height,ce.depth,Xe,O,ce.data)):t.texImage3D(32879,0,P,ce.width,ce.height,ce.depth,0,Xe,O,ce.data);else if(I.isFramebufferTexture)Ze&&Oe?t.texStorage2D(3553,bt,P,ce.width,ce.height):t.texImage2D(3553,0,P,ce.width,ce.height,0,Xe,O,null);else if(ae.length>0&&ct){Ze&&Oe&&t.texStorage2D(3553,bt,P,ae[0].width,ae[0].height);for(let Ae=0,tt=ae.length;Ae<tt;Ae++)le=ae[Ae],Ze?t.texSubImage2D(3553,Ae,0,0,Xe,O,le):t.texImage2D(3553,Ae,P,Xe,O,le);I.generateMipmaps=!1}else Ze?(Oe&&t.texStorage2D(3553,bt,P,ce.width,ce.height),t.texSubImage2D(3553,0,0,0,Xe,O,ce)):t.texImage2D(3553,0,P,Xe,O,ce);C(I,ct)&&D(de),F.__version=I.version,I.onUpdate&&I.onUpdate(I)}function qe(F,I,se,de,Se){const ce=s.convert(se.format),ct=s.convert(se.type),Xe=k(se.internalFormat,ce,ct,se.encoding);n.get(I).__hasExternalTextures||(32879===Se||35866===Se?t.texImage3D(Se,0,Xe,I.width,I.height,I.depth,0,ce,ct,null):t.texImage2D(Se,0,Xe,I.width,I.height,0,ce,ct,null)),t.bindFramebuffer(36160,F),I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,de,Se,n.get(se).__webglTexture,0,ke(I)):i.framebufferTexture2D(36160,de,Se,n.get(se).__webglTexture,0),t.bindFramebuffer(36160,null)}function je(F,I,se){if(i.bindRenderbuffer(36161,F),I.depthBuffer&&!I.stencilBuffer){let de=33189;if(se||I.useRenderToTexture){const Se=I.depthTexture;Se&&Se.isDepthTexture&&(Se.type===bo?de=36012:1014===Se.type&&(de=33190));const ce=ke(I);I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,ce,de,I.width,I.height):i.renderbufferStorageMultisample(36161,ce,de,I.width,I.height)}else i.renderbufferStorage(36161,de,I.width,I.height);i.framebufferRenderbuffer(36160,36096,36161,F)}else if(I.depthBuffer&&I.stencilBuffer){const de=ke(I);se&&I.useRenderbuffer?i.renderbufferStorageMultisample(36161,de,35056,I.width,I.height):I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,de,35056,I.width,I.height):i.renderbufferStorage(36161,34041,I.width,I.height),i.framebufferRenderbuffer(36160,33306,36161,F)}else{const de=!0===I.isWebGLMultipleRenderTargets?I.texture[0]:I.texture,Se=s.convert(de.format),ce=s.convert(de.type),ct=k(de.internalFormat,Se,ce,de.encoding),Xe=ke(I);se&&I.useRenderbuffer?i.renderbufferStorageMultisample(36161,Xe,ct,I.width,I.height):I.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,Xe,ct,I.width,I.height):i.renderbufferStorage(36161,ct,I.width,I.height)}i.bindRenderbuffer(36161,null)}function Ve(F){const I=n.get(F),se=!0===F.isWebGLCubeRenderTarget;if(F.depthTexture&&!I.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");!function(F,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,F),!I.depthTexture||!I.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),B(I.depthTexture,0);const de=n.get(I.depthTexture).__webglTexture,Se=ke(I);if(I.depthTexture.format===Za)I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,de,0,Se):i.framebufferTexture2D(36160,36096,3553,de,0);else{if(I.depthTexture.format!==qc)throw new Error("Unknown depthTexture format");I.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,de,0,Se):i.framebufferTexture2D(36160,33306,3553,de,0)}}(I.__webglFramebuffer,F)}else if(se){I.__webglDepthbuffer=[];for(let de=0;de<6;de++)t.bindFramebuffer(36160,I.__webglFramebuffer[de]),I.__webglDepthbuffer[de]=i.createRenderbuffer(),je(I.__webglDepthbuffer[de],F,!1)}else t.bindFramebuffer(36160,I.__webglFramebuffer),I.__webglDepthbuffer=i.createRenderbuffer(),je(I.__webglDepthbuffer,F,!1);t.bindFramebuffer(36160,null)}function ke(F){return a&&(F.useRenderbuffer||F.useRenderToTexture)?Math.min(d,F.samples):0}let ht=!1,pt=!1;this.allocateTextureUnit=function(){const F=H;return F>=l&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+l),H+=1,F},this.resetTextureUnits=function(){H=0},this.setTexture2D=B,this.setTexture2DArray=function(F,I){const se=n.get(F);F.version>0&&se.__version!==F.version?Et(se,F,I):(t.activeTexture(33984+I),t.bindTexture(35866,se.__webglTexture))},this.setTexture3D=function(F,I){const se=n.get(F);F.version>0&&se.__version!==F.version?Et(se,F,I):(t.activeTexture(33984+I),t.bindTexture(32879,se.__webglTexture))},this.setTextureCube=Y,this.rebindTextures=function(F,I,se){const de=n.get(F);void 0!==I&&qe(de.__webglFramebuffer,F,F.texture,36064,3553),void 0!==se&&Ve(F)},this.setupRenderTarget=function(F){const I=F.texture,se=n.get(F),de=n.get(I);F.addEventListener("dispose",V),!0!==F.isWebGLMultipleRenderTargets&&(void 0===de.__webglTexture&&(de.__webglTexture=i.createTexture()),de.__version=I.version,o.memory.textures++);const Se=!0===F.isWebGLCubeRenderTarget,ce=!0===F.isWebGLMultipleRenderTargets,ct=I.isDataTexture3D||I.isDataTexture2DArray,Xe=w(F)||a;if(a&&I.format===ta&&(I.type===bo||I.type===Xa)&&(I.format=ui,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Se){se.__webglFramebuffer=[];for(let O=0;O<6;O++)se.__webglFramebuffer[O]=i.createFramebuffer()}else if(se.__webglFramebuffer=i.createFramebuffer(),ce)if(r.drawBuffers){const O=F.texture;for(let P=0,le=O.length;P<le;P++){const ae=n.get(O[P]);void 0===ae.__webglTexture&&(ae.__webglTexture=i.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(F.useRenderbuffer)if(a){se.__webglMultisampledFramebuffer=i.createFramebuffer(),se.__webglColorRenderbuffer=i.createRenderbuffer(),i.bindRenderbuffer(36161,se.__webglColorRenderbuffer);const O=s.convert(I.format),P=s.convert(I.type),le=k(I.internalFormat,O,P,I.encoding),ae=ke(F);i.renderbufferStorageMultisample(36161,ae,le,F.width,F.height),t.bindFramebuffer(36160,se.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064,36161,se.__webglColorRenderbuffer),i.bindRenderbuffer(36161,null),F.depthBuffer&&(se.__webglDepthRenderbuffer=i.createRenderbuffer(),je(se.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Se){t.bindTexture(34067,de.__webglTexture),ye(34067,I,Xe);for(let O=0;O<6;O++)qe(se.__webglFramebuffer[O],F,I,36064,34069+O);C(I,Xe)&&D(34067),t.unbindTexture()}else if(ce){const O=F.texture;for(let P=0,le=O.length;P<le;P++){const ae=O[P],Ze=n.get(ae);t.bindTexture(3553,Ze.__webglTexture),ye(3553,ae,Xe),qe(se.__webglFramebuffer,F,ae,36064+P,3553),C(ae,Xe)&&D(3553)}t.unbindTexture()}else{let O=3553;ct&&(a?O=I.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(O,de.__webglTexture),ye(O,I,Xe),qe(se.__webglFramebuffer,F,I,36064,O),C(I,Xe)&&D(O),t.unbindTexture()}F.depthBuffer&&Ve(F)},this.updateRenderTargetMipmap=function(F){const I=w(F)||a,se=!0===F.isWebGLMultipleRenderTargets?F.texture:[F.texture];for(let de=0,Se=se.length;de<Se;de++){const ce=se[de];if(C(ce,I)){const ct=F.isWebGLCubeRenderTarget?34067:3553,Xe=n.get(ce).__webglTexture;t.bindTexture(ct,Xe),D(ct),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function(F){if(F.useRenderbuffer)if(a){const I=F.width,se=F.height;let de=16384;const Se=[36064],ce=F.stencilBuffer?33306:36096;F.depthBuffer&&Se.push(ce),F.ignoreDepthForMultisampleCopy||(F.depthBuffer&&(de|=256),F.stencilBuffer&&(de|=1024));const ct=n.get(F);t.bindFramebuffer(36008,ct.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ct.__webglFramebuffer),F.ignoreDepthForMultisampleCopy&&(i.invalidateFramebuffer(36008,[ce]),i.invalidateFramebuffer(36009,[ce])),i.blitFramebuffer(0,0,I,se,0,0,I,se,de,9728),i.invalidateFramebuffer(36008,Se),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,ct.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.setupDepthRenderbuffer=Ve,this.setupFrameBufferTexture=qe,this.safeSetTexture2D=function(F,I){F&&F.isWebGLRenderTarget&&(!1===ht&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),ht=!0),F=F.texture),B(F,I)},this.safeSetTextureCube=function(F,I){F&&F.isWebGLCubeRenderTarget&&(!1===pt&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),pt=!0),F=F.texture),Y(F,I)}}function kY(i,e,t){const n=t.isWebGL2;return{convert:function(s){let o;if(s===vo)return 5121;if(1017===s)return 32819;if(1018===s)return 32820;if(1019===s)return 33635;if(1010===s)return 5120;if(1011===s)return 5122;if(s===hh)return 5123;if(1013===s)return 5124;if(1014===s)return 5125;if(s===bo)return 5126;if(s===Xa)return n?5131:(o=e.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(1021===s)return 6406;if(s===ta)return 6407;if(s===ui)return 6408;if(1024===s)return 6409;if(1025===s)return 6410;if(s===Za)return 6402;if(s===qc)return 34041;if(1028===s)return 6403;if(1029===s)return 36244;if(1030===s)return 33319;if(1031===s)return 33320;if(1032===s)return 36248;if(1033===s)return 36249;if(33776===s||33777===s||33778===s||33779===s){if(o=e.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(33776===s)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(o=e.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(35840===s)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return o=e.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===s||37496===s)&&(o=e.get("WEBGL_compressed_texture_etc"),null!==o)){if(37492===s)return o.COMPRESSED_RGB8_ETC2;if(37496===s)return o.COMPRESSED_RGBA8_ETC2_EAC}return 37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s||37840===s||37841===s||37842===s||37843===s||37844===s||37845===s||37846===s||37847===s||37848===s||37849===s||37850===s||37851===s||37852===s||37853===s?(o=e.get("WEBGL_compressed_texture_astc"),null!==o?s:null):36492===s?(o=e.get("EXT_texture_compression_bptc"),null!==o?s:null):s===$c?n?34042:(o=e.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}rx.prototype.isMeshDistanceMaterial=!0;class VR extends qn{constructor(e=[]){super(),this.cameras=e}}VR.prototype.isArrayCamera=!0;class ol extends Xt{constructor(){super(),this.type="Group"}}ol.prototype.isGroup=!0;const FY={type:"move"};class sx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ol,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ol,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new E,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new E),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ol,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new E,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new E),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==a&&(r=t.getPose(e.targetRaySpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(FY))),c&&e.hand){o=!0;for(const g of e.hand.values()){const b=t.getJointPose(g,n);if(void 0===c.joints[g.jointName]){const m=new ol;m.matrixAutoUpdate=!1,m.visible=!1,c.joints[g.jointName]=m,c.add(m)}const _=c.joints[g.jointName];null!==b&&(_.matrix.fromArray(b.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=b.radius),_.visible=null!==b}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}}class ox extends $n{constructor(e,t,n,r,s,o,a,l,c,u){if((u=void 0!==u?u:Za)!==Za&&u!==qc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Za&&(n=hh),void 0===n&&u===qc&&(n=$c),super(null,r,s,o,a,l,u,n,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:ei,this.minFilter=void 0!==l?l:ei,this.flipY=!1,this.generateMipmaps=!1}}ox.prototype.isDepthTexture=!0;class LY extends na{constructor(e,t){super();const n=this;let r=null,s=1,o=null,a="local-floor";const l=e.extensions.has("WEBGL_multisampled_render_to_texture");let c=null,u=null,d=null,h=null,f=!1,p=null;const g=t.getContextAttributes();let b=null,_=null;const m=[],w=new Map,x=new qn;x.layers.enable(1),x.viewport=new on;const C=new qn;C.layers.enable(2),C.viewport=new on;const D=[x,C],k=new VR;k.layers.enable(1),k.layers.enable(2);let N=null,W=null;function z(Y){const J=w.get(Y.inputSource);J&&J.dispatchEvent({type:Y.type,data:Y.inputSource})}function V(){w.forEach(function(Y,J){Y.disconnect(J)}),w.clear(),N=null,W=null,e.setRenderTarget(b),h=null,d=null,u=null,r=null,_=null,ie.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function S(Y){const J=r.inputSources;for(let ge=0;ge<m.length;ge++)w.set(J[ge],m[ge]);for(let ge=0;ge<Y.removed.length;ge++){const ye=Y.removed[ge],me=w.get(ye);me&&(me.dispatchEvent({type:"disconnected",data:ye}),w.delete(ye))}for(let ge=0;ge<Y.added.length;ge++){const ye=Y.added[ge],me=w.get(ye);me&&me.dispatchEvent({type:"connected",data:ye})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let J=m[Y];return void 0===J&&(J=new sx,m[Y]=J),J.getTargetRaySpace()},this.getControllerGrip=function(Y){let J=m[Y];return void 0===J&&(J=new sx,m[Y]=J),J.getGripSpace()},this.getHand=function(Y){let J=m[Y];return void 0===J&&(J=new sx,m[Y]=J),J.getHandSpace()},this.setFramebufferScaleFactor=function(Y){s=Y,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var Y=function(i){return function(){var e=this,t=arguments;return new Promise(function(n,r){var s=i.apply(e,t);function o(l){bI(s,n,r,o,a,"next",l)}function a(l){bI(s,n,r,o,a,"throw",l)}o(void 0)})}}(function*(J){if(r=J,null!==r){if(b=e.getRenderTarget(),r.addEventListener("select",z),r.addEventListener("selectstart",z),r.addEventListener("selectend",z),r.addEventListener("squeeze",z),r.addEventListener("squeezestart",z),r.addEventListener("squeezeend",z),r.addEventListener("end",V),r.addEventListener("inputsourceschange",S),!0!==g.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)h=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||g.antialias,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:h}),_=new Vr(h.framebufferWidth,h.framebufferHeight,{format:ui,type:vo,encoding:e.outputEncoding});else{f=g.antialias;let ge=null,ye=null,me=null;g.depth&&(me=g.stencil?35056:33190,ge=g.stencil?qc:Za,ye=g.stencil?$c:hh);const Et={colorFormat:g.alpha||f?32856:32849,depthFormat:me,scaleFactor:s};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(Et),r.updateRenderState({layers:[d]}),_=f?new M0(d.textureWidth,d.textureHeight,{format:ui,type:vo,depthTexture:new ox(d.textureWidth,d.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,ge),stencilBuffer:g.stencil,ignoreDepth:d.ignoreDepthValues,useRenderToTexture:l,encoding:e.outputEncoding}):new Vr(d.textureWidth,d.textureHeight,{format:g.alpha?ui:ta,type:vo,depthTexture:new ox(d.textureWidth,d.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,ge),stencilBuffer:g.stencil,ignoreDepth:d.ignoreDepthValues,encoding:e.outputEncoding})}this.setFoveation(1),o=yield r.requestReferenceSpace(a),ie.setContext(r),ie.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(J){return Y.apply(this,arguments)}}();const A=new E,H=new E;function L(Y,J){null===J?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(J.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(null===r)return;k.near=C.near=x.near=Y.near,k.far=C.far=x.far=Y.far,(N!==k.near||W!==k.far)&&(r.updateRenderState({depthNear:k.near,depthFar:k.far}),N=k.near,W=k.far);const J=Y.parent,ge=k.cameras;L(k,J);for(let me=0;me<ge.length;me++)L(ge[me],J);k.matrixWorld.decompose(k.position,k.quaternion,k.scale),Y.position.copy(k.position),Y.quaternion.copy(k.quaternion),Y.scale.copy(k.scale),Y.matrix.copy(k.matrix),Y.matrixWorld.copy(k.matrixWorld);const ye=Y.children;for(let me=0,Et=ye.length;me<Et;me++)ye[me].updateMatrixWorld(!0);2===ge.length?function(Y,J,ge){A.setFromMatrixPosition(J.matrixWorld),H.setFromMatrixPosition(ge.matrixWorld);const ye=A.distanceTo(H),me=J.projectionMatrix.elements,Et=ge.projectionMatrix.elements,re=me[14]/(me[10]-1),qe=me[14]/(me[10]+1),je=(me[9]+1)/me[5],Le=(me[9]-1)/me[5],Ve=(me[8]-1)/me[0],It=(Et[8]+1)/Et[0],ee=re*Ve,pe=re*It,ve=ye/(-Ve+It),ke=ve*-Ve;J.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(ke),Y.translateZ(ve),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const Ee=re+ve,ht=qe+ve;Y.projectionMatrix.makePerspective(ee-ke,pe+(ye-ke),je*qe/ht*Ee,Le*qe/ht*Ee,Ee,ht)}(k,x,C):k.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return k},this.getFoveation=function(){return null!==d?d.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(Y){null!==d&&(d.fixedFoveation=Y),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=Y)};let B=null;const ie=new rR;ie.setAnimationLoop(function(Y,J){if(c=J.getViewerPose(o),p=J,null!==c){const ye=c.views;null!==h&&(e.setRenderTargetFramebuffer(_,h.framebuffer),e.setRenderTarget(_));let me=!1;ye.length!==k.cameras.length&&(k.cameras.length=0,me=!0);for(let Et=0;Et<ye.length;Et++){const re=ye[Et];let qe=null;if(null!==h)qe=h.getViewport(re);else{const Le=u.getViewSubImage(d,re);qe=Le.viewport,0===Et&&(e.setRenderTargetTextures(_,Le.colorTexture,d.ignoreDepthValues?void 0:Le.depthStencilTexture),e.setRenderTarget(_))}const je=D[Et];je.matrix.fromArray(re.transform.matrix),je.projectionMatrix.fromArray(re.projectionMatrix),je.viewport.set(qe.x,qe.y,qe.width,qe.height),0===Et&&k.matrix.copy(je.matrix),!0===me&&k.cameras.push(je)}}const ge=r.inputSources;for(let ye=0;ye<m.length;ye++)m[ye].update(ge[ye],J,o);B&&B(Y,J),p=null}),this.setAnimationLoop=function(Y){B=Y},this.dispose=function(){}}}function OY(i){function n(_,m){_.opacity.value=m.opacity,m.color&&_.diffuse.value.copy(m.color),m.emissive&&_.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(_.map.value=m.map),m.alphaMap&&(_.alphaMap.value=m.alphaMap),m.specularMap&&(_.specularMap.value=m.specularMap),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest);const w=i.get(m).envMap;let x,C;w&&(_.envMap.value=w,_.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,_.reflectivity.value=m.reflectivity,_.ior.value=m.ior,_.refractionRatio.value=m.refractionRatio),m.lightMap&&(_.lightMap.value=m.lightMap,_.lightMapIntensity.value=m.lightMapIntensity),m.aoMap&&(_.aoMap.value=m.aoMap,_.aoMapIntensity.value=m.aoMapIntensity),m.map?x=m.map:m.specularMap?x=m.specularMap:m.displacementMap?x=m.displacementMap:m.normalMap?x=m.normalMap:m.bumpMap?x=m.bumpMap:m.roughnessMap?x=m.roughnessMap:m.metalnessMap?x=m.metalnessMap:m.alphaMap?x=m.alphaMap:m.emissiveMap?x=m.emissiveMap:m.clearcoatMap?x=m.clearcoatMap:m.clearcoatNormalMap?x=m.clearcoatNormalMap:m.clearcoatRoughnessMap?x=m.clearcoatRoughnessMap:m.specularIntensityMap?x=m.specularIntensityMap:m.specularColorMap?x=m.specularColorMap:m.transmissionMap?x=m.transmissionMap:m.thicknessMap?x=m.thicknessMap:m.sheenColorMap?x=m.sheenColorMap:m.sheenRoughnessMap&&(x=m.sheenRoughnessMap),void 0!==x&&(x.isWebGLRenderTarget&&(x=x.texture),!0===x.matrixAutoUpdate&&x.updateMatrix(),_.uvTransform.value.copy(x.matrix)),m.aoMap?C=m.aoMap:m.lightMap&&(C=m.lightMap),void 0!==C&&(C.isWebGLRenderTarget&&(C=C.texture),!0===C.matrixAutoUpdate&&C.updateMatrix(),_.uv2Transform.value.copy(C.matrix))}function d(_,m){_.roughness.value=m.roughness,_.metalness.value=m.metalness,m.roughnessMap&&(_.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(_.metalnessMap.value=m.metalnessMap),m.emissiveMap&&(_.emissiveMap.value=m.emissiveMap),m.bumpMap&&(_.bumpMap.value=m.bumpMap,_.bumpScale.value=m.bumpScale,1===m.side&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,_.normalScale.value.copy(m.normalScale),1===m.side&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias),i.get(m).envMap&&(_.envMapIntensity.value=m.envMapIntensity)}return{refreshFogUniforms:function(_,m){_.fogColor.value.copy(m.color),m.isFog?(_.fogNear.value=m.near,_.fogFar.value=m.far):m.isFogExp2&&(_.fogDensity.value=m.density)},refreshMaterialUniforms:function(_,m,w,x,C){m.isMeshBasicMaterial?n(_,m):m.isMeshLambertMaterial?(n(_,m),function(_,m){m.emissiveMap&&(_.emissiveMap.value=m.emissiveMap)}(_,m)):m.isMeshToonMaterial?(n(_,m),function(_,m){m.gradientMap&&(_.gradientMap.value=m.gradientMap),m.emissiveMap&&(_.emissiveMap.value=m.emissiveMap),m.bumpMap&&(_.bumpMap.value=m.bumpMap,_.bumpScale.value=m.bumpScale,1===m.side&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,_.normalScale.value.copy(m.normalScale),1===m.side&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias)}(_,m)):m.isMeshPhongMaterial?(n(_,m),function(_,m){_.specular.value.copy(m.specular),_.shininess.value=Math.max(m.shininess,1e-4),m.emissiveMap&&(_.emissiveMap.value=m.emissiveMap),m.bumpMap&&(_.bumpMap.value=m.bumpMap,_.bumpScale.value=m.bumpScale,1===m.side&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,_.normalScale.value.copy(m.normalScale),1===m.side&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias)}(_,m)):m.isMeshStandardMaterial?(n(_,m),m.isMeshPhysicalMaterial?function(_,m,w){d(_,m),_.ior.value=m.ior,m.sheen>0&&(_.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),_.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(_.sheenColorMap.value=m.sheenColorMap),m.sheenRoughnessMap&&(_.sheenRoughnessMap.value=m.sheenRoughnessMap)),m.clearcoat>0&&(_.clearcoat.value=m.clearcoat,_.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(_.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(_.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),_.clearcoatNormalMap.value=m.clearcoatNormalMap,1===m.side&&_.clearcoatNormalScale.value.negate())),m.transmission>0&&(_.transmission.value=m.transmission,_.transmissionSamplerMap.value=w.texture,_.transmissionSamplerSize.value.set(w.width,w.height),m.transmissionMap&&(_.transmissionMap.value=m.transmissionMap),_.thickness.value=m.thickness,m.thicknessMap&&(_.thicknessMap.value=m.thicknessMap),_.attenuationDistance.value=m.attenuationDistance,_.attenuationColor.value.copy(m.attenuationColor)),_.specularIntensity.value=m.specularIntensity,_.specularColor.value.copy(m.specularColor),m.specularIntensityMap&&(_.specularIntensityMap.value=m.specularIntensityMap),m.specularColorMap&&(_.specularColorMap.value=m.specularColorMap)}(_,m,C):d(_,m)):m.isMeshMatcapMaterial?(n(_,m),function(_,m){m.matcap&&(_.matcap.value=m.matcap),m.bumpMap&&(_.bumpMap.value=m.bumpMap,_.bumpScale.value=m.bumpScale,1===m.side&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,_.normalScale.value.copy(m.normalScale),1===m.side&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias)}(_,m)):m.isMeshDepthMaterial?(n(_,m),function(_,m){m.displacementMap&&(_.displacementMap.value=m.displacementMap,_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias)}(_,m)):m.isMeshDistanceMaterial?(n(_,m),function(_,m){m.displacementMap&&(_.displacementMap.value=m.displacementMap,_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias),_.referencePosition.value.copy(m.referencePosition),_.nearDistance.value=m.nearDistance,_.farDistance.value=m.farDistance}(_,m)):m.isMeshNormalMaterial?(n(_,m),function(_,m){m.bumpMap&&(_.bumpMap.value=m.bumpMap,_.bumpScale.value=m.bumpScale,1===m.side&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,_.normalScale.value.copy(m.normalScale),1===m.side&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias)}(_,m)):m.isLineBasicMaterial?(function(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity}(_,m),m.isLineDashedMaterial&&function(_,m){_.dashSize.value=m.dashSize,_.totalSize.value=m.dashSize+m.gapSize,_.scale.value=m.scale}(_,m)):m.isPointsMaterial?function(_,m,w,x){let C;_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.size.value=m.size*w,_.scale.value=.5*x,m.map&&(_.map.value=m.map),m.alphaMap&&(_.alphaMap.value=m.alphaMap),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest),m.map?C=m.map:m.alphaMap&&(C=m.alphaMap),void 0!==C&&(!0===C.matrixAutoUpdate&&C.updateMatrix(),_.uvTransform.value.copy(C.matrix))}(_,m,w,x):m.isSpriteMaterial?function(_,m){let w;_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.rotation.value=m.rotation,m.map&&(_.map.value=m.map),m.alphaMap&&(_.alphaMap.value=m.alphaMap),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest),m.map?w=m.map:m.alphaMap&&(w=m.alphaMap),void 0!==w&&(!0===w.matrixAutoUpdate&&w.updateMatrix(),_.uvTransform.value.copy(w.matrix))}(_,m):m.isShadowMaterial?(_.color.value.copy(m.color),_.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}}}function nn(i={}){const e=void 0!==i.canvas?i.canvas:function(){const i=Tm("canvas");return i.style.display="block",i}(),t=void 0!==i.context?i.context:null,n=void 0!==i.alpha&&i.alpha,r=void 0===i.depth||i.depth,s=void 0===i.stencil||i.stencil,o=void 0!==i.antialias&&i.antialias,a=void 0===i.premultipliedAlpha||i.premultipliedAlpha,l=void 0!==i.preserveDrawingBuffer&&i.preserveDrawingBuffer,c=void 0!==i.powerPreference?i.powerPreference:"default",u=void 0!==i.failIfMajorPerformanceCaveat&&i.failIfMajorPerformanceCaveat;let d=null,h=null;const f=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=us,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const g=this;let b=!1,_=0,m=0,w=null,x=-1,C=null;const D=new on,k=new on;let N=null,W=e.width,z=e.height,V=1,S=null,A=null;const H=new on(0,0,W,z),G=new on(0,0,W,z);let L=!1;const B=[],K=new qm;let ie=!1,Y=!1,J=null;const ge=new Ue,ye=new E,me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Et(){return null===w?V:1}let je,Le,Ve,It,ee,pe,ve,ke,Ee,ht,pt,Rt,hn,F,I,se,de,Se,ce,ct,Xe,O,P,re=t;function qe(R,U){for(let Z=0;Z<R.length;Z++){const te=e.getContext(R[Z],U);if(null!==te)return te}return null}try{const R={alpha:n,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r136"),e.addEventListener("webglcontextlost",Ze,!1),e.addEventListener("webglcontextrestored",Oe,!1),null===re){const U=["webgl2","webgl","experimental-webgl"];if(!0===g.isWebGL1Renderer&&U.shift(),re=qe(U,R),null===re)throw qe(U)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===re.getShaderPrecisionFormat&&(re.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(R){throw console.error("THREE.WebGLRenderer: "+R.message),R}function le(){je=new i9(re),Le=new Zq(re,je,i),je.init(Le),O=new kY(re,je,Le),Ve=new RY(re,je,Le),B[0]=1029,It=new o9(re),ee=new bY,pe=new PY(re,je,Ve,ee,Le,O,It),ve=new Qq(g),ke=new n9(g),Ee=new K$(re,Le),P=new Yq(re,je,Ee,Le),ht=new r9(re,Ee,It,P),pt=new u9(re,ht,Ee,It),ce=new c9(re,Le,pe),se=new Kq(ee),Rt=new vY(g,ve,ke,je,Le,P,se),hn=new OY(ee),F=new wY,I=new DY(je,Le),Se=new qq(g,ve,Ve,pt,a),de=new BR(g,pt,Le),ct=new Xq(re,je,It,Le),Xe=new s9(re,je,It,Le),It.programs=Rt.programs,g.capabilities=Le,g.extensions=je,g.properties=ee,g.renderLists=F,g.shadowMap=de,g.state=Ve,g.info=It}le();const ae=new LY(g,re);function Ze(R){R.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Oe(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const R=It.autoReset,U=de.enabled,Z=de.autoUpdate,q=de.needsUpdate,te=de.type;le(),It.autoReset=R,de.enabled=U,de.autoUpdate=Z,de.needsUpdate=q,de.type=te}function bt(R){const U=R.target;U.removeEventListener("dispose",bt),function(R){(function(R){const U=ee.get(R).programs;void 0!==U&&(U.forEach(function(Z){Rt.releaseProgram(Z)}),R.isShaderMaterial&&Rt.releaseShaderCache(R))})(R),ee.remove(R)}(U)}this.xr=ae,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const R=je.get("WEBGL_lose_context");R&&R.loseContext()},this.forceContextRestore=function(){const R=je.get("WEBGL_lose_context");R&&R.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(R){void 0!==R&&(V=R,this.setSize(W,z,!1))},this.getSize=function(R){return R.set(W,z)},this.setSize=function(R,U,Z){ae.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=R,z=U,e.width=Math.floor(R*V),e.height=Math.floor(U*V),!1!==Z&&(e.style.width=R+"px",e.style.height=U+"px"),this.setViewport(0,0,R,U))},this.getDrawingBufferSize=function(R){return R.set(W*V,z*V).floor()},this.setDrawingBufferSize=function(R,U,Z){W=R,z=U,V=Z,e.width=Math.floor(R*Z),e.height=Math.floor(U*Z),this.setViewport(0,0,R,U)},this.getCurrentViewport=function(R){return R.copy(D)},this.getViewport=function(R){return R.copy(H)},this.setViewport=function(R,U,Z,q){R.isVector4?H.set(R.x,R.y,R.z,R.w):H.set(R,U,Z,q),Ve.viewport(D.copy(H).multiplyScalar(V).floor())},this.getScissor=function(R){return R.copy(G)},this.setScissor=function(R,U,Z,q){R.isVector4?G.set(R.x,R.y,R.z,R.w):G.set(R,U,Z,q),Ve.scissor(k.copy(G).multiplyScalar(V).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(R){Ve.setScissorTest(L=R)},this.setOpaqueSort=function(R){S=R},this.setTransparentSort=function(R){A=R},this.getClearColor=function(R){return R.copy(Se.getClearColor())},this.setClearColor=function(){Se.setClearColor.apply(Se,arguments)},this.getClearAlpha=function(){return Se.getClearAlpha()},this.setClearAlpha=function(){Se.setClearAlpha.apply(Se,arguments)},this.clear=function(R,U,Z){let q=0;(void 0===R||R)&&(q|=16384),(void 0===U||U)&&(q|=256),(void 0===Z||Z)&&(q|=1024),re.clear(q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ze,!1),e.removeEventListener("webglcontextrestored",Oe,!1),F.dispose(),I.dispose(),ee.dispose(),ve.dispose(),ke.dispose(),pt.dispose(),P.dispose(),Rt.dispose(),ae.dispose(),ae.removeEventListener("sessionstart",Ws),ae.removeEventListener("sessionend",js),J&&(J.dispose(),J=null),Sl.stop()},this.renderBufferDirect=function(R,U,Z,q,te,xt){null===U&&(U=me);const St=te.isMesh&&te.matrixWorld.determinant()<0,Nt=function(R,U,Z,q,te){!0!==U.isScene&&(U=me),pe.resetTextureUnits();const xt=U.fog,Nt=null===w?g.outputEncoding:w.texture.encoding,wt=(q.isMeshStandardMaterial?ke:ve).get(q.envMap||(q.isMeshStandardMaterial?U.environment:null)),Jt=!0===q.vertexColors&&!!Z.attributes.color&&4===Z.attributes.color.itemSize,Bt=!!q.normalMap&&!!Z.attributes.tangent,Zt=!!Z.morphAttributes.position,Gn=!!Z.morphAttributes.normal,Tl=Z.morphAttributes.position?Z.morphAttributes.position.length:0,Gu=q.toneMapped?g.toneMapping:0,rn=ee.get(q),$s=h.state.lights;!0!==ie||!0!==Y&&R===C||se.setState(q,R,R===C&&q.id===x);let di=!1;q.version===rn.__version?(rn.needsLights&&rn.lightsStateVersion!==$s.state.version||rn.outputEncoding!==Nt||te.isInstancedMesh&&!1===rn.instancing||!te.isInstancedMesh&&!0===rn.instancing||te.isSkinnedMesh&&!1===rn.skinning||!te.isSkinnedMesh&&!0===rn.skinning||rn.envMap!==wt||q.fog&&rn.fog!==xt||void 0!==rn.numClippingPlanes&&(rn.numClippingPlanes!==se.numPlanes||rn.numIntersection!==se.numIntersection)||rn.vertexAlphas!==Jt||rn.vertexTangents!==Bt||rn.morphTargets!==Zt||rn.morphNormals!==Gn||rn.toneMapping!==Gu||!0===Le.isWebGL2&&rn.morphTargetsCount!==Tl)&&(di=!0):(di=!0,rn.__version=q.version);let qs=rn.currentProgram;!0===di&&(qs=Xw(q,U,te));let w_=!1,Ys=!1,Lo=!1;const zi=qs.getUniforms(),mf=rn.uniforms;if(Ve.useProgram(qs.program)&&(w_=!0,Ys=!0,Lo=!0),q.id!==x&&(x=q.id,Ys=!0),w_||C!==R){if(zi.setValue(re,"projectionMatrix",R.projectionMatrix),Le.logarithmicDepthBuffer&&zi.setValue(re,"logDepthBufFC",2/(Math.log(R.far+1)/Math.LN2)),C!==R&&(C=R,Ys=!0,Lo=!0),q.isShaderMaterial||q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshStandardMaterial||q.envMap){const ms=zi.map.cameraPosition;void 0!==ms&&ms.setValue(re,ye.setFromMatrixPosition(R.matrixWorld))}(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial)&&zi.setValue(re,"isOrthographic",!0===R.isOrthographicCamera),(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial||q.isShadowMaterial||te.isSkinnedMesh)&&zi.setValue(re,"viewMatrix",R.matrixWorldInverse)}if(te.isSkinnedMesh){zi.setOptional(re,te,"bindMatrix"),zi.setOptional(re,te,"bindMatrixInverse");const ms=te.skeleton;ms&&(Le.floatVertexTextures?(null===ms.boneTexture&&ms.computeBoneTexture(),zi.setValue(re,"boneTexture",ms.boneTexture,pe),zi.setValue(re,"boneTextureSize",ms.boneTextureSize)):zi.setOptional(re,ms,"boneMatrices"))}return!!Z&&(void 0!==Z.morphAttributes.position||void 0!==Z.morphAttributes.normal)&&ce.update(te,Z,q,qs),(Ys||rn.receiveShadow!==te.receiveShadow)&&(rn.receiveShadow=te.receiveShadow,zi.setValue(re,"receiveShadow",te.receiveShadow)),Ys&&(zi.setValue(re,"toneMappingExposure",g.toneMappingExposure),rn.needsLights&&function(R,U){R.ambientLightColor.needsUpdate=U,R.lightProbe.needsUpdate=U,R.directionalLights.needsUpdate=U,R.directionalLightShadows.needsUpdate=U,R.pointLights.needsUpdate=U,R.pointLightShadows.needsUpdate=U,R.spotLights.needsUpdate=U,R.spotLightShadows.needsUpdate=U,R.rectAreaLights.needsUpdate=U,R.hemisphereLights.needsUpdate=U}(mf,Lo),xt&&q.fog&&hn.refreshFogUniforms(mf,xt),hn.refreshMaterialUniforms(mf,q,V,z,J),da.upload(re,rn.uniformsList,mf,pe)),q.isShaderMaterial&&!0===q.uniformsNeedUpdate&&(da.upload(re,rn.uniformsList,mf,pe),q.uniformsNeedUpdate=!1),q.isSpriteMaterial&&zi.setValue(re,"center",te.center),zi.setValue(re,"modelViewMatrix",te.modelViewMatrix),zi.setValue(re,"normalMatrix",te.normalMatrix),zi.setValue(re,"modelMatrix",te.matrixWorld),qs}(R,U,Z,q,te);Ve.setMaterial(q,St);let wt=Z.index;const Jt=Z.attributes.position;if(null===wt){if(void 0===Jt||0===Jt.count)return}else if(0===wt.count)return;let Bt=1;!0===q.wireframe&&(wt=ht.getWireframeAttribute(Z),Bt=2),P.setup(te,q,Nt,Z,wt);let Zt,Gn=ct;null!==wt&&(Zt=Ee.get(wt),Gn=Xe,Gn.setIndex(Zt));const Tl=null!==wt?wt.count:Jt.count,Gu=Z.drawRange.start*Bt,rn=Z.drawRange.count*Bt,$s=null!==xt?xt.start*Bt:0,di=null!==xt?xt.count*Bt:1/0,qs=Math.max(Gu,$s),w_=Math.min(Tl,Gu+rn,$s+di)-1,Ys=Math.max(0,w_-qs+1);if(0!==Ys){if(te.isMesh)!0===q.wireframe?(Ve.setLineWidth(q.wireframeLinewidth*Et()),Gn.setMode(1)):Gn.setMode(4);else if(te.isLine){let Lo=q.linewidth;void 0===Lo&&(Lo=1),Ve.setLineWidth(Lo*Et()),Gn.setMode(te.isLineSegments?1:te.isLineLoop?2:3)}else te.isPoints?Gn.setMode(0):te.isSprite&&Gn.setMode(4);if(te.isInstancedMesh)Gn.renderInstances(qs,Ys,te.count);else if(Z.isInstancedBufferGeometry){const Lo=Math.min(Z.instanceCount,Z._maxInstanceCount);Gn.renderInstances(qs,Ys,Lo)}else Gn.render(qs,Ys)}},this.compile=function(R,U){h=I.get(R),h.init(),p.push(h),R.traverseVisible(function(Z){Z.isLight&&Z.layers.test(U.layers)&&(h.pushLight(Z),Z.castShadow&&h.pushShadow(Z))}),h.setupLights(g.physicallyCorrectLights),R.traverse(function(Z){const q=Z.material;if(q)if(Array.isArray(q))for(let te=0;te<q.length;te++)Xw(q[te],R,Z);else Xw(q,R,Z)}),p.pop(),h=null};let jt=null;function Ws(){Sl.stop()}function js(){Sl.start()}const Sl=new rR;function dL(R,U,Z,q){if(!1===R.visible)return;if(R.layers.test(U.layers))if(R.isGroup)Z=R.renderOrder;else if(R.isLOD)!0===R.autoUpdate&&R.update(U);else if(R.isLight)h.pushLight(R),R.castShadow&&h.pushShadow(R);else if(R.isSprite){if(!R.frustumCulled||K.intersectsSprite(R)){q&&ye.setFromMatrixPosition(R.matrixWorld).applyMatrix4(ge);const St=pt.update(R),Nt=R.material;Nt.visible&&d.push(R,St,Nt,Z,ye.z,null)}}else if((R.isMesh||R.isLine||R.isPoints)&&(R.isSkinnedMesh&&R.skeleton.frame!==It.render.frame&&(R.skeleton.update(),R.skeleton.frame=It.render.frame),!R.frustumCulled||K.intersectsObject(R))){q&&ye.setFromMatrixPosition(R.matrixWorld).applyMatrix4(ge);const St=pt.update(R),Nt=R.material;if(Array.isArray(Nt)){const wt=St.groups;for(let Jt=0,Bt=wt.length;Jt<Bt;Jt++){const Zt=wt[Jt],Gn=Nt[Zt.materialIndex];Gn&&Gn.visible&&d.push(R,St,Gn,Z,ye.z,Zt)}}else Nt.visible&&d.push(R,St,Nt,Z,ye.z,null)}const xt=R.children;for(let St=0,Nt=xt.length;St<Nt;St++)dL(xt[St],U,Z,q)}function hL(R,U,Z,q){const te=R.opaque,xt=R.transmissive,St=R.transparent;h.setupLightsView(Z),xt.length>0&&function(R,U,Z){null===J&&(J=new(!0===o&&!0===Le.isWebGL2?M0:Vr)(1024,1024,{generateMipmaps:!0,type:null!==O.convert(Xa)?Xa:vo,minFilter:1008,magFilter:ei,wrapS:Ni,wrapT:Ni,useRenderToTexture:je.has("WEBGL_multisampled_render_to_texture")}));const q=g.getRenderTarget();g.setRenderTarget(J),g.clear();const te=g.toneMapping;g.toneMapping=0,x_(R,U,Z),g.toneMapping=te,pe.updateMultisampleRenderTarget(J),pe.updateRenderTargetMipmap(J),g.setRenderTarget(q)}(te,U,Z),q&&Ve.viewport(D.copy(q)),te.length>0&&x_(te,U,Z),xt.length>0&&x_(xt,U,Z),St.length>0&&x_(St,U,Z)}function x_(R,U,Z){const q=!0===U.isScene?U.overrideMaterial:null;for(let te=0,xt=R.length;te<xt;te++){const St=R[te],Nt=St.object,wt=St.geometry,Jt=null===q?St.material:q,Bt=St.group;Nt.layers.test(Z.layers)&&Mre(Nt,U,Z,wt,Jt,Bt)}}function Mre(R,U,Z,q,te,xt){R.onBeforeRender(g,U,Z,q,te,xt),R.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,R.matrixWorld),R.normalMatrix.getNormalMatrix(R.modelViewMatrix),te.onBeforeRender(g,U,Z,q,R,xt),!0===te.transparent&&2===te.side?(te.side=1,te.needsUpdate=!0,g.renderBufferDirect(Z,U,q,te,R,xt),te.side=0,te.needsUpdate=!0,g.renderBufferDirect(Z,U,q,te,R,xt),te.side=2):g.renderBufferDirect(Z,U,q,te,R,xt),R.onAfterRender(g,U,Z,q,te,xt)}function Xw(R,U,Z){!0!==U.isScene&&(U=me);const q=ee.get(R),te=h.state.lights,St=te.state.version,Nt=Rt.getParameters(R,te.state,h.state.shadowsArray,U,Z),wt=Rt.getProgramCacheKey(Nt);let Jt=q.programs;q.environment=R.isMeshStandardMaterial?U.environment:null,q.fog=U.fog,q.envMap=(R.isMeshStandardMaterial?ke:ve).get(R.envMap||q.environment),void 0===Jt&&(R.addEventListener("dispose",bt),Jt=new Map,q.programs=Jt);let Bt=Jt.get(wt);if(void 0!==Bt){if(q.currentProgram===Bt&&q.lightsStateVersion===St)return fL(R,Nt),Bt}else Nt.uniforms=Rt.getUniforms(R),R.onBuild(Z,Nt,g),R.onBeforeCompile(Nt,g),Bt=Rt.acquireProgram(Nt,wt),Jt.set(wt,Bt),q.uniforms=Nt.uniforms;const Zt=q.uniforms;(!R.isShaderMaterial&&!R.isRawShaderMaterial||!0===R.clipping)&&(Zt.clippingPlanes=se.uniform),fL(R,Nt),q.needsLights=function(R){return R.isMeshLambertMaterial||R.isMeshToonMaterial||R.isMeshPhongMaterial||R.isMeshStandardMaterial||R.isShadowMaterial||R.isShaderMaterial&&!0===R.lights}(R),q.lightsStateVersion=St,q.needsLights&&(Zt.ambientLightColor.value=te.state.ambient,Zt.lightProbe.value=te.state.probe,Zt.directionalLights.value=te.state.directional,Zt.directionalLightShadows.value=te.state.directionalShadow,Zt.spotLights.value=te.state.spot,Zt.spotLightShadows.value=te.state.spotShadow,Zt.rectAreaLights.value=te.state.rectArea,Zt.ltc_1.value=te.state.rectAreaLTC1,Zt.ltc_2.value=te.state.rectAreaLTC2,Zt.pointLights.value=te.state.point,Zt.pointLightShadows.value=te.state.pointShadow,Zt.hemisphereLights.value=te.state.hemi,Zt.directionalShadowMap.value=te.state.directionalShadowMap,Zt.directionalShadowMatrix.value=te.state.directionalShadowMatrix,Zt.spotShadowMap.value=te.state.spotShadowMap,Zt.spotShadowMatrix.value=te.state.spotShadowMatrix,Zt.pointShadowMap.value=te.state.pointShadowMap,Zt.pointShadowMatrix.value=te.state.pointShadowMatrix);const Gn=Bt.getUniforms(),Tl=da.seqWithValue(Gn.seq,Zt);return q.currentProgram=Bt,q.uniformsList=Tl,Bt}function fL(R,U){const Z=ee.get(R);Z.outputEncoding=U.outputEncoding,Z.instancing=U.instancing,Z.skinning=U.skinning,Z.morphTargets=U.morphTargets,Z.morphNormals=U.morphNormals,Z.morphTargetsCount=U.morphTargetsCount,Z.numClippingPlanes=U.numClippingPlanes,Z.numIntersection=U.numClipIntersection,Z.vertexAlphas=U.vertexAlphas,Z.vertexTangents=U.vertexTangents,Z.toneMapping=U.toneMapping}Sl.setAnimationLoop(function(R){jt&&jt(R)}),"undefined"!=typeof window&&Sl.setContext(window),this.setAnimationLoop=function(R){jt=R,ae.setAnimationLoop(R),null===R?Sl.stop():Sl.start()},ae.addEventListener("sessionstart",Ws),ae.addEventListener("sessionend",js),this.render=function(R,U){if(void 0===U||!0===U.isCamera){if(!0!==b){if(!0===R.autoUpdate&&R.updateMatrixWorld(),null===U.parent&&U.updateMatrixWorld(),!0===ae.enabled&&!0===ae.isPresenting&&(!0===ae.cameraAutoUpdate&&ae.updateCamera(U),U=ae.getCamera()),!0===R.isScene&&R.onBeforeRender(g,R,U,w),h=I.get(R,p.length),h.init(),p.push(h),ge.multiplyMatrices(U.projectionMatrix,U.matrixWorldInverse),K.setFromProjectionMatrix(ge),Y=this.localClippingEnabled,ie=se.init(this.clippingPlanes,Y,U),d=F.get(R,f.length),d.init(),f.push(d),dL(R,U,0,g.sortObjects),d.finish(),!0===g.sortObjects&&d.sort(S,A),!0===ie&&se.beginShadows(),de.render(h.state.shadowsArray,R,U),!0===ie&&se.endShadows(),!0===this.info.autoReset&&this.info.reset(),Se.render(d,R),h.setupLights(g.physicallyCorrectLights),U.isArrayCamera){const q=U.cameras;for(let te=0,xt=q.length;te<xt;te++){const St=q[te];hL(d,R,St,St.viewport)}}else hL(d,R,U);null!==w&&(pe.updateMultisampleRenderTarget(w),pe.updateRenderTargetMipmap(w)),!0===R.isScene&&R.onAfterRender(g,R,U),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1),P.resetDefaultState(),x=-1,C=null,p.pop(),h=p.length>0?p[p.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return m},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(R,U,Z){ee.get(R.texture).__webglTexture=U,ee.get(R.depthTexture).__webglTexture=Z;const q=ee.get(R);q.__hasExternalTextures=!0,q.__hasExternalTextures&&(q.__autoAllocateDepthBuffer=void 0===Z,q.__autoAllocateDepthBuffer||R.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),R.useRenderToTexture=!1,R.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(R,U){const Z=ee.get(R);Z.__webglFramebuffer=U,Z.__useDefaultFramebuffer=void 0===U},this.setRenderTarget=function(R,U=0,Z=0){w=R,_=U,m=Z;let q=!0;if(R){const wt=ee.get(R);void 0!==wt.__useDefaultFramebuffer?(Ve.bindFramebuffer(36160,null),q=!1):void 0===wt.__webglFramebuffer?pe.setupRenderTarget(R):wt.__hasExternalTextures&&pe.rebindTextures(R,ee.get(R.texture).__webglTexture,ee.get(R.depthTexture).__webglTexture)}let te=null,xt=!1,St=!1;if(R){const wt=R.texture;(wt.isDataTexture3D||wt.isDataTexture2DArray)&&(St=!0);const Jt=ee.get(R).__webglFramebuffer;R.isWebGLCubeRenderTarget?(te=Jt[U],xt=!0):te=R.useRenderbuffer?ee.get(R).__webglMultisampledFramebuffer:Jt,D.copy(R.viewport),k.copy(R.scissor),N=R.scissorTest}else D.copy(H).multiplyScalar(V).floor(),k.copy(G).multiplyScalar(V).floor(),N=L;if(Ve.bindFramebuffer(36160,te)&&Le.drawBuffers&&q){let wt=!1;if(R)if(R.isWebGLMultipleRenderTargets){const Jt=R.texture;if(B.length!==Jt.length||36064!==B[0]){for(let Bt=0,Zt=Jt.length;Bt<Zt;Bt++)B[Bt]=36064+Bt;B.length=Jt.length,wt=!0}}else(1!==B.length||36064!==B[0])&&(B[0]=36064,B.length=1,wt=!0);else(1!==B.length||1029!==B[0])&&(B[0]=1029,B.length=1,wt=!0);wt&&(Le.isWebGL2?re.drawBuffers(B):je.get("WEBGL_draw_buffers").drawBuffersWEBGL(B))}if(Ve.viewport(D),Ve.scissor(k),Ve.setScissorTest(N),xt){const wt=ee.get(R.texture);re.framebufferTexture2D(36160,36064,34069+U,wt.__webglTexture,Z)}else if(St){const wt=ee.get(R.texture);re.framebufferTextureLayer(36160,36064,wt.__webglTexture,Z||0,U||0)}x=-1},this.readRenderTargetPixels=function(R,U,Z,q,te,xt,St){if(!R||!R.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Nt=ee.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget&&void 0!==St&&(Nt=Nt[St]),Nt){Ve.bindFramebuffer(36160,Nt);try{const wt=R.texture,Jt=wt.format,Bt=wt.type;if(Jt!==ui&&O.convert(Jt)!==re.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Zt=Bt===Xa&&(je.has("EXT_color_buffer_half_float")||Le.isWebGL2&&je.has("EXT_color_buffer_float"));if(!(Bt===vo||O.convert(Bt)===re.getParameter(35738)||Bt===bo&&(Le.isWebGL2||je.has("OES_texture_float")||je.has("WEBGL_color_buffer_float"))||Zt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===re.checkFramebufferStatus(36160)?U>=0&&U<=R.width-q&&Z>=0&&Z<=R.height-te&&re.readPixels(U,Z,q,te,O.convert(Jt),O.convert(Bt),xt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const wt=null!==w?ee.get(w).__webglFramebuffer:null;Ve.bindFramebuffer(36160,wt)}}},this.copyFramebufferToTexture=function(R,U,Z=0){if(!0!==U.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const q=Math.pow(2,-Z),te=Math.floor(U.image.width*q),xt=Math.floor(U.image.height*q);pe.setTexture2D(U,0),re.copyTexSubImage2D(3553,Z,0,0,R.x,R.y,te,xt),Ve.unbindTexture()},this.copyTextureToTexture=function(R,U,Z,q=0){const te=U.image.width,xt=U.image.height,St=O.convert(Z.format),Nt=O.convert(Z.type);pe.setTexture2D(Z,0),re.pixelStorei(37440,Z.flipY),re.pixelStorei(37441,Z.premultiplyAlpha),re.pixelStorei(3317,Z.unpackAlignment),U.isDataTexture?re.texSubImage2D(3553,q,R.x,R.y,te,xt,St,Nt,U.image.data):U.isCompressedTexture?re.compressedTexSubImage2D(3553,q,R.x,R.y,U.mipmaps[0].width,U.mipmaps[0].height,St,U.mipmaps[0].data):re.texSubImage2D(3553,q,R.x,R.y,St,Nt,U.image),0===q&&Z.generateMipmaps&&re.generateMipmap(3553),Ve.unbindTexture()},this.copyTextureToTexture3D=function(R,U,Z,q,te=0){if(g.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const xt=R.max.x-R.min.x+1,St=R.max.y-R.min.y+1,Nt=R.max.z-R.min.z+1,wt=O.convert(q.format),Jt=O.convert(q.type);let Bt;if(q.isDataTexture3D)pe.setTexture3D(q,0),Bt=32879;else{if(!q.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");pe.setTexture2DArray(q,0),Bt=35866}re.pixelStorei(37440,q.flipY),re.pixelStorei(37441,q.premultiplyAlpha),re.pixelStorei(3317,q.unpackAlignment);const Zt=re.getParameter(3314),Gn=re.getParameter(32878),Tl=re.getParameter(3316),Gu=re.getParameter(3315),rn=re.getParameter(32877),$s=Z.isCompressedTexture?Z.mipmaps[0]:Z.image;re.pixelStorei(3314,$s.width),re.pixelStorei(32878,$s.height),re.pixelStorei(3316,R.min.x),re.pixelStorei(3315,R.min.y),re.pixelStorei(32877,R.min.z),Z.isDataTexture||Z.isDataTexture3D?re.texSubImage3D(Bt,te,U.x,U.y,U.z,xt,St,Nt,wt,Jt,$s.data):Z.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),re.compressedTexSubImage3D(Bt,te,U.x,U.y,U.z,xt,St,Nt,wt,$s.data)):re.texSubImage3D(Bt,te,U.x,U.y,U.z,xt,St,Nt,wt,Jt,$s),re.pixelStorei(3314,Zt),re.pixelStorei(32878,Gn),re.pixelStorei(3316,Tl),re.pixelStorei(3315,Gu),re.pixelStorei(32877,rn),0===te&&q.generateMipmaps&&re.generateMipmap(Bt),Ve.unbindTexture()},this.initTexture=function(R){pe.setTexture2D(R,0),Ve.unbindTexture()},this.resetState=function(){_=0,m=0,w=null,Ve.reset(),P.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}nn.prototype.isWebGLRenderer=!0,class extends nn{}.prototype.isWebGL1Renderer=!0;class Jm{constructor(e,t=25e-5){this.name="",this.color=new Pe(e),this.density=t}clone(){return new Jm(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Jm.prototype.isFogExp2=!0;class eg{constructor(e,t=1,n=1e3){this.name="",this.color=new Pe(e),this.near=t,this.far=n}clone(){return new eg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}eg.prototype.isFog=!0;class ha extends Xt{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}ha.prototype.isScene=!0;class vu{constructor(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=fh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=mr()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=mr()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=mr()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}vu.prototype.isInterleavedBuffer=!0;const Yn=new E;class al{constructor(e,t,n,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Yn.x=this.getX(t),Yn.y=this.getY(t),Yn.z=this.getZ(t),Yn.applyMatrix4(e),this.setXYZ(t,Yn.x,Yn.y,Yn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Yn.x=this.getX(t),Yn.y=this.getY(t),Yn.z=this.getZ(t),Yn.applyNormalMatrix(e),this.setXYZ(t,Yn.x,Yn.y,Yn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Yn.x=this.getX(t),Yn.y=this.getY(t),Yn.z=this.getZ(t),Yn.transformDirection(e),this.setXYZ(t,Yn.x,Yn.y,Yn.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new an(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new al(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}al.prototype.isInterleavedBufferAttribute=!0;class ax extends Di{constructor(e){super(),this.type="SpriteMaterial",this.color=new Pe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let bu;ax.prototype.isSpriteMaterial=!0;const Ch=new E,xu=new E,wu=new E,Mu=new Q,Eh=new Q,HR=new Ue,tg=new E,Sh=new E,ng=new E,zR=new Q,lx=new Q,UR=new Q;function ig(i,e,t,n,r,s){Mu.subVectors(i,t).addScalar(.5).multiply(n),void 0!==r?(Eh.x=s*Mu.x-r*Mu.y,Eh.y=r*Mu.x+s*Mu.y):Eh.copy(Mu),i.copy(e),i.x+=Eh.x,i.y+=Eh.y,i.applyMatrix4(HR)}(class extends Xt{constructor(e){if(super(),this.type="Sprite",void 0===bu){bu=new ot;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new vu(t,5);bu.setIndex([0,1,2,0,2,3]),bu.setAttribute("position",new al(n,3,0,!1)),bu.setAttribute("uv",new al(n,2,3,!1))}this.geometry=bu,this.material=void 0!==e?e:new ax,this.center=new Q(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xu.setFromMatrixScale(this.matrixWorld),HR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),wu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&xu.multiplyScalar(-wu.z);const n=this.material.rotation;let r,s;0!==n&&(s=Math.cos(n),r=Math.sin(n));const o=this.center;ig(tg.set(-.5,-.5,0),wu,o,xu,r,s),ig(Sh.set(.5,-.5,0),wu,o,xu,r,s),ig(ng.set(.5,.5,0),wu,o,xu,r,s),zR.set(0,0),lx.set(1,0),UR.set(1,1);let a=e.ray.intersectTriangle(tg,Sh,ng,!1,Ch);if(null===a&&(ig(Sh.set(-.5,.5,0),wu,o,xu,r,s),lx.set(0,1),a=e.ray.intersectTriangle(tg,ng,Sh,!1,Ch),null===a))return;const l=e.ray.origin.distanceTo(Ch);l<e.near||l>e.far||t.push({distance:l,point:Ch.clone(),uv:ti.getUV(Ch,tg,Sh,ng,zR,lx,UR,new Q),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}).prototype.isSprite=!0;const WR=new E,jR=new on,$R=new on,HY=new E,qR=new Ue;class ux extends zn{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ue,this.bindMatrixInverse=new Ue}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new on,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;jR.fromBufferAttribute(r.attributes.skinIndex,e),$R.fromBufferAttribute(r.attributes.skinWeight,e),WR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=$R.getComponent(s);if(0!==o){const a=jR.getComponent(s);qR.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(HY.copy(WR).applyMatrix4(qR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}ux.prototype.isSkinnedMesh=!0;(class extends Xt{constructor(){super(),this.type="Bone"}}).prototype.isBone=!0;(class extends $n{constructor(e=null,t=1,n=1,r,s,o,a,l,c=ei,u=ei,d,h){super(null,o,a,l,c,u,r,s,d,h),this.image={data:e,width:t,height:n},this.magFilter=c,this.minFilter=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}).prototype.isDataTexture=!0;class Ao extends an{constructor(e,t,n,r=1){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,n),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Ao.prototype.isInstancedBufferAttribute=!0;const XR=new Ue,ZR=new Ue,sg=[],Th=new zn;(class extends zn{constructor(e,t,n){super(e,t),this.instanceMatrix=new Ao(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Th.geometry=this.geometry,Th.material=this.material,void 0!==Th.material)for(let s=0;s<r;s++){this.getMatrixAt(s,XR),ZR.multiplyMatrices(n,XR),Th.matrixWorld=ZR,Th.raycast(e,sg);for(let o=0,a=sg.length;o<a;o++){const l=sg[o];l.instanceId=s,l.object=this,t.push(l)}sg.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Ao(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class Ai extends Di{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Pe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Ai.prototype.isLineBasicMaterial=!0;const QR=new E,JR=new E,eP=new Ue,fx=new tl,og=new el;class ll extends Xt{constructor(e=new ot,t=new Ai){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)QR.fromBufferAttribute(t,r-1),JR.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=QR.distanceTo(JR);e.setAttribute("lineDistance",new Ge(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),og.copy(n.boundingSphere),og.applyMatrix4(r),og.radius+=s,!1===e.ray.intersectsSphere(og))return;eP.copy(r).invert(),fx.copy(e.ray).applyMatrix4(eP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new E,u=new E,d=new E,h=new E,f=this.isLineSegments?2:1;if(n.isBufferGeometry){const p=n.index,b=n.attributes.position;if(null!==p)for(let w=Math.max(0,o.start),x=Math.min(p.count,o.start+o.count)-1;w<x;w+=f){const C=p.getX(w),D=p.getX(w+1);if(c.fromBufferAttribute(b,C),u.fromBufferAttribute(b,D),fx.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const N=e.ray.origin.distanceTo(h);N<e.near||N>e.far||t.push({distance:N,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}else for(let w=Math.max(0,o.start),x=Math.min(b.count,o.start+o.count)-1;w<x;w+=f){if(c.fromBufferAttribute(b,w),u.fromBufferAttribute(b,w+1),fx.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(h);D<e.near||D>e.far||t.push({distance:D,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}ll.prototype.isLine=!0;const tP=new E,nP=new E;class fa extends ll{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)tP.fromBufferAttribute(t,r),nP.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+tP.distanceTo(nP);e.setAttribute("lineDistance",new Ge(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}fa.prototype.isLineSegments=!0;(class extends ll{constructor(e,t){super(e,t),this.type="LineLoop"}}).prototype.isLineLoop=!0;class Eu extends Di{constructor(e){super(),this.type="PointsMaterial",this.color=new Pe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}Eu.prototype.isPointsMaterial=!0;const rP=new Ue,px=new tl,ag=new el,lg=new E;function sP(i,e,t,n,r,s,o){const a=px.distanceSqToPoint(i);if(a<t){const l=new E;px.closestPointToPoint(i,l),l.applyMatrix4(n);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}(class extends Xt{constructor(e=new ot,t=new Eu){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ag.copy(n.boundingSphere),ag.applyMatrix4(r),ag.radius+=s,!1===e.ray.intersectsSphere(ag))return;rP.copy(r).invert(),px.copy(e.ray).applyMatrix4(rP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(n.isBufferGeometry){const c=n.index,d=n.attributes.position;if(null!==c)for(let p=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);p<g;p++){const b=c.getX(p);lg.fromBufferAttribute(d,b),sP(lg,b,l,r,e,t,this)}else for(let p=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);p<g;p++)lg.fromBufferAttribute(d,p),sP(lg,p,l,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}).prototype.isPoints=!0,class extends $n{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.format=void 0!==a?a:ta,this.minFilter=void 0!==o?o:Rn,this.magFilter=void 0!==s?s:Rn,this.generateMipmaps=!1;const u=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e==0&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0,class extends $n{constructor(e,t,n){super({width:e,height:t}),this.format=n,this.magFilter=ei,this.minFilter=ei,this.generateMipmaps=!1,this.needsUpdate=!0}}.prototype.isFramebufferTexture=!0;(class extends $n{constructor(e,t,n,r,s,o,a,l,c,u,d,h){super(null,o,a,l,c,u,r,s,d,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,class extends $n{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0;class pa extends ot{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],o=[];function l(m,w,x,C){const D=C+1,k=[];for(let N=0;N<=D;N++){k[N]=[];const W=m.clone().lerp(x,N/D),z=w.clone().lerp(x,N/D),V=D-N;for(let S=0;S<=V;S++)k[N][S]=0===S&&N===D?W:W.clone().lerp(z,S/V)}for(let N=0;N<D;N++)for(let W=0;W<2*(D-N)-1;W++){const z=Math.floor(W/2);W%2==0?(h(k[N][z+1]),h(k[N+1][z]),h(k[N][z])):(h(k[N][z+1]),h(k[N+1][z+1]),h(k[N+1][z]))}}function h(m){s.push(m.x,m.y,m.z)}function f(m,w){const x=3*m;w.x=e[x+0],w.y=e[x+1],w.z=e[x+2]}function g(m,w,x,C){C<0&&1===m.x&&(o[w]=m.x-1),0===x.x&&0===x.z&&(o[w]=C/2/Math.PI+.5)}function b(m){return Math.atan2(m.z,-m.x)}function _(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}(function(m){const w=new E,x=new E,C=new E;for(let D=0;D<t.length;D+=3)f(t[D+0],w),f(t[D+1],x),f(t[D+2],C),l(w,x,C,m)})(r),function(m){const w=new E;for(let x=0;x<s.length;x+=3)w.x=s[x+0],w.y=s[x+1],w.z=s[x+2],w.normalize().multiplyScalar(m),s[x+0]=w.x,s[x+1]=w.y,s[x+2]=w.z}(n),function(){const m=new E;for(let w=0;w<s.length;w+=3){m.x=s[w+0],m.y=s[w+1],m.z=s[w+2];const x=b(m)/2/Math.PI+.5,C=_(m)/Math.PI+.5;o.push(x,1-C)}(function(){const m=new E,w=new E,x=new E,C=new E,D=new Q,k=new Q,N=new Q;for(let W=0,z=0;W<s.length;W+=9,z+=6){m.set(s[W+0],s[W+1],s[W+2]),w.set(s[W+3],s[W+4],s[W+5]),x.set(s[W+6],s[W+7],s[W+8]),D.set(o[z+0],o[z+1]),k.set(o[z+2],o[z+3]),N.set(o[z+4],o[z+5]),C.copy(m).add(w).add(x).divideScalar(3);const V=b(C);g(D,z+0,m,V),g(k,z+2,w,V),g(N,z+4,x,V)}})(),function(){for(let m=0;m<o.length;m+=6){const w=o[m+0],x=o[m+2],C=o[m+4],D=Math.max(w,x,C),k=Math.min(w,x,C);D>.9&&k<.1&&(w<.2&&(o[m+0]+=1),x<.2&&(o[m+2]+=1),C<.2&&(o[m+4]+=1))}}()}(),this.setAttribute("position",new Ge(s,3)),this.setAttribute("normal",new Ge(s.slice(),3)),this.setAttribute("uv",new Ge(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new pa(e.vertices,e.indices,e.radius,e.details)}}new E,new E,new E,new ti;class Ur{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const s=n.length;let o;o=t||e*n[s-1];let c,a=0,l=s-1;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=n[r]-o,c<0)a=r+1;else{if(!(c>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(s-1);const u=n[r];return(r+(o-u)/(n[r+1]-u))/(s-1)}getTangent(e,t){const n=1e-4;let r=e-n,s=e+n;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Q:new E);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new E,r=[],s=[],o=[],a=new E,l=new Ue;for(let f=0;f<=e;f++)r[f]=this.getTangentAt(f/e,new E);s[0]=new E,o[0]=new E;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),h<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let f=1;f<=e;f++){if(s[f]=s[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(r[f-1],r[f]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(Ti(r[f-1].dot(r[f]),-1,1));s[f].applyMatrix4(l.makeRotationAxis(a,p))}o[f].crossVectors(r[f],s[f])}if(!0===t){let f=Math.acos(Ti(s[0].dot(s[e]),-1,1));f/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(f=-f);for(let p=1;p<=e;p++)s[p].applyMatrix4(l.makeRotationAxis(r[p],f*p)),o[p].crossVectors(r[p],s[p])}return{tangents:r,normals:s,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class gg extends Ur{constructor(e=0,t=0,n=1,r=1,s=0,o=2*Math.PI,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const n=t||new Q,r=2*Math.PI;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=o?0:r),!0===this.aClockwise&&!o&&(s===r?s=-r:s-=r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,f=c-this.aY;l=h*u-f*d+this.aX,c=h*d+f*u+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}gg.prototype.isEllipseCurve=!0;class lP extends gg{constructor(e,t,n,r,s,o){super(e,t,n,n,r,s,o),this.type="ArcCurve"}}function gx(){let i=0,e=0,t=0,n=0;function r(s,o,a,l){i=s,e=a,t=-3*s+3*o-2*a-l,n=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,f=(a-o)/u-(l-o)/(u+d)+(l-a)/d;h*=u,f*=u,r(o,a,h,f)},calc:function(s){const o=s*s;return i+e*s+t*o+n*(o*s)}}}lP.prototype.isArcCurve=!0;const _g=new E,_x=new gx,yx=new gx,vx=new gx;class cP extends Ur{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new E){const n=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let c,u,a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:0===l&&a===s-1&&(a=s-2,l=1),this.closed||a>0?c=r[(a-1)%s]:(_g.subVectors(r[0],r[1]).add(r[0]),c=_g);const d=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(_g.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=_g),"centripetal"===this.curveType||"chordal"===this.curveType){const f="chordal"===this.curveType?.5:.25;let p=Math.pow(c.distanceToSquared(d),f),g=Math.pow(d.distanceToSquared(h),f),b=Math.pow(h.distanceToSquared(u),f);g<1e-4&&(g=1),p<1e-4&&(p=g),b<1e-4&&(b=g),_x.initNonuniformCatmullRom(c.x,d.x,h.x,u.x,p,g,b),yx.initNonuniformCatmullRom(c.y,d.y,h.y,u.y,p,g,b),vx.initNonuniformCatmullRom(c.z,d.z,h.z,u.z,p,g,b)}else"catmullrom"===this.curveType&&(_x.initCatmullRom(c.x,d.x,h.x,u.x,this.tension),yx.initCatmullRom(c.y,d.y,h.y,u.y,this.tension),vx.initCatmullRom(c.z,d.z,h.z,u.z,this.tension));return n.set(_x.calc(l),yx.calc(l),vx.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push((new E).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function uP(i,e,t,n,r){const s=.5*(n-e),o=.5*(r-t),a=i*i;return(2*t-2*n+s+o)*(i*a)+(-3*t+3*n-2*s-o)*a+s*i+t}function Dh(i,e,t,n){return function(i,e){const t=1-i;return t*t*e}(i,e)+function(i,e){return 2*(1-i)*i*e}(i,t)+function(i,e){return i*i*e}(i,n)}function Ah(i,e,t,n,r){return function(i,e){const t=1-i;return t*t*t*e}(i,e)+function(i,e){const t=1-i;return 3*t*t*i*e}(i,t)+function(i,e){return 3*(1-i)*i*i*e}(i,n)+function(i,e){return i*i*i*e}(i,r)}cP.prototype.isCatmullRomCurve3=!0;class bx extends Ur{constructor(e=new Q,t=new Q,n=new Q,r=new Q){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Q){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(Ah(e,r.x,s.x,o.x,a.x),Ah(e,r.y,s.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}bx.prototype.isCubicBezierCurve=!0;class dP extends Ur{constructor(e=new E,t=new E,n=new E,r=new E){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new E){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(Ah(e,r.x,s.x,o.x,a.x),Ah(e,r.y,s.y,o.y,a.y),Ah(e,r.z,s.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}dP.prototype.isCubicBezierCurve3=!0;class yg extends Ur{constructor(e=new Q,t=new Q){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Q){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Q;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}yg.prototype.isLineCurve=!0;class xx extends Ur{constructor(e=new Q,t=new Q,n=new Q){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Q){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(Dh(e,r.x,s.x,o.x),Dh(e,r.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}xx.prototype.isQuadraticBezierCurve=!0;class wx extends Ur{constructor(e=new E,t=new E,n=new E){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new E){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(Dh(e,r.x,s.x,o.x),Dh(e,r.y,s.y,o.y),Dh(e,r.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}wx.prototype.isQuadraticBezierCurve3=!0;class Mx extends Ur{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new Q){const n=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[0===o?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return n.set(uP(a,l.x,c.x,u.x,d.x),uP(a,l.y,c.y,u.y,d.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push((new Q).fromArray(r))}return this}}Mx.prototype.isSplineCurve=!0;var Cx=Object.freeze({__proto__:null,ArcCurve:lP,CatmullRomCurve3:cP,CubicBezierCurve:bx,CubicBezierCurve3:dP,EllipseCurve:gg,LineCurve:yg,LineCurve3:class extends Ur{constructor(e=new E,t=new E){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new E){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:xx,QuadraticBezierCurve3:wx,SplineCurve:Mx});class JY extends Ur{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new yg(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const o=r[s]-n,a=this.curves[s],l=a.getLength();return a.getPointAt(0===l?0:1-o/l,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],l=o.getPoints(o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e);for(let c=0;c<l.length;c++){const u=l[c];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push((new Cx[r.type]).fromJSON(r))}return this}}class vg extends JY{constructor(e){super(),this.type="Path",this.currentPoint=new Q,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new yg(this.currentPoint.clone(),new Q(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new xx(this.currentPoint.clone(),new Q(e,t),new Q(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,o){const a=new bx(this.currentPoint.clone(),new Q(e,t),new Q(n,r),new Q(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Mx(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,r,s,o),this}absarc(e,t,n,r,s,o){return this.absellipse(e,t,n,n,r,s,o),this}ellipse(e,t,n,r,s,o,a,l){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,r,s,o,a,l),this}absellipse(e,t,n,r,s,o,a,l){const c=new gg(e,t,n,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Io extends vg{constructor(e){super(e),this.uuid=mr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push((new vg).fromJSON(r))}return this}}function hP(i,e,t,n,r){let s,o;if(r===function(i,e,t,n){let r=0;for(let s=e,o=t-n;s<t;s+=n)r+=(i[o]-i[s])*(i[s+1]+i[o+1]),o=s;return r}(i,e,t,n)>0)for(s=e;s<t;s+=n)o=mP(s,i[s],i[s+1],o);else for(s=t-n;s>=e;s-=n)o=mP(s,i[s],i[s+1],o);return o&&bg(o,o.next)&&(Ph(o),o=o.next),o}function ma(i,e){if(!i)return i;e||(e=i);let n,t=i;do{if(n=!1,t.steiner||!bg(t,t.next)&&0!==kn(t.prev,t,t.next))t=t.next;else{if(Ph(t),t=e=t.prev,t===t.next)break;n=!0}}while(n||t!==e);return e}function Ih(i,e,t,n,r,s,o){if(!i)return;!o&&s&&function(i,e,t,n){let r=i;do{null===r.z&&(r.z=Ex(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,function(i){let e,t,n,r,s,o,a,l,c=1;do{for(t=i,i=null,s=null,o=0;t;){for(o++,n=t,a=0,e=0;e<c&&(a++,n=n.nextZ,n);e++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||t.z<=n.z)?(r=t,t=t.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;t=n}s.nextZ=null,c*=2}while(o>1)}(r)}(i,n,r,s);let l,c,a=i;for(;i.prev!==i.next;)if(l=i.prev,c=i.next,s?nX(i,n,r,s):tX(i))e.push(l.i/t),e.push(i.i/t),e.push(c.i/t),Ph(i),i=c.next,a=c.next;else if((i=c)===a){o?1===o?Ih(i=iX(ma(i),e,t),e,t,n,r,s,2):2===o&&rX(i,e,t,n,r,s):Ih(ma(i),e,t,n,r,s,1);break}}function tX(i){const e=i.prev,t=i,n=i.next;if(kn(e,t,n)>=0)return!1;let r=i.next.next;for(;r!==i.prev;){if(Tu(e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y)&&kn(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function nX(i,e,t,n){const r=i.prev,s=i,o=i.next;if(kn(r,s,o)>=0)return!1;const c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,d=Ex(r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,e,t,n),h=Ex(c,u,e,t,n);let f=i.prevZ,p=i.nextZ;for(;f&&f.z>=d&&p&&p.z<=h;){if(f!==i.prev&&f!==i.next&&Tu(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&kn(f.prev,f,f.next)>=0||(f=f.prevZ,p!==i.prev&&p!==i.next&&Tu(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&kn(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;f&&f.z>=d;){if(f!==i.prev&&f!==i.next&&Tu(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&kn(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=h;){if(p!==i.prev&&p!==i.next&&Tu(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&kn(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function iX(i,e,t){let n=i;do{const r=n.prev,s=n.next.next;!bg(r,s)&&fP(r,n,n.next,s)&&Rh(r,s)&&Rh(s,r)&&(e.push(r.i/t),e.push(n.i/t),e.push(s.i/t),Ph(n),Ph(n.next),n=i=s),n=n.next}while(n!==i);return ma(n)}function rX(i,e,t,n,r,s){let o=i;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&fX(o,a)){let l=pP(o,a);return o=ma(o,o.next),l=ma(l,l.next),Ih(o,e,t,n,r,s),void Ih(l,e,t,n,r,s)}a=a.next}o=o.next}while(o!==i)}function oX(i,e){return i.x-e.x}function aX(i,e){if(e=function(i,e){let t=e;const n=i.x,r=i.y;let o,s=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const h=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=n&&h>s){if(s=h,h===n){if(r===t.y)return t;if(r===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(n===s)return o;const a=o,l=o.x,c=o.y;let d,u=1/0;t=o;do{n>=t.x&&t.x>=l&&n!==t.x&&Tu(r<c?n:s,r,l,c,r<c?s:n,r,t.x,t.y)&&(d=Math.abs(r-t.y)/(n-t.x),Rh(t,i)&&(d<u||d===u&&(t.x>o.x||t.x===o.x&&cX(o,t)))&&(o=t,u=d)),t=t.next}while(t!==a);return o}(i,e),e){const t=pP(e,i);ma(e,e.next),ma(t,t.next)}}function cX(i,e){return kn(i.prev,i,e.prev)<0&&kn(e.next,i,i.next)<0}function Ex(i,e,t,n,r){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-t)*r)|i<<8))|i<<4))|i<<2))|i<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function hX(i){let e=i,t=i;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==i);return t}function Tu(i,e,t,n,r,s,o,a){return(r-o)*(e-a)-(i-o)*(s-a)>=0&&(i-o)*(n-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(r-o)*(n-a)>=0}function fX(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!function(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&fP(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}(i,e)&&(Rh(i,e)&&Rh(e,i)&&function(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do{t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next}while(t!==i);return n}(i,e)&&(kn(i.prev,i,e.prev)||kn(i,e.prev,e))||bg(i,e)&&kn(i.prev,i,i.next)>0&&kn(e.prev,e,e.next)>0)}function kn(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function bg(i,e){return i.x===e.x&&i.y===e.y}function fP(i,e,t,n){const r=wg(kn(i,e,t)),s=wg(kn(i,e,n)),o=wg(kn(t,n,i)),a=wg(kn(t,n,e));return!!(r!==s&&o!==a||0===r&&xg(i,t,e)||0===s&&xg(i,n,e)||0===o&&xg(t,i,n)||0===a&&xg(t,e,n))}function xg(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function wg(i){return i>0?1:i<0?-1:0}function Rh(i,e){return kn(i.prev,i,i.next)<0?kn(i,e,i.next)>=0&&kn(i,i.prev,e)>=0:kn(i,e,i.prev)<0||kn(i,i.next,e)<0}function pP(i,e){const t=new Sx(i.i,i.x,i.y),n=new Sx(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function mP(i,e,t,n){const r=new Sx(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Ph(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Sx(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Ro{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return.5*n}static isClockWise(e){return Ro.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];gP(e),_P(n,e);let o=e.length;t.forEach(gP);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,_P(n,t[l]);const a=function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=hP(i,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,h,f;if(n&&(s=function(i,e,t,n){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:i.length,c=hP(i,a,l,n,!1),c===c.next&&(c.steiner=!0),r.push(hX(c));for(r.sort(oX),s=0;s<r.length;s++)aX(r[s],t),t=ma(t,t.next);return t}(i,e,s,t)),i.length>80*t){a=c=i[0],l=u=i[1];for(let p=t;p<r;p+=t)d=i[p],h=i[p+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-a,u-l),f=0!==f?1/f:0}return Ih(s,o,t,a,l,f),o}(n,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function gP(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function _P(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class ga extends ot{constructor(e=new Io([new Q(.5,.5),new Q(-.5,.5),new Q(-.5,-.5),new Q(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++)o(e[a]);function o(a){const l=[],c=void 0!==t.curveSegments?t.curveSegments:12,u=void 0!==t.steps?t.steps:1;let d=void 0!==t.depth?t.depth:1,h=void 0===t.bevelEnabled||t.bevelEnabled,f=void 0!==t.bevelThickness?t.bevelThickness:.2,p=void 0!==t.bevelSize?t.bevelSize:f-.1,g=void 0!==t.bevelOffset?t.bevelOffset:0,b=void 0!==t.bevelSegments?t.bevelSegments:3;const _=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:_X;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let w,C,D,k,N,x=!1;_&&(w=_.getSpacedPoints(u),x=!0,h=!1,C=_.computeFrenetFrames(u,!1),D=new E,k=new E,N=new E),h||(b=0,f=0,p=0,g=0);const W=a.extractPoints(c);let z=W.shape;const V=W.holes;if(!Ro.isClockWise(z)){z=z.reverse();for(let ee=0,pe=V.length;ee<pe;ee++){const ve=V[ee];Ro.isClockWise(ve)&&(V[ee]=ve.reverse())}}const A=Ro.triangulateShape(z,V),H=z;for(let ee=0,pe=V.length;ee<pe;ee++)z=z.concat(V[ee]);function G(ee,pe,ve){return pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),pe.clone().multiplyScalar(ve).add(ee)}const L=z.length,B=A.length;function K(ee,pe,ve){let ke,Ee,ht;const pt=ee.x-pe.x,Rt=ee.y-pe.y,hn=ve.x-ee.x,F=ve.y-ee.y,I=pt*pt+Rt*Rt;if(Math.abs(pt*F-Rt*hn)>Number.EPSILON){const de=Math.sqrt(I),Se=Math.sqrt(hn*hn+F*F),ce=pe.x-Rt/de,ct=pe.y+pt/de,P=((ve.x-F/Se-ce)*F-(ve.y+hn/Se-ct)*hn)/(pt*F-Rt*hn);ke=ce+pt*P-ee.x,Ee=ct+Rt*P-ee.y;const le=ke*ke+Ee*Ee;if(le<=2)return new Q(ke,Ee);ht=Math.sqrt(le/2)}else{let de=!1;pt>Number.EPSILON?hn>Number.EPSILON&&(de=!0):pt<-Number.EPSILON?hn<-Number.EPSILON&&(de=!0):Math.sign(Rt)===Math.sign(F)&&(de=!0),de?(ke=-Rt,Ee=pt,ht=Math.sqrt(I)):(ke=pt,Ee=Rt,ht=Math.sqrt(I/2))}return new Q(ke/ht,Ee/ht)}const ie=[];for(let ee=0,pe=H.length,ve=pe-1,ke=ee+1;ee<pe;ee++,ve++,ke++)ve===pe&&(ve=0),ke===pe&&(ke=0),ie[ee]=K(H[ee],H[ve],H[ke]);const Y=[];let J,ge=ie.concat();for(let ee=0,pe=V.length;ee<pe;ee++){const ve=V[ee];J=[];for(let ke=0,Ee=ve.length,ht=Ee-1,pt=ke+1;ke<Ee;ke++,ht++,pt++)ht===Ee&&(ht=0),pt===Ee&&(pt=0),J[ke]=K(ve[ke],ve[ht],ve[pt]);Y.push(J),ge=ge.concat(J)}for(let ee=0;ee<b;ee++){const pe=ee/b,ve=f*Math.cos(pe*Math.PI/2),ke=p*Math.sin(pe*Math.PI/2)+g;for(let Ee=0,ht=H.length;Ee<ht;Ee++){const pt=G(H[Ee],ie[Ee],ke);qe(pt.x,pt.y,-ve)}for(let Ee=0,ht=V.length;Ee<ht;Ee++){const pt=V[Ee];J=Y[Ee];for(let Rt=0,hn=pt.length;Rt<hn;Rt++){const F=G(pt[Rt],J[Rt],ke);qe(F.x,F.y,-ve)}}}const ye=p+g;for(let ee=0;ee<L;ee++){const pe=h?G(z[ee],ge[ee],ye):z[ee];x?(k.copy(C.normals[0]).multiplyScalar(pe.x),D.copy(C.binormals[0]).multiplyScalar(pe.y),N.copy(w[0]).add(k).add(D),qe(N.x,N.y,N.z)):qe(pe.x,pe.y,0)}for(let ee=1;ee<=u;ee++)for(let pe=0;pe<L;pe++){const ve=h?G(z[pe],ge[pe],ye):z[pe];x?(k.copy(C.normals[ee]).multiplyScalar(ve.x),D.copy(C.binormals[ee]).multiplyScalar(ve.y),N.copy(w[ee]).add(k).add(D),qe(N.x,N.y,N.z)):qe(ve.x,ve.y,d/u*ee)}for(let ee=b-1;ee>=0;ee--){const pe=ee/b,ve=f*Math.cos(pe*Math.PI/2),ke=p*Math.sin(pe*Math.PI/2)+g;for(let Ee=0,ht=H.length;Ee<ht;Ee++){const pt=G(H[Ee],ie[Ee],ke);qe(pt.x,pt.y,d+ve)}for(let Ee=0,ht=V.length;Ee<ht;Ee++){const pt=V[Ee];J=Y[Ee];for(let Rt=0,hn=pt.length;Rt<hn;Rt++){const F=G(pt[Rt],J[Rt],ke);x?qe(F.x,F.y+w[u-1].y,w[u-1].x+ve):qe(F.x,F.y,d+ve)}}}function re(ee,pe){let ve=ee.length;for(;--ve>=0;){const ke=ve;let Ee=ve-1;Ee<0&&(Ee=ee.length-1);for(let ht=0,pt=u+2*b;ht<pt;ht++){const Rt=L*ht,hn=L*(ht+1);Le(pe+ke+Rt,pe+Ee+Rt,pe+Ee+hn,pe+ke+hn)}}}function qe(ee,pe,ve){l.push(ee),l.push(pe),l.push(ve)}function je(ee,pe,ve){Ve(ee),Ve(pe),Ve(ve);const ke=r.length/3,Ee=m.generateTopUV(n,r,ke-3,ke-2,ke-1);It(Ee[0]),It(Ee[1]),It(Ee[2])}function Le(ee,pe,ve,ke){Ve(ee),Ve(pe),Ve(ke),Ve(pe),Ve(ve),Ve(ke);const Ee=r.length/3,ht=m.generateSideWallUV(n,r,Ee-6,Ee-3,Ee-2,Ee-1);It(ht[0]),It(ht[1]),It(ht[3]),It(ht[1]),It(ht[2]),It(ht[3])}function Ve(ee){r.push(l[3*ee+0]),r.push(l[3*ee+1]),r.push(l[3*ee+2])}function It(ee){s.push(ee.x),s.push(ee.y)}(function(){const ee=r.length/3;if(h){let pe=0,ve=L*pe;for(let ke=0;ke<B;ke++){const Ee=A[ke];je(Ee[2]+ve,Ee[1]+ve,Ee[0]+ve)}pe=u+2*b,ve=L*pe;for(let ke=0;ke<B;ke++){const Ee=A[ke];je(Ee[0]+ve,Ee[1]+ve,Ee[2]+ve)}}else{for(let pe=0;pe<B;pe++){const ve=A[pe];je(ve[2],ve[1],ve[0])}for(let pe=0;pe<B;pe++){const ve=A[pe];je(ve[0]+L*u,ve[1]+L*u,ve[2]+L*u)}}n.addGroup(ee,r.length/3-ee,0)})(),function(){const ee=r.length/3;let pe=0;re(H,pe),pe+=H.length;for(let ve=0,ke=V.length;ve<ke;ve++){const Ee=V[ve];re(Ee,pe),pe+=Ee.length}n.addGroup(ee,r.length/3-ee,1)}()}this.setAttribute("position",new Ge(r,3)),this.setAttribute("uv",new Ge(s,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++)t.shapes.push(i[n].uuid);else t.shapes.push(i.uuid);return void 0!==e.extrudePath&&(t.options.extrudePath=e.extrudePath.toJSON()),t}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++)n.push(t[e.shapes[s]]);const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new Cx[r.type]).fromJSON(r)),new ga(n,e.options)}}const _X={generateTopUV:function(i,e,t,n,r){const a=e[3*n],l=e[3*n+1],c=e[3*r],u=e[3*r+1];return[new Q(e[3*t],e[3*t+1]),new Q(a,l),new Q(c,u)]},generateSideWallUV:function(i,e,t,n,r,s){const o=e[3*t],a=e[3*t+1],l=e[3*t+2],c=e[3*n],u=e[3*n+1],d=e[3*n+2],h=e[3*r],f=e[3*r+1],p=e[3*r+2],g=e[3*s],b=e[3*s+1],_=e[3*s+2];return Math.abs(a-u)<Math.abs(o-c)?[new Q(o,1-l),new Q(c,1-d),new Q(h,1-p),new Q(g,1-_)]:[new Q(a,1-l),new Q(u,1-d),new Q(f,1-p),new Q(b,1-_)]}};class Du extends pa{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Du(e.radius,e.detail)}}class kh extends ot{constructor(e=new Io([new Q(0,.5),new Q(-.5,-.5),new Q(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],o=[];let a=0,l=0;if(!1===Array.isArray(e))c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;function c(u){const d=r.length/3,h=u.extractPoints(t);let f=h.shape;const p=h.holes;!1===Ro.isClockWise(f)&&(f=f.reverse());for(let b=0,_=p.length;b<_;b++){const m=p[b];!0===Ro.isClockWise(m)&&(p[b]=m.reverse())}const g=Ro.triangulateShape(f,p);for(let b=0,_=p.length;b<_;b++)f=f.concat(p[b]);for(let b=0,_=f.length;b<_;b++){const m=f[b];r.push(m.x,m.y,0),s.push(0,0,1),o.push(m.x,m.y)}for(let b=0,_=g.length;b<_;b++){const m=g[b];n.push(m[0]+d,m[1]+d,m[2]+d),l+=3}}this.setIndex(n),this.setAttribute("position",new Ge(r,3)),this.setAttribute("normal",new Ge(s,3)),this.setAttribute("uv",new Ge(o,2))}toJSON(){const e=super.toJSON();return function(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++)e.shapes.push(i[t].uuid);else e.shapes.push(i.uuid);return e}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++)n.push(t[e.shapes[r]]);return new kh(n,e.curveSegments)}}(class extends Di{constructor(e){super(),this.type="ShadowMaterial",this.color=new Pe(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}).prototype.isShadowMaterial=!0;class Lh extends Di{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Pe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Lh.prototype.isMeshStandardMaterial=!0;(class extends Lh{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Q(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ti(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Pe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Pe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Pe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}).prototype.isMeshPhysicalMaterial=!0;(class extends Di{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Pe(16777215),this.specular=new Pe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}).prototype.isMeshPhongMaterial=!0;(class extends Di{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Pe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}).prototype.isMeshToonMaterial=!0;(class extends Di{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}).prototype.isMeshNormalMaterial=!0;(class extends Di{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}).prototype.isMeshLambertMaterial=!0;(class extends Di{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Pe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}).prototype.isMeshMatcapMaterial=!0;(class extends Ai{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}).prototype.isLineDashedMaterial=!0;const Sn={arraySlice:function(i,e,t){return Sn.isTypedArray(i)?new i.constructor(i.subarray(e,void 0!==t?t:i.length)):i.slice(e,t)},convertArray:function(i,e,t){return!i||!t&&i.constructor===e?i:"number"==typeof e.BYTES_PER_ELEMENT?new e(i):Array.prototype.slice.call(i)},isTypedArray:function(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)},getKeyframeOrder:function(i){const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(function(r,s){return i[r]-i[s]}),n},sortedArray:function(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=i[a+l]}return r},flattenJSON:function(i,e,t,n){let r=1,s=i[0];for(;void 0!==s&&void 0===s[n];)s=i[r++];if(void 0===s)return;let o=s[n];if(void 0!==o)if(Array.isArray(o))do{o=s[n],void 0!==o&&(e.push(s.time),t.push.apply(t,o)),s=i[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[n],void 0!==o&&(e.push(s.time),o.toArray(t,t.length)),s=i[r++]}while(void 0!==s);else do{o=s[n],void 0!==o&&(e.push(s.time),t.push(o)),s=i[r++]}while(void 0!==s)},subclip:function(i,e,t,n,r=30){const s=i.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],h=[];for(let f=0;f<c.times.length;++f){const p=c.times[f]*r;if(!(p<t||p>=n)){d.push(c.times[f]);for(let g=0;g<u;++g)h.push(c.values[f*u+g])}}0!==d.length&&(c.times=Sn.convertArray(d,c.times.constructor),c.values=Sn.convertArray(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if("bool"===l||"string"===l)continue;const c=i.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(void 0===c)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);const p=a.times.length-1;let g;if(s<=a.times[0])g=Sn.arraySlice(a.values,u,d-u);else if(s>=a.times[p]){const _=p*d+u;g=Sn.arraySlice(a.values,_,_+d-u)}else{const _=a.createInterpolant(),m=u,w=d-u;_.evaluate(s),g=Sn.arraySlice(_.resultBuffer,m,w)}"quaternion"===l&&(new Pn).fromArray(g).normalize().conjugate().toArray(g);const b=c.times.length;for(let _=0;_<b;++_){const m=_*f+h;if("quaternion"===l)Pn.multiplyQuaternionsFlat(c.values,m,g,0,c.values,m);else{const w=f-2*h;for(let x=0;x<w;++x)c.values[m+x]-=g[x]}}}return i.blendMode=2501,i}};class _a{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,s)}if(n===a)break;if(s=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(n=2,s=a);for(let l=n-2;;){if(void 0===s)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=s,s=t[--n-1],e>=s)break t}o=n,n=0}}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(r=t[n],s=t[n-1],void 0===s)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,s,e)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}_a.prototype.beforeStart_=_a.prototype.copySampleValue_,_a.prototype.afterEnd_=_a.prototype.copySampleValue_;class xX extends _a{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yc,endingEnd:Yc}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Xc:s=e,a=2*t-n;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=n}if(void 0===l)switch(this.getSettings_().endingEnd){case Xc:o=e,l=2*n-t;break;case 2402:o=1,l=n+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(n-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(n-t)/(r-t),g=p*p,b=g*p,_=-h*b+2*h*g-h*p,m=(1+h)*b+(-1.5-2*h)*g+(-.5+h)*p+1,w=(-1-f)*b+(1.5+f)*g+.5*p,x=f*b-f*g;for(let C=0;C!==a;++C)s[C]=_*o[u+C]+m*o[c+C]+w*o[l+C]+x*o[d+C];return s}}class AP extends _a{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(n-t)/(r-t),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class wX extends _a{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Bs{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Sn.convertArray(t,this.TimeBufferType),this.values=Sn.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Sn.convertArray(e.times,Array),values:Sn.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new wX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new AP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new xX(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<e;)++s;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Sn.arraySlice(n,s,o),this.values=Sn.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=n[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==r&&Sn.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Sn.arraySlice(this.times),t=Sn.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(r)l=!0;else{const d=a*n,h=d-n,f=d+n;for(let p=0;p!==n;++p){const g=t[d+p];if(g!==t[h+p]||g!==t[f+p]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*n,h=o*n;for(let f=0;f!==n;++f)t[h+f]=t[d+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Sn.arraySlice(e,0,o),this.values=Sn.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=Sn.arraySlice(this.times,0),t=Sn.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Bs.prototype.TimeBufferType=Float32Array,Bs.prototype.ValueBufferType=Float32Array,Bs.prototype.DefaultInterpolation=2301;class Au extends Bs{}Au.prototype.ValueTypeName="bool",Au.prototype.ValueBufferType=Array,Au.prototype.DefaultInterpolation=2300,Au.prototype.InterpolantFactoryMethodLinear=void 0,Au.prototype.InterpolantFactoryMethodSmooth=void 0;class IP extends Bs{}IP.prototype.ValueTypeName="color";class Ig extends Bs{}Ig.prototype.ValueTypeName="number";class MX extends _a{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Pn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Oh extends Bs{InterpolantFactoryMethodLinear(e){return new MX(this.times,this.values,this.getValueSize(),e)}}Oh.prototype.ValueTypeName="quaternion",Oh.prototype.DefaultInterpolation=2301,Oh.prototype.InterpolantFactoryMethodSmooth=void 0;class Iu extends Bs{}Iu.prototype.ValueTypeName="string",Iu.prototype.ValueBufferType=Array,Iu.prototype.DefaultInterpolation=2300,Iu.prototype.InterpolantFactoryMethodLinear=void 0,Iu.prototype.InterpolantFactoryMethodSmooth=void 0;class Rg extends Bs{}Rg.prototype.ValueTypeName="vector";class Pg{constructor(e,t=-1,n,r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=mr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(EX(n[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push(Bs.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Sn.getKeyframeOrder(l);l=Sn.sortedArray(l,1,u),c=Sn.sortedArray(c,1,u),!r&&0===l[0]&&(l.push(s),c.push(c[0])),o.push(new Ig(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=r[d];h||(r[d]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(d,h,f,p,g){if(0!==f.length){const b=[],_=[];Sn.flattenJSON(f,b,_,p),0!==b.length&&g.push(new d(h,b,_))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(h&&0!==h.length)if(h[0].morphTargets){const f={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let g=0;g<h[p].morphTargets.length;g++)f[h[p].morphTargets[g]]=-1;for(const g in f){const b=[],_=[];for(let m=0;m!==h[p].morphTargets.length;++m){const w=h[p];b.push(w.time),_.push(w.morphTarget===g?1:0)}r.push(new Ig(".morphTargetInfluence["+g+"]",b,_))}l=f.length*(o||1)}else{const f=".bones["+t[d].name+"]";n(Rg,f+".position",h,"pos",r),n(Oh,f+".quaternion",h,"rot",r),n(Rg,f+".scale",h,"scl",r)}}return 0===r.length?null:new this(s,l,r,a)}resetDuration(){let t=0;for(let n=0,r=this.tracks.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function EX(i){if(void 0===i.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ig;case"vector":case"vector2":case"vector3":case"vector4":return Rg;case"color":return IP;case"quaternion":return Oh;case"bool":case"boolean":return Au;case"string":return Iu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}(i.type);if(void 0===i.times){const t=[],n=[];Sn.flattenJSON(i.keys,t,n,"value"),i.times=t,i.values=n}return void 0!==e.parse?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const Ru={enabled:!1,files:{},add:function(i,e){!1!==this.enabled&&(this.files[i]=e)},get:function(i){if(!1!==this.enabled)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};const SX=new class{constructor(e,t,n){const r=this;let l,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return-1!==d&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],p=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return p}return null}}};class ya{constructor(e){this.manager=void 0!==e?e:SX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Po={};class ko extends ya{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ru.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==Po[e])return void Po[e].push({onLoad:t,onProgress:n,onError:r});Po[e]=[],Po[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(o).then(a=>{if(200===a.status||0===a.status){if(0===a.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===a.body.getReader)return a;const l=Po[e],c=a.body.getReader(),u=a.headers.get("Content-Length"),d=u?parseInt(u):0,h=0!==d;let f=0;const p=new ReadableStream({start(g){!function b(){c.read().then(({done:_,value:m})=>{if(_)g.close();else{f+=m.byteLength;const w=new ProgressEvent("progress",{lengthComputable:h,loaded:f,total:d});for(let x=0,C=l.length;x<C;x++){const D=l[x];D.onProgress&&D.onProgress(w)}g.enqueue(m),b()}})}()}});return new Response(p)}throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{switch(this.responseType){case"arraybuffer":return a.arrayBuffer();case"blob":return a.blob();case"document":return a.text().then(l=>(new DOMParser).parseFromString(l,this.mimeType));case"json":return a.json();default:return a.text()}}).then(a=>{Ru.add(e,a);const l=Po[e];delete Po[e];for(let c=0,u=l.length;c<u;c++){const d=l[c];d.onLoad&&d.onLoad(a)}}).catch(a=>{const l=Po[e];if(void 0===l)throw this.manager.itemError(e),a;delete Po[e];for(let c=0,u=l.length;c<u;c++){const d=l[c];d.onError&&d.onError(a)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class kg extends ya{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ru.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Tm("img");function l(){u(),Ru.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class TX extends ya{constructor(e){super(e)}load(e,t,n,r){const s=new xh,o=new kg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,6===a&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class cl extends ya{constructor(e){super(e)}load(e,t,n,r){const s=new $n,o=new kg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},n,r),s}}class Vs extends Xt{constructor(e,t=1){super(),this.type="Light",this.color=new Pe(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}Vs.prototype.isLight=!0;(class extends Vs{constructor(e,t,n){super(e,n),this.type="HemisphereLight",this.position.copy(Xt.DefaultUp),this.updateMatrix(),this.groundColor=new Pe(t)}copy(e){return Vs.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}).prototype.isHemisphereLight=!0;const kP=new Ue,FP=new E,LP=new E;class Tx{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Q(512,512),this.map=null,this.mapPass=null,this.matrix=new Ue,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qm,this._frameExtents=new Q(1,1),this._viewportCount=1,this._viewports=[new on(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;FP.setFromMatrixPosition(e.matrixWorld),t.position.copy(FP),LP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(LP),t.updateMatrixWorld(),kP.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kP),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class OP extends Tx{constructor(){super(new qn(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,n=2*mh*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}OP.prototype.isSpotLightShadow=!0;(class extends Vs{constructor(e,t,n=0,r=Math.PI/3,s=0,o=1){super(e,t),this.type="SpotLight",this.position.copy(Xt.DefaultUp),this.updateMatrix(),this.target=new Xt,this.distance=n,this.angle=r,this.penumbra=s,this.decay=o,this.shadow=new OP}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}).prototype.isSpotLight=!0;const BP=new Ue,Nh=new E,Dx=new E;class VP extends Tx{constructor(){super(new qn(90,1,.5,500)),this._frameExtents=new Q(4,2),this._viewportCount=6,this._viewports=[new on(2,1,1,1),new on(0,1,1,1),new on(3,1,1,1),new on(1,1,1,1),new on(3,0,1,1),new on(1,0,1,1)],this._cubeDirections=[new E(1,0,0),new E(-1,0,0),new E(0,0,1),new E(0,0,-1),new E(0,1,0),new E(0,-1,0)],this._cubeUps=[new E(0,1,0),new E(0,1,0),new E(0,1,0),new E(0,1,0),new E(0,0,1),new E(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),Nh.setFromMatrixPosition(e.matrixWorld),n.position.copy(Nh),Dx.copy(n.position),Dx.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Dx),n.updateMatrixWorld(),r.makeTranslation(-Nh.x,-Nh.y,-Nh.z),BP.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BP)}}VP.prototype.isPointLightShadow=!0;class Ax extends Vs{constructor(e,t,n=0,r=1){super(e,t),this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new VP}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Ax.prototype.isPointLight=!0;class HP extends Tx{constructor(){super(new Ym(-5,5,5,-5,.5,500))}}HP.prototype.isDirectionalLightShadow=!0;(class extends Vs{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(Xt.DefaultUp),this.updateMatrix(),this.target=new Xt,this.shadow=new HP}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}).prototype.isDirectionalLight=!0;(class extends Vs{constructor(e,t){super(e,t),this.type="AmbientLight"}}).prototype.isAmbientLight=!0;(class extends Vs{constructor(e,t,n=10,r=10){super(e,t),this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}).prototype.isRectAreaLight=!0;class WP{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new E)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*s*1.092548),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],n*s*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*s),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],.858086*n*s),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}WP.prototype.isSphericalHarmonics3=!0;class Fg extends Vs{constructor(e=new WP,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Fg.prototype.isLightProbe=!0;class Rx extends ot{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}let Lg;Rx.prototype.isInstancedBufferGeometry=!0,class extends ya{constructor(e){super(e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ru.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ru.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}.prototype.isImageBitmapLoader=!0;class kX extends ya{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new ko(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);(void 0===Lg&&(Lg=new(window.AudioContext||window.webkitAudioContext)),Lg).decodeAudioData(l,function(u){t(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}}(class extends Fg{constructor(e,t,n=1){super(void 0,n);const r=(new Pe).set(e),s=(new Pe).set(t),o=new E(r.r,r.g,r.b),a=new E(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}).prototype.isHemisphereLightProbe=!0,class extends Fg{constructor(e,t=1){super(void 0,t);const n=(new Pe).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class ZP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=KP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=KP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function KP(){return("undefined"==typeof performance?Date:performance).now()}class HX{constructor(e,t,n){let r,s,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let a=0;a!==r;++a)n[s+a]=n[a];o=t}else o+=t,this._mixBufferRegion(n,s,0,t/o,r);this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1&&this._mixBufferRegion(n,r,t*this._origIndex,1-s,t),o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}saveOriginalState(){const t=this.buffer,n=this.valueSize,r=n*this._origIndex;this.binding.getValue(t,r);for(let s=n,o=r;s!==o;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){Pn.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const o=this._workIndex*s;Pn.multiplyQuaternionsFlat(e,o,e,t,e,n),Pn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[n+o]*r}}}const Px="\\[\\]\\.:\\/",zX=new RegExp("["+Px+"]","g"),kx="[^"+Px+"]",UX="[^"+Px.replace("\\.","")+"]",GX=/((?:WC+[\/:])*)/.source.replace("WC",kx),WX=/(WCOD+)?/.source.replace("WCOD",UX),jX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kx),$X=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kx),qX=new RegExp("^"+GX+WX+jX+$X+"$"),YX=["material","materials","bones"];class XX{constructor(e,t,n){const r=n||Mn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}let Mn=(()=>{class i{constructor(t,n,r){this.path=n,this.parsedPath=r||i.parseTrackName(n),this.node=i.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,n,r){return t&&t.isAnimationObjectGroup?new i.Composite(t,n,r):new i(t,n,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(zX,"")}static parseTrackName(t){const n=qX.exec(t);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==YX.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,n){if(!n||""===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(n);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,n){t[n]=this.targetObject[this.propertyName]}_getValue_array(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[n++]=r[s]}_getValue_arrayElement(t,n){t[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,n){this.resolvedProperty.toArray(t,n)}_setValue_direct(t,n){this.targetObject[this.propertyName]=t[n]}_setValue_direct_setNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++]}_setValue_array_setNeedsUpdate(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,n){this.resolvedProperty[this.propertyIndex]=t[n]}_setValue_arrayElement_setNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,n){this.resolvedProperty.fromArray(t,n)}_setValue_fromArray_setNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,n){this.bind(),this.getValue(t,n)}_setValue_unbound(t,n){this.bind(),this.setValue(t,n)}bind(){let t=this.node;const n=this.parsedPath,r=n.objectName,s=n.propertyName;let o=n.propertyIndex;if(t||(t=i.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=XX,i})();Mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Mn.prototype.GetterByBindingType=[Mn.prototype._getValue_direct,Mn.prototype._getValue_array,Mn.prototype._getValue_arrayElement,Mn.prototype._getValue_toArray],Mn.prototype.SetterByBindingTypeAndVersioning=[[Mn.prototype._setValue_direct,Mn.prototype._setValue_direct_setNeedsUpdate,Mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_array,Mn.prototype._setValue_array_setNeedsUpdate,Mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_arrayElement,Mn.prototype._setValue_arrayElement_setNeedsUpdate,Mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_fromArray,Mn.prototype._setValue_fromArray_setNeedsUpdate,Mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class KX{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Yc,endingEnd:Yc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,s=e._clip.duration,a=r/s;e.warp(1,s/r,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+n,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const s=this._startTime;if(null!==s){const l=(e-s)*n;if(l<0||0===n)return;this._startTime=null,t=n*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;if(2501===this.blendMode)for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);else for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const o=2202===n;if(0===e)return-1===s?r:o&&1==(1&s)?t-r:r;if(2200===n){-1===s&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===s&&(e>=0?(s=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===l){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1==(1&s))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Xc,r.endingEnd=Xc):(r.endingStart=e?this.zeroSlopeAtStart?Xc:Yc:2402,r.endingEnd=t?this.zeroSlopeAtEnd?Xc:Yc:2402)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=n,this}}(class extends na{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let u=c[l];void 0===u&&(u={},c[l]=u);for(let d=0;d!==s;++d){const h=r[d],f=h.name;let p=u[f];if(void 0!==p)o[d]=p;else{if(p=o[d],void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,l,f));continue}p=new HX(Mn.create(n,f,t&&t._propertyBindings[d].binding.parsedPath),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,f),o[d]=p}a[d].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];0==--s.useCount&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let o=s[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===l.length&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];0==--s.referenceCount&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],0===Object.keys(a).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new AP(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let o="string"==typeof e?Pg.findByName(r,e):e;const a=null!==o?o.uuid:e,l=this._actionsByClip[a];let c=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==l){const d=l.actionByRoot[s];if(void 0!==d&&d.blendMode===n)return d;c=l.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const u=new KX(this,o,t,n);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const n=t||this._root,r=n.uuid,s="string"==typeof e?Pg.findByName(n,e):e,a=this._actionsByClip[s?s.uuid:e];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let n=this._nActiveActions-1;n>=0;--n)e[n].stop();return this}update(e){const t=this._actions,n=this._nActiveActions,r=this.time+=e*=this.timeScale,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(void 0!==s){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const l=n[o].actionByRoot[t];void 0!==l&&(this._deactivateAction(l),this._removeInactiveAction(l))}const s=this._bindingsByRootAndName[t];if(void 0!==s)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Fx{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Fx(void 0===this.value.clone?this.value:this.value.clone())}}(class extends vu{constructor(e,t,n=1){super(e,t),this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}).prototype.isInstancedInterleavedBuffer=!0;class tZ{constructor(e,t,n=0,r=1/0){this.ray=new tl(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new R0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return Lx(e,this,n,t),n.sort(ek),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)Lx(e[r],this,n,t);return n.sort(ek),n}}function ek(i,e){return i.distance-e.distance}function Lx(i,e,t,n){if(i.layers.test(e.layers)&&i.raycast(e,t),!0===n){const r=i.children;for(let s=0,o=r.length;s<o;s++)Lx(r[s],e,t,!0)}}class tk{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Ti(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const nk=new Q;class Bh{constructor(e=new Q(1/0,1/0),t=new Q(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=nk.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return nk.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Bh.prototype.isBox2=!0;const va=new E,Ng=new Ue,Ox=new Ue;function sk(i){const e=[];i&&i.isBone&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,sk(i.children[t]));return e}const dk=new Float32Array(1);new Int32Array(dk.buffer),Ur.create=function(i,e){return console.log("THREE.Curve.create() has been deprecated"),i.prototype=Object.create(Ur.prototype),i.prototype.constructor=i,i.prototype.getPoint=e,i},vg.prototype.fromPoints=function(i){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(i)},class extends fa{constructor(e=10,t=10,n=4473924,r=8947848){n=new Pe(n),r=new Pe(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let h=0,f=0,p=-a;h<=t;h++,p+=o){l.push(-a,0,p,a,0,p),l.push(p,0,-a,p,0,a);const g=h===s?n:r;g.toArray(c,f),f+=3,g.toArray(c,f),f+=3,g.toArray(c,f),f+=3,g.toArray(c,f),f+=3}const u=new ot;u.setAttribute("position",new Ge(l,3)),u.setAttribute("color",new Ge(c,3)),super(u,new Ai({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends fa{constructor(e){const t=sk(e),n=new ot,r=[],s=[],o=new Pe(0,0,1),a=new Pe(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}n.setAttribute("position",new Ge(r,3)),n.setAttribute("color",new Ge(s,3)),super(n,new Ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Ox.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Ng.multiplyMatrices(Ox,a.matrixWorld),va.setFromMatrixPosition(Ng),r.setXYZ(o,va.x,va.y,va.z),Ng.multiplyMatrices(Ox,a.parent.matrixWorld),va.setFromMatrixPosition(Ng),r.setXYZ(o+1,va.x,va.y,va.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},ya.prototype.extractUrlBase=function(i){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),class{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}.extractUrlBase(i)},ya.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Bh.prototype.center=function(i){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(i)},Bh.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Bh.prototype.isIntersectionBox=function(i){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},Bh.prototype.size=function(i){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(i)},Hr.prototype.center=function(i){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(i)},Hr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Hr.prototype.isIntersectionBox=function(i){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},Hr.prototype.isIntersectionSphere=function(i){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},Hr.prototype.size=function(i){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(i)},el.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},qm.prototype.setFromMatrix=function(i){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(i)},_i.prototype.flattenToArrayOffset=function(i,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,e)},_i.prototype.multiplyVector3=function(i){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},_i.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},_i.prototype.applyToBufferAttribute=function(i){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},_i.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},_i.prototype.getInverse=function(i){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(i).invert()},Ue.prototype.extractPosition=function(i){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(i)},Ue.prototype.flattenToArrayOffset=function(i,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,e)},Ue.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new E).setFromMatrixColumn(this,3)},Ue.prototype.setRotationFromQuaternion=function(i){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(i)},Ue.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Ue.prototype.multiplyVector3=function(i){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},Ue.prototype.multiplyVector4=function(i){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},Ue.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Ue.prototype.rotateAxis=function(i){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),i.transformDirection(this)},Ue.prototype.crossVector=function(i){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},Ue.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Ue.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Ue.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Ue.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Ue.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Ue.prototype.applyToBufferAttribute=function(i){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},Ue.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Ue.prototype.makeFrustum=function(i,e,t,n,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(i,e,n,t,r,s)},Ue.prototype.getInverse=function(i){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(i).invert()},Do.prototype.isIntersectionLine=function(i){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(i)},Pn.prototype.multiplyVector3=function(i){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),i.applyQuaternion(this)},Pn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},tl.prototype.isIntersectionBox=function(i){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},tl.prototype.isIntersectionPlane=function(i){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(i)},tl.prototype.isIntersectionSphere=function(i){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},ti.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},ti.prototype.barycoordFromPoint=function(i,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(i,e)},ti.prototype.midpoint=function(i){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(i)},ti.prototypenormal=function(i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(i)},ti.prototype.plane=function(i){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(i)},ti.barycoordFromPoint=function(i,e,t,n,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ti.getBarycoord(i,e,t,n,r)},ti.normal=function(i,e,t,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ti.getNormal(i,e,t,n)},Io.prototype.extractAllPoints=function(i){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(i)},Io.prototype.extrude=function(i){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ga(this,i)},Io.prototype.makeGeometry=function(i){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new kh(this,i)},Q.prototype.fromAttribute=function(i,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,e,t)},Q.prototype.distanceToManhattan=function(i){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},Q.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},E.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},E.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},E.prototype.getPositionFromMatrix=function(i){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(i)},E.prototype.getScaleFromMatrix=function(i){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(i)},E.prototype.getColumnFromMatrix=function(i,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,i)},E.prototype.applyProjection=function(i){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(i)},E.prototype.fromAttribute=function(i,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,e,t)},E.prototype.distanceToManhattan=function(i){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},E.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},on.prototype.fromAttribute=function(i,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,e,t)},on.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Xt.prototype.getChildByName=function(i){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(i)},Xt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Xt.prototype.translate=function(i,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,i)},Xt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Xt.prototype.applyMatrix=function(i){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(i)},Object.defineProperties(Xt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(i){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=i}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),zn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(zn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),ux.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},qn.prototype.setLens=function(i,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(i)},Object.defineProperties(Vs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(i){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=i}},shadowCameraLeft:{set:function(i){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=i}},shadowCameraRight:{set:function(i){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=i}},shadowCameraTop:{set:function(i){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=i}},shadowCameraBottom:{set:function(i){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=i}},shadowCameraNear:{set:function(i){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=i}},shadowCameraFar:{set:function(i){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=i}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(i){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=i}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(i){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=i}},shadowMapHeight:{set:function(i){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=i}}}),Object.defineProperties(an.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ph},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ph)}}}),an.prototype.setDynamic=function(i){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===i?ph:fh),this},an.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},an.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},ot.prototype.addIndex=function(i){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(i)},ot.prototype.addAttribute=function(i,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===i?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(i,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(i,new an(arguments[1],arguments[2])))},ot.prototype.addDrawCall=function(i,e,t){void 0!==t&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(i,e)},ot.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},ot.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},ot.prototype.removeAttribute=function(i){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(i)},ot.prototype.applyMatrix=function(i){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(i)},Object.defineProperties(ot.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),vu.prototype.setDynamic=function(i){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===i?ph:fh),this},vu.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},ga.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},ga.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},ga.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},ha.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Fx.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Di.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Pe}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(i){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(i){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=i}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(To.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(i){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=i}}}),nn.prototype.clearTarget=function(i,e,t,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(i),this.clear(e,t,n)},nn.prototype.animate=function(i){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(i)},nn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},nn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},nn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},nn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},nn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},nn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},nn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},nn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},nn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},nn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},nn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},nn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},nn.prototype.enableScissorTest=function(i){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(i)},nn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},nn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},nn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},nn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},nn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},nn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},nn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},nn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},nn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},nn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(nn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=i}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=i}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(i){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===i?Zc:us}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(BR.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Vr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=i}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=i}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=i}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=i}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(i){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=i}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(i){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=i}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(i){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=i}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(i){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=i}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(i){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=i}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(i){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=i}}}),class extends Xt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}.prototype.load=function(i){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new kX).load(i,function(n){e.setBuffer(n)}),this},q0.prototype.updateCubeMap=function(i,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(i,e)},q0.prototype.clear=function(i,e,t,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(i,e,t,n)},eu.crossOrigin=void 0,eu.loadTexture=function(i,e,t,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new cl;r.setCrossOrigin(this.crossOrigin);const s=r.load(i,t,void 0,n);return e&&(s.mapping=e),s},eu.loadTextureCube=function(i,e,t,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new TX;r.setCrossOrigin(this.crossOrigin);const s=r.load(i,t,void 0,n);return e&&(s.mapping=e),s},eu.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},eu.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"136"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="136");class cZ{constructor(){this.size=64,this.maxAge=120,this.radius=.15,this.trail=new Array,this.initTexture()}initTexture(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=this.size,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.texture=new $n(this.canvas),this.canvas.id="touchTexture",this.canvas.style.width=this.canvas.style.height=`${this.canvas.width}px`}update(){this.clear(),this.trail.forEach((e,t)=>{e.age++,e.age>this.maxAge&&this.trail.splice(t,1)}),this.trail.forEach((e,t)=>{this.drawTouch(e)}),this.texture.needsUpdate=!0}clear(){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}addTouch(e,t){let n=0;const r=this.trail[this.trail.length-1];if(r){const s=r.x-e,o=r.y-t;n=Math.min(1e4*(s*s+o*o),1)}this.trail.push({x:e,y:t,age:0,force:n})}drawTouch(e){const t={x:e.x*this.size,y:(1-e.y)*this.size};let n=1;n=this.easeOutSine(e.age<.3*this.maxAge?e.age/(.3*this.maxAge):1-(e.age-.3*this.maxAge)/(.7*this.maxAge),0,1,1),n*=e.force;const r=this.size*this.radius*n,s=this.ctx.createRadialGradient(t.x,t.y,.25*r,t.x,t.y,r);s.addColorStop(0,"rgba(255, 255, 255, 0.2)"),s.addColorStop(1,"rgba(0, 0, 0, 0.0)"),this.ctx.beginPath(),this.ctx.fillStyle=s,this.ctx.arc(t.x,t.y,r,0,2*Math.PI),this.ctx.fill()}easeOutSine(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t}}class uZ{constructor(){this.particleVertex="\n    // @author brunoimbrizi / http://brunoimbrizi.com\n\n    precision highp float;\n    #define GLSLIFY 1\n\n    attribute float pindex;\n    attribute vec3 position;\n    attribute vec3 offset;\n    attribute vec2 uv;\n    attribute float angle;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    uniform float uTime;\n    uniform float uRandom;\n    uniform float uDepth;\n    uniform float uSize;\n    uniform vec2 uTextureSize;\n    uniform sampler2D uTexture;\n    uniform sampler2D uTouch;\n\n    varying vec2 vPUv;\n    varying vec2 vUv;\n\n    //\n    // Description : Array and textureless GLSL 2D simplex noise function.\n    //      Author : Ian McEwan, Ashima Arts.\n    //  Maintainer : ijm\n    //     Lastmod : 20110822 (ijm)\n    //     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n    //               Distributed under the MIT License. See LICENSE file.\n    //               https://github.com/ashima/webgl-noise\n    //\n\n    vec3 mod289_1_0(vec3 x) {\n      return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n\n    vec2 mod289_1_0(vec2 x) {\n      return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n\n    vec3 permute_1_1(vec3 x) {\n      return mod289_1_0(((x*34.0)+1.0)*x);\n    }\n\n    float snoise_1_2(vec2 v)\n      {\n      const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                          0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                         -0.577350269189626,  // -1.0 + 2.0 * C.x\n                          0.024390243902439); // 1.0 / 41.0\n    // First corner\n      vec2 i  = floor(v + dot(v, C.yy) );\n      vec2 x0 = v -   i + dot(i, C.xx);\n\n    // Other corners\n      vec2 i1;\n      //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n      //i1.y = 1.0 - i1.x;\n      i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n      // x0 = x0 - 0.0 + 0.0 * C.xx ;\n      // x1 = x0 - i1 + 1.0 * C.xx ;\n      // x2 = x0 - 1.0 + 2.0 * C.xx ;\n      vec4 x12 = x0.xyxy + C.xxzz;\n      x12.xy -= i1;\n\n     // Permutations\n      i = mod289_1_0(i); // Avoid truncation effects in permutation\n      vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n        + i.x + vec3(0.0, i1.x, 1.0 ));\n\n      vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n      m = m*m ;\n      m = m*m ;\n\n    // Gradients: 41 points uniformly over a line, mapped onto a diamond.\n    // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n      vec3 x = 2.0 * fract(p * C.www) - 1.0;\n      vec3 h = abs(x) - 0.5;\n      vec3 ox = floor(x + 0.5);\n      vec3 a0 = x - ox;\n\n    // Normalise gradients implicitly by scaling m\n    // Approximation of: m *= inversesqrt( a0*a0 + h*h );\n      m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n    // Compute final noise value at P\n      vec3 g;\n      g.x  = a0.x  * x0.x  + h.x  * x0.y;\n      g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n      return 130.0 * dot(m, g);\n    }\n\n    float random(float n) {\n      return fract(sin(n) * 43758.5453123);\n    }\n\n    void main() {\n      vUv = uv;\n\n      // particle uv\n      vec2 puv = offset.xy / uTextureSize;\n      vPUv = puv;\n\n      // pixel color\n      vec4 colA = texture2D(uTexture, puv);\n      float grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\n\n      // displacement\n      vec3 displaced = offset;\n      // randomise\n      displaced.xy += vec2(random(pindex) - 0.5, random(offset.x + pindex) - 0.5) * uRandom;\n      float rndz = (random(pindex) + snoise_1_2(vec2(pindex * 0.1, uTime * 0.1)));\n      displaced.z += rndz * (random(pindex) * 2.0 * uDepth);\n      // center\n      displaced.xy -= uTextureSize * 0.5;\n\n      // touch\n      float t = texture2D(uTouch, puv).r;\n      displaced.z += t * 20.0 * rndz;\n      displaced.x += cos(angle) * t * 20.0 * rndz;\n      displaced.y += sin(angle) * t * 20.0 * rndz;\n\n      // particle size\n      float psize = (snoise_1_2(vec2(uTime, pindex) * 0.5) + 2.0);\n      psize *= max(grey, 0.2);\n      psize *= uSize;\n\n      // final position\n      vec4 mvPosition = modelViewMatrix * vec4(displaced, 1.0);\n      mvPosition.xyz += position * psize;\n      vec4 finalPosition = projectionMatrix * mvPosition;\n\n      gl_Position = finalPosition;\n    }\n    ",this.particleFragment="\n    // @author brunoimbrizi / http://brunoimbrizi.com\n\n    precision highp float;\n    #define GLSLIFY 1\n\n    uniform sampler2D uTexture;\n\n    varying vec2 vPUv;\n    varying vec2 vUv;\n\n    void main() {\n      vec4 color = vec4(0.0);\n      vec2 uv = vUv;\n      vec2 puv = vPUv;\n\n      // pixel color\n      vec4 colA = texture2D(uTexture, puv);\n\n      // greyscale\n      float grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\n      //vec4 colB = vec4(grey, grey, grey, 1.0);\n      vec4 colB = vec4(colA.r, colA.g, colA.b, 1.0);\n\n      // circle\n      float border = 0.3;\n      float radius = 0.5;\n      float dist = radius - distance(uv, vec2(0.5));\n      float t = smoothstep(0.0, border, dist);\n\n      // final color\n      color = colB;\n      color.a = t;\n\n      gl_FragColor = color;\n    }\n    "}}var Hi;!function(i){i.createTween=function(r,s,o,a,l){return new He(c=>{let u;const d=h=>{u=u||h;const f=h-u;if(f<a){if(Array.isArray(s)&&Array.isArray(o)){const p=new Array;for(let g=0;g<s.length;g++)p.push(r(f,s[g],o[g],a,l));c.next(p)}else c.next(r(f,s,o,a,l));requestAnimationFrame(d)}else{if(Array.isArray(s)&&Array.isArray(o)){const p=new Array;for(let g=0;g<s.length;g++)p.push(o[g]);c.next(p)}else c.next(o);c.complete()}};requestAnimationFrame(d)})},i.linear=function(r,s,o,a){return(o-s)*r/a+s},i.easeInOutQuad=function(r,s,o,a){const l=o-s;return(r/=a/2)<1?l/2*r*r+s:-l/2*(--r*(r-2)-1)+s}}(Hi||(Hi={}));class dZ extends nt{constructor(e,t){super()}schedule(e,t=0){return this}}class Bx extends dZ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,n=!1;try{this.work(e)}catch(s){n=!0,r=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let hk=(()=>{class i{constructor(t,n=i.now){this.SchedulerAction=t,this.now=n}schedule(t,n=0,r){return new this.SchedulerAction(this,t).schedule(r,n)}}return i.now=()=>Date.now(),i})();class Hs extends hk{constructor(e,t=hk.now){super(e,()=>Hs.delegate&&Hs.delegate!==this?Hs.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Hs.delegate&&Hs.delegate!==this?Hs.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Pu=new Hs(Bx);function Vx(i){return!Ln(i)&&i-parseFloat(i)+1>=0}function fk(i=0,e=Pu){return(!Vx(i)||i<0)&&(i=0),(!e||"function"!=typeof e.schedule)&&(e=Pu),new He(t=>(t.add(e.schedule(hZ,i,{subscriber:t,counter:0,period:i})),t))}function hZ(i){const{subscriber:e,counter:t,period:n}=i;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}const fZ=["chart"];let Ug=(()=>{class i{constructor(t){this.changeDetector=t,this.fps=-1,this.fpsMin=-1,this.fpsMax=-1,this.framesCnt=0,this.timeLastFpsCalc=0,this.fpsHistory=new Array,this.maxHistoryLength=60}end(){if(0===this.timeLastFpsCalc)return void(this.timeLastFpsCalc=Date.now());this.framesCnt++;const t=Date.now();if(t>=this.timeLastFpsCalc+1e3){this.fps=this.framesCnt/(t-this.timeLastFpsCalc)*1e3,(-1===this.fpsMin||this.fps<this.fpsMin)&&(this.fpsMin=this.fps),(-1===this.fpsMax||this.fps>this.fpsMax)&&(this.fpsMax=this.fps),this.changeDetector.detectChanges(),this.timeLastFpsCalc=t,this.framesCnt=0,this.fpsHistory.push(this.fps),this.fpsHistory.length>=this.maxHistoryLength&&this.fpsHistory.shift();const n=this.chart.nativeElement,r=n.getContext("2d");if(r){r.fillStyle="rgb(30, 30, 30)",r.fillRect(0,0,n.width,n.height),r.strokeStyle="rgb(255, 255, 255)",r.fillStyle="rgb(255, 255, 255)",r.beginPath(),r.moveTo(0,n.height);for(let s=0;s<=this.fpsHistory.length;s++)r.lineTo(n.width/this.maxHistoryLength*s,n.height-this.fpsHistory[s]/this.fpsMax*n.height),s===this.fpsHistory.length-1&&r.lineTo(n.width/this.maxHistoryLength*s,n.height);r.fill()}}}}return i.\u0275fac=function(t){return new(t||i)(T(Vn))},i.\u0275cmp=kt({type:i,selectors:[["acuw-performance-monitor"]],viewQuery:function(t,n){if(1&t&&Vt(fZ,5),2&t){let r;Ne(r=Be())&&(n.chart=r.first)}},decls:14,vars:12,consts:[["id","pm-container"],["id","fps-display-container"],["id","fps-display"],["id","min-max-display"],["id","max-fps-display"],["id","min-fps-display"],["width","90","height","40"],["chart",""]],template:function(t,n){1&t&&(y(0,"div",0),y(1,"div",1),y(2,"span",2),M(3),kd(4,"number"),v(),y(5,"div",3),y(6,"span",4),M(7),kd(8,"number"),v(),y(9,"span",5),M(10),kd(11,"number"),v(),v(),v(),be(12,"canvas",6,7),v()),2&t&&($(3),oo("FPS: ",-1!=n.fps?mp(4,3,n.fps,"1.0-0"):"-",""),$(4),oo("",-1!=n.fpsMax?mp(8,6,n.fpsMax,"1.0-0"):"-"," max"),$(3),oo("",-1!=n.fpsMin?mp(11,9,n.fpsMin,"1.0-0"):"-"," min"))},pipes:[ZT],styles:["[_nghost-%COMP%]{--position: absolute;--color: rgb(255, 255, 255);--background-color: rgba(0, 0, 0, .8);--top: 5px;--left: 5px;--width: 100px;--padding: 5px;--display: flex;--flex-direction: column;--align-items: center}#pm-container[_ngcontent-%COMP%]{position:var(--position);color:var(--color);background-color:var(--background-color);top:5px;left:5px;width:100px;padding:5px;display:var(--display);flex-direction:var(--flex-direction);align-items:var(--align-items)}#fps-display-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}#min-max-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:10px;padding-left:5px}"],changeDetection:0}),i})();const pZ=["container"],mZ=["performanceMonitor"];function gZ(i,e){1&i&&(y(0,"div",4),y(1,"div"),y(2,"span"),M(3,"Use two fingers for touch animation"),v(),Rf(),y(4,"svg",5),y(5,"g"),be(6,"rect",6),v(),y(7,"g"),y(8,"g"),y(9,"g"),be(10,"path",7),v(),v(),v(),v(),v(),v()),2&i&&j("@showHideGestureInformation",void 0)}function _Z(i,e){1&i&&be(0,"acuw-performance-monitor",null,8)}let yZ=(()=>{class i{constructor(t){this.ngZone=t,this.renderer=new nn({antialias:!0,alpha:!0}),this.scene=new ha,this.clock=new ZP(!0),this.texture=new $n,this.width=0,this.height=0,this.touch=new cZ,this.mouse=new Q,this.raycaster=new tZ,this.pImageUrl="",this.pImageChanging=!1,this.gestureInfo$=fk(2e3),this.gestureInfoSubscription=new nt,this.showTouchGestureInfo=!1,this.justifyContent="center",this.alignItems="center",this.backgroundColor="#000000",this.imageWidth="100%",this.imageHeight="100%",this.animationEnabled=!0,this.showPerformanceMonitor=!1}set imageUrl(t){this.pImageUrl=t,!0!==this.pImageChanging&&null!=this.mesh&&(this.pImageChanging=!0,this.triggerImageChange())}get imageUrl(){return this.pImageUrl}set horizontalAlignment(t){switch(t){case"start":this.justifyContent="flex-start";break;case"center":default:this.justifyContent="center";break;case"end":this.justifyContent="flex-end"}}get horizontalAlignment(){return this.justifyContent}set verticalAlignment(t){switch(t){case"top":this.alignItems="flex-start";break;case"center":default:this.alignItems="center";break;case"bottom":this.alignItems="flex-end"}}get verticalAlignment(){return this.alignItems}ngAfterViewInit(){if(""===this.pImageUrl)return;const t=this.canvasRef.nativeElement.clientWidth,n=this.canvasRef.nativeElement.clientHeight;this.camera=new qn(50,t/n,1,1e4),this.camera.position.z=300,this.initParticles(this.pImageUrl),this.renderer.setSize(t-1,n),this.canvasRef.nativeElement.appendChild(this.renderer.domElement),this.animate()}ngOnDestroy(){this.scene.clear(),this.renderer.clear(),this.texture.dispose(),this.renderer.dispose()}initParticles(t){(new cl).load(t,r=>{this.texture=r,this.texture.minFilter=Rn,this.texture.magFilter=Rn,this.texture.format=ta,this.width=r.image.width,this.height=r.image.height,this.initPoints(!0),this.initHitArea(),this.initTouch(),this.resize(),this.show()})}initPoints(t){const n=this.width*this.height;let r=n,s=0,o=new Float32Array;if(t){r=0,s=34;const _=this.texture.image,m=document.createElement("canvas"),w=m.getContext("2d");if(m.width=this.width,m.height=this.height,null!=w){w.scale(1,-1),w.drawImage(_,0,0,this.width,-1*this.height);const x=w.getImageData(0,0,m.width,m.height);o=Float32Array.from(x.data);for(let C=0;C<n;C++)o[4*C+0]>s&&r++}}const a={uTime:{value:0},uRandom:{value:1},uDepth:{value:2},uSize:{value:0},uTextureSize:{value:new Q(this.width,this.height)},uTexture:{value:this.texture},uTouch:{value:null}},l=new uZ,c=new pu({uniforms:a,vertexShader:l.particleVertex,fragmentShader:l.particleFragment,depthTest:!1,transparent:!0}),u=new Rx,d=new an(new Float32Array(12),3);d.setXYZ(0,-.5,.5,0),d.setXYZ(1,.5,.5,0),d.setXYZ(2,-.5,-.5,0),d.setXYZ(3,.5,-.5,0),u.setAttribute("position",d);const h=new an(new Float32Array(8),2);h.setXY(0,0,0),h.setXY(1,1,0),h.setXY(2,0,1),h.setXY(3,1,1),u.setAttribute("uv",h),u.setIndex(new an(new Uint16Array([0,2,1,2,3,1]),1));const f=new Uint16Array(r),p=new Float32Array(3*r),g=new Float32Array(r);for(let _=0,m=0;_<n;_++)t&&o[4*_+0]<=s||(p[3*m+0]=_%this.width,p[3*m+1]=Math.floor(_/this.width),f[m]=_,g[m]=Math.random()*Math.PI,m++);u.setAttribute("pindex",new Ao(f,1,!1)),u.setAttribute("offset",new Ao(p,3,!1)),u.setAttribute("angle",new Ao(g,1,!1)),this.mesh=new zn(u,c);const b=new Xt;b.add(this.mesh),this.scene.add(b)}initTouch(){this.mesh.material.uniforms.uTouch.value=this.touch.texture}initHitArea(){const t=new il(this.width,this.height,1,1),n=new So({color:16777215,wireframe:!0,depthTest:!1});n.visible=!1,this.hitArea=new zn(t,n),this.mesh.add(this.hitArea)}show(t=1e3){this.ngZone.runOutsideAngular(()=>{Hi.createTween(Hi.easeInOutQuad,[.5,0,70],[1.5,2,4],t).subscribe(n=>{this.mesh.material.uniforms.uSize.value=n[0],this.mesh.material.uniforms.uRandom.value=n[1],this.mesh.material.uniforms.uDepth.value=n[2]},()=>{},()=>{this.pImageChanging=!1})})}triggerImageChange(t=1e3){const n=this.mesh.material.uniforms.uSize.value,r=this.mesh.material.uniforms.uRandom.value,s=this.mesh.material.uniforms.uDepth.value;this.ngZone.runOutsideAngular(()=>{Hi.createTween(Hi.easeInOutQuad,[n,r,s],[0,5,-20],t).subscribe(o=>{this.mesh.material.uniforms.uSize.value=o[0],this.mesh.material.uniforms.uRandom.value=o[1],this.mesh.material.uniforms.uDepth.value=o[2]},()=>{},()=>{null!=this.mesh&&(null!=this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.geometry.dispose(),this.mesh.material.dispose()),null!=this.hitArea&&(null!=this.hitArea.parent&&this.hitArea.parent.remove(this.hitArea),this.hitArea.geometry.dispose(),this.hitArea.material.dispose()),this.initParticles(this.pImageUrl),this.pImageChanging=!1})})}animate(){this.ngZone.runOutsideAngular(()=>{if(window.requestAnimationFrame(()=>this.animate()),!0===this.animationEnabled){const t=this.clock.getDelta();null!=this.mesh&&(this.touch&&this.touch.update(),this.mesh.material.uniforms.uTime.value+=t),this.renderer.render(this.scene,this.camera)}this.performanceMonitor&&this.showPerformanceMonitor&&this.performanceMonitor.end()})}onMouseMove(t){const n=this.canvasRef.nativeElement.getBoundingClientRect(),r=this.canvasRef.nativeElement.children[0];if(this.mouse.x=(t.clientX-n.left-r.offsetLeft)/r.clientWidth*2-1,this.mouse.y=-(t.clientY-n.top-r.offsetTop)/r.clientHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera),void 0===this.hitArea)return;const s=this.raycaster.intersectObject(this.hitArea);void 0!==s&&s.length>0&&this.touch&&void 0!==s[0].uv&&this.touch.addTouch(s[0].uv.x,s[0].uv.y)}onTouchMove(t){if(t.touches.length<2)return this.showTouchGestureInfo=!0,this.gestureInfoSubscription.unsubscribe(),void(this.gestureInfoSubscription=this.gestureInfo$.subscribe({next:()=>{this.showTouchGestureInfo=!1,this.gestureInfoSubscription.unsubscribe()}}));t.preventDefault();const n=this.canvasRef.nativeElement.getBoundingClientRect(),r=this.canvasRef.nativeElement.children[0];this.mouse.x=(t.touches[0].clientX-n.left-r.offsetLeft)/r.clientWidth*2-1,this.mouse.y=-(t.touches[0].clientY-n.top-r.offsetTop)/r.clientHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const s=this.raycaster.intersectObject(this.hitArea);void 0!==s&&s.length>0&&this.touch&&void 0!==s[0].uv&&this.touch.addTouch(s[0].uv.x,s[0].uv.y)}resize(){if(void 0!==this.height){this.camera.aspect=this.canvasRef.nativeElement.clientWidth/this.canvasRef.nativeElement.clientHeight,this.camera.updateProjectionMatrix();const n=2*Math.tan(this.camera.fov*Math.PI/180/2)*this.camera.position.z/this.height;if(this.mesh.scale.set(n,n,1),void 0!==this.renderer){const r=null==this.imageWidth?this.canvasRef.nativeElement.clientWidth:this.distanceAsNumber(this.imageWidth,this.canvasRef.nativeElement.clientWidth),s=null==this.imageHeight?this.canvasRef.nativeElement.clientHeight:this.distanceAsNumber(this.imageHeight,this.canvasRef.nativeElement.clientHeight);this.renderer.setSize(r,s)}}}distanceAsNumber(t,n){let r=0;return r=t.includes("px")?Number.parseInt(t.replace("px",""),10):t.includes("%")?Number.parseInt(t.replace("%",""),10)/100*n:Number.parseInt(t,10),r}}return i.\u0275fac=function(t){return new(t||i)(T(rt))},i.\u0275cmp=kt({type:i,selectors:[["lib-image-as-particles"]],viewQuery:function(t,n){if(1&t&&(Vt(pZ,5),Vt(mZ,5)),2&t){let r;Ne(r=Be())&&(n.canvasRef=r.first),Ne(r=Be())&&(n.performanceMonitor=r.first)}},hostBindings:function(t,n){1&t&&ue("resize",function(){return n.resize()},!1,Jl)},inputs:{imageUrl:"imageUrl",backgroundColor:"backgroundColor",imageWidth:"imageWidth",imageHeight:"imageHeight",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",animationEnabled:"animationEnabled",showPerformanceMonitor:"showPerformanceMonitor"},decls:4,vars:8,consts:[[1,"threejs-container",3,"mousemove","touchmove"],["container",""],["class","touch-gesture-info",4,"ngIf"],[4,"ngIf"],[1,"touch-gesture-info"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","viewBox","0 0 24 24","fill","white","width","18px","height","18px"],["fill","none","height","24","width","24","x","0"],["d","M9,11.24V7.5C9,6.12,10.12,5,11.5,5S14,6.12,14,7.5v3.74c1.21-0.81,2-2.18,2-3.74C16,5.01,13.99,3,11.5,3S7,5.01,7,7.5 C7,9.06,7.79,10.43,9,11.24z M18.84,15.87l-4.54-2.26c-0.17-0.07-0.35-0.11-0.54-0.11H13v-6C13,6.67,12.33,6,11.5,6 S10,6.67,10,7.5v10.74c-3.6-0.76-3.54-0.75-3.67-0.75c-0.31,0-0.59,0.13-0.79,0.33l-0.79,0.8l4.94,4.94 C9.96,23.83,10.34,24,10.75,24h6.79c0.75,0,1.33-0.55,1.44-1.28l0.75-5.27c0.01-0.07,0.02-0.14,0.02-0.2 C19.75,16.63,19.37,16.09,18.84,15.87z"],["performanceMonitor",""]],template:function(t,n){1&t&&(y(0,"div",0,1),ue("mousemove",function(s){return n.onMouseMove(s)})("touchmove",function(s){return n.onTouchMove(s)}),v(),ze(2,gZ,11,1,"div",2),ze(3,_Z,2,0,"acuw-performance-monitor",3)),2&t&&(Na("background-color",n.backgroundColor)("justify-content",n.justifyContent)("align-items",n.alignItems),$(2),j("ngIf",1==n.showTouchGestureInfo),$(1),j("ngIf",n.showPerformanceMonitor))},directives:[tr,Ug],styles:[".threejs-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#222}.touch-gesture-info[_ngcontent-%COMP%]{position:absolute;width:100%;display:flex;flex-direction:row;justify-content:center;top:20px;color:#fff}.touch-gesture-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#0000004d;display:flex;flex-direction:row;padding:6px 10px;border-radius:5px}"],data:{animation:[Br("showHideGestureInformation",[Hn(":enter",[vt({opacity:"0"}),In("300ms ease-in",vt({opacity:"1"}))]),Hn(":leave",[vt({opacity:"1"}),In("300ms ease-in",vt({opacity:"0"}))])])]}}),i})(),Vh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr]]}),i})(),vZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr,Vh]]}),i})();function pk(...i){const e=i[i.length-1];return"function"==typeof e&&i.pop(),_f(i,void 0).lift(new bZ(e))}class bZ{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new xZ(e,this.resultSelector))}}class xZ extends at{constructor(e,t,n=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;Ln(e)?t.push(new MZ(e)):t.push("function"==typeof e[ys]?new wZ(e[ys]()):new CZ(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let o=0;o<t;o++){let a=e[o];if("function"==typeof a.hasValue&&!a.hasValue())return}let r=!1;const s=[];for(let o=0;o<t;o++){let a=e[o],l=a.next();if(a.hasCompleted()&&(r=!0),l.done)return void n.complete();s.push(l.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),r&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class wZ{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class MZ{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[ys](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class CZ extends Fl{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[ys](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return Ll(this.observable,new kl(this))}}const Hx=new He(po);function mk(i,e){return new He(e?t=>e.schedule(SZ,0,{error:i,subscriber:t}):t=>t.error(i))}function SZ({error:i,subscriber:e}){e.error(i)}class ps{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Qe(this.value);case"E":return mk(this.error);case"C":return Jp()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new ps("N",e):ps.undefinedValueNotification}static createError(e){return new ps("E",void 0,e)}static createComplete(){return ps.completeNotification}}ps.completeNotification=new ps("C"),ps.undefinedValueNotification=new ps("N",void 0);class DZ{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new zx(e,this.delay,this.scheduler))}}class zx extends at{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,s=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(s);if(n.length>0){const o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(zx.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new AZ(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(ps.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(ps.createComplete()),this.unsubscribe()}}class AZ{constructor(e,t){this.time=e,this.notification=t}}var Ii=(()=>(function(i){i[i.forward=0]="forward",i[i.backward=1]="backward"}(Ii||(Ii={})),Ii))();class IZ{constructor(){this.vertex="varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",this.splitTransitionFrag="\n            uniform float progress;\n            uniform float intensity;\n            uniform sampler2D texture1;\n            uniform sampler2D texture2;\n            uniform vec4 resolution1;\n            uniform vec4 resolution2;\n            varying vec2 vUv;\n            mat2 rotate(float a) {\n              float s = sin(a);\n              float c = cos(a);\n              return mat2(c, -s, s, c);\n            }\n            void main()\t{\n              vec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n              vec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n              vec2 uvDivided1 = fract(newUV1*vec2(intensity,1.));\n              vec2 uvDivided2 = fract(newUV2*vec2(intensity,1.));\n              vec2 uvDisplaced1 = newUV1 + rotate(3.1415926/4.)*uvDivided1*progress*0.1;\n              vec2 uvDisplaced2 = newUV2 + rotate(3.1415926/4.)*uvDivided2*(1. - progress)*0.1;\n              vec4 t1 = texture2D(texture1,uvDisplaced1);\n              vec4 t2 = texture2D(texture2,uvDisplaced2);\n              // Use black background color\n              // Top right\n              vec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n              vec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n              float pct1 = tr1.x * tr1.y;\n              float pct2 = tr2.x * tr2.y;\n              // Bottom left\n              vec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n              vec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n              pct1 *= bl1.x * bl1.y;\n              pct2 *= bl2.x * bl2.y;\n              vec4 t1wb = t1 * vec4(pct1,pct1,pct1,1.0);\n              vec4 t2wb = t2 * vec4(pct2,pct2,pct2,1.0);\n              gl_FragColor = mix(t1wb, t2wb, progress);\n            }\n    ",this.fadeFrag="\n            uniform float progress;\n            uniform sampler2D texture1;\n            uniform sampler2D texture2;\n            uniform vec4 resolution1;\n            uniform vec4 resolution2;\n            varying vec2 vUv;\n            mat2 rotate(float a) {\n              float s = sin(a);\n              float c = cos(a);\n              return mat2(c, -s, s, c);\n            }\n            void main()\t{\n              vec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n              vec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n              vec2 uvDisplaced1 = newUV1 + vec2(1.0,0)*progress*0.1;\n              vec2 uvDisplaced2 = newUV2 + vec2(1.0,0)*(1. - progress)*0.1;\n              vec4 t1 = texture2D(texture1,uvDisplaced1);\n              vec4 t2 = texture2D(texture2,uvDisplaced2);\n              // Use black background color\n              // Top right\n              vec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n              vec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n              float pct1 = tr1.x * tr1.y;\n              float pct2 = tr2.x * tr2.y;\n              // Bottom left\n              vec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n              vec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n              pct1 *= bl1.x * bl1.y;\n              pct2 *= bl2.x * bl2.y;\n              vec4 t1wb = t1 * vec4(pct1,pct1,pct1,1.0);\n              vec4 t2wb = t2 * vec4(pct2,pct2,pct2,1.0);\n              gl_FragColor = mix(t1wb, t2wb, progress);\n            }\n    ",this.noiseFrag="\n\t\tuniform float time;\n\t\tuniform float progress;\n\t\tuniform float width;\n\t\tuniform float scaleX;\n\t\tuniform float scaleY;\n\t\tuniform sampler2D texture1;\n\t\tuniform sampler2D texture2;\n\t\tuniform sampler2D displacement;\n\t\tuniform vec4 resolution1;\n\t\tuniform vec4 resolution2;\n\t\tvarying vec2 vUv;\n\t\tvarying vec4 vPosition;\n\t\t//\tClassic Perlin 3D Noise\n\t\t//\tby Stefan Gustavson\n\t\t//\n\t\tvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\n\t\tvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\t\tvec4 fade(vec4 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\t\tfloat cnoise(vec4 P){\n\t\t  ;\n\t\t  vec4 Pi0 = floor(P); // Integer part for indexing\n\t\t  vec4 Pi1 = Pi0 + 1.0; // Integer part + 1\n\t\t  Pi0 = mod(Pi0, 289.0);\n\t\t  Pi1 = mod(Pi1, 289.0);\n\t\t  vec4 Pf0 = fract(P); // Fractional part for interpolation\n\t\t  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n\t\t  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\t\t  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n\t\t  vec4 iz0 = vec4(Pi0.zzzz);\n\t\t  vec4 iz1 = vec4(Pi1.zzzz);\n\t\t  vec4 iw0 = vec4(Pi0.wwww);\n\t\t  vec4 iw1 = vec4(Pi1.wwww);\n\t\t  vec4 ixy = permute(permute(ix) + iy);\n\t\t  vec4 ixy0 = permute(ixy + iz0);\n\t\t  vec4 ixy1 = permute(ixy + iz1);\n\t\t  vec4 ixy00 = permute(ixy0 + iw0);\n\t\t  vec4 ixy01 = permute(ixy0 + iw1);\n\t\t  vec4 ixy10 = permute(ixy1 + iw0);\n\t\t  vec4 ixy11 = permute(ixy1 + iw1);\n\t\t  vec4 gx00 = ixy00 / 7.0;\n\t\t  vec4 gy00 = floor(gx00) / 7.0;\n\t\t  vec4 gz00 = floor(gy00) / 6.0;\n\t\t  gx00 = fract(gx00) - 0.5;\n\t\t  gy00 = fract(gy00) - 0.5;\n\t\t  gz00 = fract(gz00) - 0.5;\n\t\t  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n\t\t  vec4 sw00 = step(gw00, vec4(0.0));\n\t\t  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n\t\t  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\t\t  vec4 gx01 = ixy01 / 7.0;\n\t\t  vec4 gy01 = floor(gx01) / 7.0;\n\t\t  vec4 gz01 = floor(gy01) / 6.0;\n\t\t  gx01 = fract(gx01) - 0.5;\n\t\t  gy01 = fract(gy01) - 0.5;\n\t\t  gz01 = fract(gz01) - 0.5;\n\t\t  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n\t\t  vec4 sw01 = step(gw01, vec4(0.0));\n\t\t  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n\t\t  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\t\t  vec4 gx10 = ixy10 / 7.0;\n\t\t  vec4 gy10 = floor(gx10) / 7.0;\n\t\t  vec4 gz10 = floor(gy10) / 6.0;\n\t\t  gx10 = fract(gx10) - 0.5;\n\t\t  gy10 = fract(gy10) - 0.5;\n\t\t  gz10 = fract(gz10) - 0.5;\n\t\t  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n\t\t  vec4 sw10 = step(gw10, vec4(0.0));\n\t\t  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n\t\t  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\t\t  vec4 gx11 = ixy11 / 7.0;\n\t\t  vec4 gy11 = floor(gx11) / 7.0;\n\t\t  vec4 gz11 = floor(gy11) / 6.0;\n\t\t  gx11 = fract(gx11) - 0.5;\n\t\t  gy11 = fract(gy11) - 0.5;\n\t\t  gz11 = fract(gz11) - 0.5;\n\t\t  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n\t\t  vec4 sw11 = step(gw11, vec4(0.0));\n\t\t  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n\t\t  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\t\t  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n\t\t  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n\t\t  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n\t\t  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n\t\t  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n\t\t  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n\t\t  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n\t\t  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n\t\t  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n\t\t  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n\t\t  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n\t\t  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n\t\t  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n\t\t  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n\t\t  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n\t\t  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\t\t  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n\t\t  g0000 *= norm00.x;\n\t\t  g0100 *= norm00.y;\n\t\t  g1000 *= norm00.z;\n\t\t  g1100 *= norm00.w;\n\t\t  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n\t\t  g0001 *= norm01.x;\n\t\t  g0101 *= norm01.y;\n\t\t  g1001 *= norm01.z;\n\t\t  g1101 *= norm01.w;\n\t\t  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n\t\t  g0010 *= norm10.x;\n\t\t  g0110 *= norm10.y;\n\t\t  g1010 *= norm10.z;\n\t\t  g1110 *= norm10.w;\n\t\t  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n\t\t  g0011 *= norm11.x;\n\t\t  g0111 *= norm11.y;\n\t\t  g1011 *= norm11.z;\n\t\t  g1111 *= norm11.w;\n\t\t  float n0000 = dot(g0000, Pf0);\n\t\t  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n\t\t  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n\t\t  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n\t\t  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n\t\t  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n\t\t  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n\t\t  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n\t\t  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n\t\t  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n\t\t  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n\t\t  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n\t\t  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n\t\t  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n\t\t  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n\t\t  float n1111 = dot(g1111, Pf1);\n\t\t  vec4 fade_xyzw = fade(Pf0);\n\t\t  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n\t\t  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n\t\t  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n\t\t  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n\t\t  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n\t\t  return 2.2 * n_xyzw;\n\t\t}\n\t\tfloat map(float value, float min1, float max1, float min2, float max2) {\n\t\t  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n\t\t}\n\t\tfloat parabola( float x, float k ) {\n\t\t  return pow( 4. * x * ( 1. - x ), k );\n\t\t}\n\t\tvoid main()\t{\n\t\t\tfloat dt = parabola(progress,1.);\n\t\t\tfloat border = 1.;\n\t\t\tvec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n      \t\tvec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n\t\t\tvec4 t1 = texture2D(texture1,newUV1);\n      \t\tvec4 t2 = texture2D(texture2,newUV2);\n      \t\t// Use black background color\n      \t\t// Top right\n      \t\tvec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n      \t\tvec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n      \t\tfloat pct1 = tr1.x * tr1.y;\n      \t\tfloat pct2 = tr2.x * tr2.y;\n      \t\t// Bottom left\n      \t\tvec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n      \t\tvec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n      \t\tpct1 *= bl1.x * bl1.y;\n      \t\tpct2 *= bl2.x * bl2.y;\n      \t\tvec4 t1wb = t1 * vec4(pct1,pct1,pct1,1.0);\n      \t\tvec4 t2wb = t2 * vec4(pct2,pct2,pct2,1.0);\n\t\t\tfloat realnoise = 0.5*(cnoise(vec4(newUV1.x*scaleX  + 0.*time/3., newUV1.y*scaleY,0.*time/3.,0.)) +1.);\n\t\t\tfloat w = width*dt;\n\t\t\tfloat maskvalue = smoothstep(1. - w,1.,vUv.x + mix(-w/2., 1. - w/2., progress));\n\t\t\tfloat mask = maskvalue + maskvalue*realnoise;\n\t\t\tfloat final = smoothstep(border,border+0.01,mask);\n\t\t\tgl_FragColor = mix(t1wb,t2wb,final);\n\t\t}\n\t",this.blurFrag="\n\t\t// author: gre\n\t\t// license: MIT\n\t\tuniform float progress;\n\t\tuniform float intensity;\n\t\tuniform float ratio;\n\t\tuniform sampler2D texture1;\n\t\tuniform sampler2D texture2;\n\t\tuniform vec4 resolution1;\n\t\tuniform vec4 resolution2;\n\t\tvarying vec2 vUv;\n\t\tconst int passes = 6;\n\n\t\tvoid main() {\n\t\t\tvec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n\t\t\tvec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n\n\t\t\tvec4 t1 = vec4(0.0);\n\t\t\tvec4 t2 = vec4(0.0);\n\t\t\tfloat disp = intensity/100.0*(0.5-distance(0.5, progress));\n\t\t\tfor (int xi=0; xi<passes; xi++)\n\t\t\t{\n\t\t\t\tfloat x = float(xi) / float(passes) - 0.5;\n\t\t\t\tfor (int yi=0; yi<passes; yi++)\n\t\t\t\t{\n\t\t\t\t\tfloat y = float(yi) / float(passes) - 0.5;\n\t\t\t\t\tvec2 v = vec2(x,y);\n\t\t\t\t\tfloat d = disp;\n\t\t\t\t\tt1 += texture2D(texture1,newUV1 + d*v);\n\t\t\t\t\tt2 += texture2D(texture2,newUV2 + d*v);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tt1 /= float(passes*passes);\n\t\t\tt2 /= float(passes*passes);\n\n\t\t\t// Use black background color\n\t\t\t// Top right\n\t\t\tvec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n\t\t\tvec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n\t\t\tfloat pct1 = tr1.x * tr1.y;\n\t\t\tfloat pct2 = tr2.x * tr2.y;\n\t\t\t// Bottom left\n\t\t\tvec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n\t\t\tvec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n\t\t\tpct1 *= bl1.x * bl1.y;\n\t\t\tpct2 *= bl2.x * bl2.y;\n\t\t\tvec4 t1wb = t1 * vec4(pct1,pct1,pct1,1.0);\n\t\t\tvec4 t2wb = t2 * vec4(pct2,pct2,pct2,1.0);\n\t\t\tgl_FragColor = mix(t1wb, t2wb, progress);\n\t\t}\n\t",this.distortionFrag="\n\tuniform float progress;\n\tuniform sampler2D displacementTexture;\n\tuniform sampler2D texture1;\n    uniform sampler2D texture2;\n    uniform vec4 resolution1;\n    uniform vec4 resolution2;\n\tuniform float angle1;\n\tuniform float angle2;\n\tuniform float intensity;\n\n\tvarying vec2 vUv;\n\n\tmat2 getRotM(float angle) {\n\t  float s = sin(angle);\n\t  float c = cos(angle);\n\t  return mat2(c, -s, s, c);\n\t}\n\n\tvoid main() {\n\t  vec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n      vec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n\t  vec4 t1 = texture2D(texture1,newUV1);\n      vec4 t2 = texture2D(texture2,newUV2);\n\n\t  vec4 disp = texture2D(displacementTexture, newUV1);\n\t  vec2 dispVec = vec2(disp.r, disp.g);\n\n\t  vec2 distortedPosition1 = newUV1 + getRotM(angle1) * dispVec * intensity / 100.0 * progress;\n\t  vec2 distortedPosition2 = newUV2 + getRotM(angle2) * dispVec * intensity / 100.0 * (1.0 - progress);\n\t  vec4 t1d = texture2D(texture1, distortedPosition1);\n\t  vec4 t2d = texture2D(texture2, distortedPosition2);\n\n\t  // Use black background color\n\t  // Top right\n\t  vec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n\t  vec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n\t  float pct1 = tr1.x * tr1.y;\n\t  float pct2 = tr2.x * tr2.y;\n\t  // Bottom left\n\t  vec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n\t  vec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n\t  pct1 *= bl1.x * bl1.y;\n\t  pct2 *= bl2.x * bl2.y;\n\t  vec4 t1wb = t1d * vec4(pct1,pct1,pct1,1.0);\n\t  vec4 t2wb = t2d * vec4(pct2,pct2,pct2,1.0);\n\t  gl_FragColor = mix(t1wb, t2wb, progress);\n\t}\n\t"}}const RZ=["threejsContainer"],PZ=["performanceMonitor"];function kZ(i,e){1&i&&(y(0,"div",4),y(1,"div",5),be(2,"div"),be(3,"div"),v(),v())}function FZ(i,e){1&i&&be(0,"acuw-performance-monitor",null,6)}let Ux=(()=>{class i{constructor(t){this.ngZone=t,this.imageUrls=new Array,this.transitionDuration=1e3,this.animationEnabled=!0,this.startIndex=0,this.showPerformanceMonitor=!1,this.imageIndexChange=new $e,this.pAutoPlay=!1,this.pAutoPlayInterval=5e3,this.pImageSize="cover",this.pTransitionType="split",this.pIntensity=40,this.pScaleX=50,this.pScaleY=50,this.pWidth=.5,this.pDistortionImageUrl="",this.renderer=new nn({antialias:!0,alpha:!0}),this.scene=new ha,this.textures=new Array,this.nextImageIndex=0,this.tranistionOngoing=!1,this.shaders=new IZ,this.autoPlay$=new He,this.autoPlaySubscription=new nt,this.subscriptions=new nt,this.basicAssetsLoaded$$=new Ke,this.forwardTextureLoaded$$=new Ke,this.backwardTextureLoaded$$=new Ke,this.showLoadingSpinner$$=new Ke,this.transitToForwardTexture$$=new Ke,this.transitToBackwardTexture$$=new Ke,this.showLoadingSpinner$=this.showLoadingSpinner$$.pipe(as(n=>n?Qe(n).pipe(function(i,e=Pu){const n=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-e.now():Math.abs(i);return r=>r.lift(new DZ(n,e))}(300)):Qe(n))),this.subscribeToInitScene(),this.subscribeTransistionToBackwardTexture(),this.subscribeTransistionToForwardTexture()}get displacementImageUrl(){return this.pDistortionImageUrl}set displacementImageUrl(t){this.pDistortionImageUrl=t,null!=this.material&&this.setShaderProperties()}get imageSize(){return this.pImageSize}set imageSize(t){this.pImageSize=t,null!=this.mesh&&this.resize()}get autoPlay(){return this.pAutoPlay}set autoPlay(t){this.pAutoPlay=t,null!=this.mesh&&(!0===this.pAutoPlay?this.setAutoPlayInterval():this.stopAutoPlayInterval())}get autoPlayInterval(){return this.pAutoPlayInterval}set autoPlayInterval(t){this.pAutoPlayInterval=t,null!=this.mesh&&!0===this.pAutoPlay&&this.setAutoPlayInterval()}get transitionType(){return this.pTransitionType}set transitionType(t){this.pTransitionType=t,null!=this.material&&this.setShaderProperties()}get sizeX(){return this.pScaleX}set sizeX(t){this.pScaleX=t,null!=this.material&&this.setShaderProperties()}get sizeY(){return this.pScaleY}set sizeY(t){this.pScaleY=t,null!=this.material&&this.setShaderProperties()}get width(){return this.pWidth}set width(t){this.pWidth=t,null!=this.material&&this.setShaderProperties()}get intensity(){return this.intensity}set intensity(t){this.pIntensity=t,null!=this.material&&this.setShaderProperties()}ngAfterViewInit(){if(this.imageUrls.length<2)throw new Error("At least two images are required");this.camera=new qn(70,window.innerWidth/window.innerHeight,.001,1e3),this.camera.position.set(0,0,2),this.renderer.setSize(this.threejsContainer.nativeElement.clientWidth,this.threejsContainer.nativeElement.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.threejsContainer.nativeElement.appendChild(this.renderer.domElement),this.scene=new ha,this.textures=new Array(this.imageUrls.length),this.loadBasicAssets(),this.loadTexture(0===this.startIndex?this.imageUrls.length-1:this.startIndex-1,Ii.backward),this.loadTexture(this.startIndex===this.imageUrls.length-1?0:this.startIndex+1,Ii.forward),!0===this.pAutoPlay&&this.setAutoPlayInterval(),this.animate()}ngOnDestroy(){cancelAnimationFrame(this.animationFrameId),this.stopAutoPlayInterval(),this.threejsContainer.nativeElement.removeChild(this.renderer.domElement),this.textures.forEach(t=>{t.dispose()}),this.material&&this.material.dispose(),this.scene&&this.scene.clear(),this.renderer&&this.renderer.dispose(),this.subscriptions.unsubscribe()}subscribeToInitScene(){this.subscriptions.add(this.basicAssetsLoaded$$.pipe(An(()=>this.initBasiscScene())).subscribe())}subscribeTransistionToForwardTexture(){this.subscriptions.add(pk(this.transitToForwardTexture$$,this.forwardTextureLoaded$$).pipe(An(()=>this.showLoadingSpinner$$.next(!1)),An(()=>this.prepAndLoadNextImg(Ii.forward))).subscribe())}subscribeTransistionToBackwardTexture(){this.subscriptions.add(pk(this.transitToBackwardTexture$$,this.backwardTextureLoaded$$).pipe(An(()=>this.showLoadingSpinner$$.next(!1)),An(()=>this.prepAndLoadNextImg(Ii.backward))).subscribe())}loadBasicAssets(){this.showLoadingSpinner$$.next(!0);const t=new Array;t.push(new Promise(n=>{this.textures[this.startIndex]=(new cl).load(this.imageUrls[this.startIndex],n)})),""!==this.displacementImageUrl&&t.push(new Promise(n=>{this.displacementTexture=(new cl).load(this.displacementImageUrl,n)})),Promise.all(t).then(()=>this.basicAssetsLoaded$$.next()).catch(n=>console.error(n)).finally(()=>this.showLoadingSpinner$$.next(!1))}loadTexture(t,n){(new cl).loadAsync(this.imageUrls[t]).then(r=>{switch(this.textures[t]=r,n){case Ii.forward:this.forwardTextureLoaded$$.next();break;case Ii.backward:this.backwardTextureLoaded$$.next()}}).catch(r=>console.error(r))}initBasiscScene(){const t=new il(1,1,2,2);this.nextImageIndex=this.startIndex,this.imageIndexChange.emit(this.nextImageIndex),this.material=new To({side:2,uniforms:{time:{value:0},progress:{value:0},border:{value:0},intensity:{value:50},angle1:{value:Math.PI/4},angle2:{value:-Math.PI+Math.PI/4},scaleX:{value:40},scaleY:{value:40},transition:{value:40},swipe:{value:0},width:{value:.5},radius:{value:0},texture1:{value:this.textures[this.startIndex]},texture2:{value:null},displacementTexture:{value:this.displacementTexture},resolution1:{value:new on},resolution2:{value:new on}},vertexShader:this.shaders.vertex}),this.setShaderProperties(),this.mesh=new zn(t,this.material),this.scene.add(this.mesh),this.resize()}setAutoPlayInterval(){this.autoPlay$=fk(this.pAutoPlayInterval),this.autoPlaySubscription=this.autoPlay$.pipe(An(()=>this.transitToForwardTexture$$.next())).subscribe()}resetAutoPlayInterval(){this.autoPlay$=Hx,this.autoPlaySubscription.unsubscribe(),this.setAutoPlayInterval()}stopAutoPlayInterval(){this.autoPlay$=Hx,this.autoPlaySubscription.unsubscribe()}setShaderProperties(){switch(this.transitionType){case"split":this.material.uniforms.intensity.value=this.pIntensity,this.material.fragmentShader=this.shaders.splitTransitionFrag;break;case"fade":this.material.fragmentShader=this.shaders.fadeFrag;break;case"noise":this.material.uniforms.scaleX.value=this.pScaleX,this.material.uniforms.scaleY.value=this.pScaleY,this.material.uniforms.width.value=this.pWidth,this.material.fragmentShader=this.shaders.noiseFrag;break;case"blur":this.material.uniforms.intensity.value=this.pIntensity,this.material.fragmentShader=this.shaders.blurFrag;break;case"distortion":this.material.uniforms.displacementTexture.value=(new cl).load(this.displacementImageUrl),this.material.uniforms.intensity.value=this.pIntensity,this.material.fragmentShader=this.shaders.distortionFrag}this.material.needsUpdate=!0}animate(){!0===this.animationEnabled&&this.renderer.render(this.scene,this.camera),this.performanceMonitor&&this.showPerformanceMonitor&&this.performanceMonitor.end(),this.ngZone.runOutsideAngular(()=>{this.animationFrameId=window.requestAnimationFrame(()=>this.animate())})}resize(){const t=this.threejsContainer.nativeElement.offsetWidth,n=this.threejsContainer.nativeElement.offsetHeight;n&&n&&(this.renderer.setSize(t,n),this.camera.aspect=t/n,this.updateTextureResolution(this.nextImageIndex,1),this.camera.fov=180/Math.PI*2*Math.atan(1/(2*this.camera.position.z)),this.mesh.scale.x=this.camera.aspect,this.mesh.scale.y=1,this.camera.updateProjectionMatrix())}updateTextureResolution(t,n){const r=this.textures[t],s=this.threejsContainer.nativeElement.offsetWidth,o=this.threejsContainer.nativeElement.offsetHeight,a=r.image.height/r.image.width,l=o/s;let c,u;"cover"===this.pImageSize?l>a?(c=s/o*a,u=1):(c=1,u=o/s/a):"contain"===this.pImageSize&&(l<a?(c=s/o*a,u=1):(c=1,u=o/s/a)),1===n?(this.material.uniforms.resolution1.value.x=s,this.material.uniforms.resolution1.value.y=o,this.material.uniforms.resolution1.value.z=c,this.material.uniforms.resolution1.value.w=u):2===n&&(this.material.uniforms.resolution2.value.x=s,this.material.uniforms.resolution2.value.y=o,this.material.uniforms.resolution2.value.z=c,this.material.uniforms.resolution2.value.w=u)}transitionToNextTexture(t){this.imageIndexChange.emit(this.nextImageIndex),this.ngZone.runOutsideAngular(()=>{t===Ii.backward?(this.material.uniforms.texture2.value=this.material.uniforms.texture1.value,this.material.uniforms.resolution2.value.x=this.material.uniforms.resolution1.value.x,this.material.uniforms.resolution2.value.y=this.material.uniforms.resolution1.value.y,this.material.uniforms.resolution2.value.z=this.material.uniforms.resolution1.value.z,this.material.uniforms.resolution2.value.w=this.material.uniforms.resolution1.value.w,this.material.uniforms.progress.value=1,this.material.uniforms.texture1.value=this.textures[this.nextImageIndex],this.updateTextureResolution(this.nextImageIndex,1),Hi.createTween(Hi.linear,1,0,this.transitionDuration).subscribe({next:n=>{this.material.uniforms.progress.value=n},complete:()=>{this.tranistionOngoing=!1,this.material.uniforms.texture2.value=this.textures[this.nextImageIndex],this.updateTextureResolution(this.nextImageIndex,2),this.material.uniforms.progress.value=0}})):(this.material.uniforms.texture2.value=this.textures[this.nextImageIndex],this.updateTextureResolution(this.nextImageIndex,2),Hi.createTween(Hi.linear,0,1,this.transitionDuration).subscribe({next:n=>{this.material.uniforms.progress.value=n},complete:()=>{this.tranistionOngoing=!1,this.material.uniforms.texture1.value=this.textures[this.nextImageIndex],this.updateTextureResolution(this.nextImageIndex,1),this.material.uniforms.progress.value=0}}))})}prepAndLoadNextImg(t){this.tranistionOngoing=!0;let n=0;t===Ii.forward?(this.nextImageIndex=this.nextImageIndex<this.imageUrls.length-1?this.nextImageIndex+1:0,n=this.nextImageIndex+1>this.imageUrls.length-1?0:this.nextImageIndex+1,this.loadTexture(n,Ii.forward)):(this.nextImageIndex=this.nextImageIndex>0?this.nextImageIndex-1:this.imageUrls.length-1,n=this.nextImageIndex-1<0?this.imageUrls.length-1:this.nextImageIndex-1,this.loadTexture(n,Ii.backward)),this.transitionToNextTexture(t)}nextImage(t){if(this.tranistionOngoing)console.warn("cannot go to next image. transition still ongoing.");else switch(this.pAutoPlay&&this.resetAutoPlayInterval(),this.showLoadingSpinner$$.next(!0),t){case Ii.backward:this.transitToBackwardTexture$$.next();break;case Ii.forward:this.transitToForwardTexture$$.next()}}next(){this.nextImage(Ii.forward)}prev(){this.nextImage(Ii.backward)}}return i.\u0275fac=function(t){return new(t||i)(T(rt))},i.\u0275cmp=kt({type:i,selectors:[["lib-image-transition"]],viewQuery:function(t,n){if(1&t&&(Vt(RZ,5),Vt(PZ,5)),2&t){let r;Ne(r=Be())&&(n.threejsContainer=r.first),Ne(r=Be())&&(n.performanceMonitor=r.first)}},hostBindings:function(t,n){1&t&&ue("resize",function(){return n.resize()},!1,Jl)},inputs:{imageUrls:"imageUrls",displacementImageUrl:"displacementImageUrl",imageSize:"imageSize",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",transitionDuration:"transitionDuration",transitionType:"transitionType",sizeX:"sizeX",sizeY:"sizeY",width:"width",intensity:"intensity",animationEnabled:"animationEnabled",startIndex:"startIndex",showPerformanceMonitor:"showPerformanceMonitor"},outputs:{imageIndexChange:"imageIndexChange"},decls:5,vars:4,consts:[[1,"threejs-container"],["threejsContainer",""],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"lds-ripple"],["performanceMonitor",""]],template:function(t,n){1&t&&(y(0,"div",0,1),ze(2,kZ,4,0,"div",2),kd(3,"async"),v(),ze(4,FZ,2,0,"acuw-performance-monitor",3)),2&t&&($(2),j("ngIf",function(i,e,t){const n=i+20,r=ne(),s=zl(r,n);return Fd(r,n)?DS(r,Gi(),e,s.transform,t,s):s.transform(t)}(3,2,n.showLoadingSpinner$)),$(2),j("ngIf",n.showPerformanceMonitor))},directives:[tr,Ug],pipes:[YT],styles:[".threejs-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.loading-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lds-ripple[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px;background-color:#0006;border-radius:40px;box-shadow:0 0 24px 12px #00000080}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #fff;opacity:1;border-radius:50%;animation:lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0px;left:0px;width:72px;height:72px;opacity:0}}"]}),i})(),gk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr,Vh]]}),i})();class Gx{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class _k extends Gx{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class Wx extends Gx{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class LZ extends Gx{constructor(e){super(),this.element=e instanceof dt?e.nativeElement:e}}class yk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof _k?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Wx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof LZ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class OZ extends yk{constructor(e,t,n,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);-1!==r&&t.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let jx=(()=>{class i extends yk{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new $e,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=n.createComponent(s,n.length,t.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(T(ao),T(qi),T(yt))},i.\u0275dir=Te({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Je]}),i})(),vk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({}),i})();const NZ=function(i,e){return{"full-container":i,"auto-container":e}},bk=function(i){return{"auto-visibility":i}};let BZ=(()=>{class i{constructor(t){this.changeRef=t,this.imageUrls=new Array,this.displacementImageUrl="",this.forceFullscreen=!1,this.forceShowNavButtons=!1,this.imageSize="cover",this.autoPlay=!1,this.autoPlayInterval=5e3,this.transitionDuration=1e3,this.transitionType="split",this.sizeX=50,this.sizeY=50,this.width=.5,this.intensity=40,this.startIndex=0,this.currentImageIndex=1,this.showPerformanceMonitor=!1,this.swipeCoord=new Array,this.swipeTime=0}ngOnInit(){}keyEvent(t){"ArrowRight"===t.key&&this.imageTransition.next(),"ArrowLeft"===t.key&&this.imageTransition.prev(),"Escape"===t.key&&this.close()}close(){var t;null===(t=this.overlayRef)||void 0===t||t.detach()}imageIndexChange(t){this.currentImageIndex=t+1,this.changeRef.detectChanges()}swipe(t,n){const r=[t.changedTouches[0].clientX,t.changedTouches[0].clientY],s=(new Date).getTime();if("start"===n)this.swipeCoord=r,this.swipeTime=s;else if("end"===n){const o=[r[0]-this.swipeCoord[0],r[1]-this.swipeCoord[1]];if(s-this.swipeTime<1e3&&Math.abs(o[0])>30&&Math.abs(o[0])>Math.abs(3*o[1])){const l=o[0]<0?"next":"previous";"next"===l?this.imageTransition.next():"previous"===l&&this.imageTransition.prev()}}}}return i.\u0275fac=function(t){return new(t||i)(T(Vn))},i.\u0275cmp=kt({type:i,selectors:[["lib-lightbox-overlay"]],viewQuery:function(t,n){if(1&t&&Vt(Ux,5),2&t){let r;Ne(r=Be())&&(n.imageTransition=r.first)}},hostBindings:function(t,n){1&t&&ue("keyup",function(s){return n.keyEvent(s)},!1,Jl)},decls:19,vars:25,consts:[[3,"ngClass"],[1,"index-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","white",1,"ligthbox-button","close-button",3,"click"],["d","M0 0h24v24H0z","fill","none"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","white",1,"ligthbox-button","prev-button",3,"ngClass","click"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","white",1,"ligthbox-button","next-button",3,"ngClass","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],[3,"imageUrls","startIndex","imageSize","autoPlay","autoPlayInterval","transitionDuration","transitionType","sizeX","sizeY","width","intensity","displacementImageUrl","showPerformanceMonitor","imageIndexChange","touchstart","touchend"],["imageTransition",""]],template:function(t,n){if(1&t){const r=ln();y(0,"div",0),y(1,"div",1),y(2,"span"),M(3),v(),y(4,"span"),M(5,"/"),v(),y(6,"span"),M(7),v(),v(),Rf(),y(8,"svg",2),ue("click",function(){return n.close()}),be(9,"path",3),be(10,"path",4),v(),y(11,"svg",5),ue("click",function(){return Ye(r),Ar(18).prev()}),be(12,"path",3),be(13,"path",6),v(),y(14,"svg",7),ue("click",function(){return Ye(r),Ar(18).next()}),be(15,"path",3),be(16,"path",8),v(),ut.lFrame.currentNamespace=null,y(17,"lib-image-transition",9,10),ue("imageIndexChange",function(o){return n.imageIndexChange(o)})("touchstart",function(o){return n.swipe(o,"start")})("touchend",function(o){return n.swipe(o,"end")}),v(),v()}2&t&&(j("ngClass",pp(18,NZ,!0===n.forceFullscreen,!1===n.forceFullscreen)),$(3),vn(n.currentImageIndex),$(4),vn(n.imageUrls.length),$(4),j("ngClass",Rs(21,bk,!1===n.forceShowNavButtons)),$(3),j("ngClass",Rs(23,bk,!1===n.forceShowNavButtons)),$(3),j("imageUrls",n.imageUrls)("startIndex",n.startIndex)("imageSize",n.imageSize)("autoPlay",n.autoPlay)("autoPlayInterval",n.autoPlayInterval)("transitionDuration",n.transitionDuration)("transitionType",n.transitionType)("sizeX",n.sizeX)("sizeY",n.sizeY)("width",n.width)("intensity",n.intensity)("displacementImageUrl",n.displacementImageUrl)("showPerformanceMonitor",n.showPerformanceMonitor))},directives:[Ac,Ux],styles:[".auto-container[_ngcontent-%COMP%]{position:relative;width:1100px;height:800px;max-width:90vw;max-height:90vh;background-color:#000;box-shadow:0 0 15px 10px #00000080}.full-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;max-width:100vw;max-height:100vh;background-color:#000;box-shadow:0 0 15px 10px #00000080}.index-indicator[_ngcontent-%COMP%]{position:absolute;z-index:1;color:#fff;background-color:#0006;border-radius:0 0 5px;padding:8px}.ligthbox-button[_ngcontent-%COMP%]{position:absolute;z-index:1;cursor:pointer;background-color:#0006;width:36px;height:36px}.ligthbox-button[_ngcontent-%COMP%]:hover{fill:#ffffff80}.close-button[_ngcontent-%COMP%]{top:0;right:0;border-radius:0 0 0 5px}.prev-button[_ngcontent-%COMP%]{top:calc(50% - 18px);left:0;border-radius:0 5px 5px 0}.next-button[_ngcontent-%COMP%]{top:calc(50% - 18px);right:0;border-radius:5px 0 0 5px}@media (max-width: 600px){.auto-container[_ngcontent-%COMP%]{width:100vw;height:100vh;max-width:100vw;max-height:100vh}.auto-visibility[_ngcontent-%COMP%]{visibility:collapse}}lib-image-transition[_ngcontent-%COMP%]{touch-action:none}"]}),i})();function Wt(i){return null!=i&&"false"!=`${i}`}function yr(i,e=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):e}function xk(i){return Array.isArray(i)?i:[i]}function ni(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Fo(i){return i instanceof dt?i.nativeElement:i}function ba(i,e,t,n){return Pt(t)&&(n=t,t=void 0),n?ba(i,e,t).pipe(ft(r=>Ln(r)?n(...r):n(r))):new He(r=>{wk(i,e,function(o){r.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},r,t)})}function wk(i,e,t,n,r){let s;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const o=i;i.addEventListener(e,t,r),s=()=>o.removeEventListener(e,t,r)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const o=i;i.on(e,t),s=()=>o.off(e,t)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const o=i;i.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let o=0,a=i.length;o<a;o++)wk(i[o],e,t,n,r)}n.add(s)}new class extends Hs{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends Bx{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let $Z=1;const qZ=Promise.resolve(),Gg={};function Mk(i){return i in Gg&&(delete Gg[i],!0)}const Ck={setImmediate(i){const e=$Z++;return Gg[e]=!0,qZ.then(()=>Mk(e)&&i()),e},clearImmediate(i){Mk(i)}};new class extends Hs{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends Bx{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=Ck.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(Ck.clearImmediate(t),e.scheduled=void 0)}});class QZ{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new JZ(e,this.durationSelector))}}class JZ extends Fl{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:r}=this;t=r(e)}catch(r){return this.destination.error(r)}const n=Ll(t,new kl(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Ek(i=0,e,t){let n=-1;return Vx(e)?n=Number(e)<1?1:Number(e):Oo(e)&&(t=e),Oo(t)||(t=Pu),new He(r=>{const s=Vx(i)?i:+i-t.now();return t.schedule(eK,s,{index:0,period:n,subscriber:r})})}function eK(i){const{index:e,period:t,subscriber:n}=i;if(n.next(e),!n.closed){if(-1===t)return n.complete();i.index=e+1,this.schedule(i,t)}}function Sk(i,e=Pu){return function(i){return function(t){return t.lift(new QZ(i))}}(()=>Ek(i,e))}function Qt(i){return e=>e.lift(new tK(i))}class tK{constructor(e){this.notifier=e}call(e,t){const n=new nK(e),r=Ll(this.notifier,new kl(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class nK extends Fl{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let $x;try{$x="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){$x=!1}let ku,vi=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(i){return i===KT}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$x)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(X(xp))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Hh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({}),i})();const Tk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Dk(){if(ku)return ku;if("object"!=typeof document||!document)return ku=new Set(Tk),ku;let i=document.createElement("input");return ku=new Set(Tk.filter(e=>(i.setAttribute("type",e),i.type===e))),ku}let zh,Wg,ml,qx;function Fu(i){return function(){if(null==zh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zh=!0}))}finally{zh=zh||!1}return zh}()?i:!!i.capture}function Ak(){if(null==ml){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ml=!1,ml;if("scrollBehavior"in document.documentElement.style)ml=!0;else{const i=Element.prototype.scrollTo;ml=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return ml}function Uh(){if("object"!=typeof document||!document)return 0;if(null==Wg){const i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",i.appendChild(t),document.body.appendChild(i),Wg=0,0===i.scrollLeft&&(i.scrollLeft=1,Wg=0===i.scrollLeft?1:2),i.remove()}return Wg}function gl(i){return i.composedPath?i.composedPath()[0]:i.target}function Yx(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const oK=new we("cdk-dir-doc",{providedIn:"root",factory:function(){return sy(yt)}}),lK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Gr=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new $e,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function(i){const e=(null==i?void 0:i.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?lK.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(X(oK,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Gh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({}),i})(),jg=(()=>{class i{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new Ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new He(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Sk(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(Ci(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=Fo(n),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ba(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(X(rt),X(vi),X(yt,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$g=(()=>{class i{constructor(t,n,r,s){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new Ke,this._elementScrolled=new He(o=>this.ngZone.runOutsideAngular(()=>ba(this.elementRef.nativeElement,"scroll").pipe(Qt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&0!=Uh()?(null!=t.left&&(t.right=n.scrollWidth-n.clientWidth-t.left),2==Uh()?t.left=t.right:1==Uh()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const n=this.elementRef.nativeElement;Ak()?n.scrollTo(t):(null!=t.top&&(n.scrollTop=t.top),null!=t.left&&(n.scrollLeft=t.left))}measureScrollOffset(t){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:n:"end"==t&&(t=o?n:r),o&&2==Uh()?t==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Uh()?t==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(jg),T(rt),T(Gr,8))},i.\u0275dir=Te({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),_l=(()=>{class i{constructor(t,n,r){this._platform=t,this._change=new Ke,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Sk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(X(vi),X(rt),X(yt,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({}),i})(),Ik=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[Gh,Hh,Wh],Gh,Wh]}),i})();class fK{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new pK(e,this.predicate,this.inclusive))}}class pK extends at{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}function zs(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}const Fk=Ak();class SK{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ni(-this._previousScrollPosition.left),e.style.top=ni(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,n=e.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Fk&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Fk&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class TK{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Lk{enable(){}disable(){}attach(){}}function Qx(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function Ok(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class DK{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Qx(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let AK=(()=>{class i{constructor(t,n,r,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new Lk,this.close=o=>new TK(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new SK(this._viewportRuler,this._document),this.reposition=o=>new DK(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return i.\u0275fac=function(t){return new(t||i)(X(jg),X(_l),X(rt),X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Nk{constructor(e){if(this.scrollStrategy=new Lk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class IK{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class RK{constructor(e,t,n,r,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ke,this._attachments=new Ke,this._detachments=new Ke,this._locationChanges=nt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Ke,this._outsidePointerEvents=new Ke,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Lr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ni(this._config.width),e.height=ni(this._config.height),e.minWidth=ni(this._config.minWidth),e.minHeight=ni(this._config.minHeight),e.maxWidth=ni(this._config.maxWidth),e.maxHeight=ni(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=xk(t||[]).filter(s=>!!s);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Qt(vs(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let Bk=(()=>{class i{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Yx()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(t),Yx()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(t){return new(t||i)(X(yt),X(vi))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Vk="cdk-overlay-connected-position-bounding-box",PK=/([A-Za-z%]+)$/;class kK{constructor(e,t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ke,this._resizeSubscription=nt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Vk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,n)?r.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(r.length){let o=null,a=-1;for(const l of r){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Vk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;n="start"==t.originX?s:o}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,s;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,n,r){const s=zk(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-n.height,p=this._subtractOverflows(s.width,0-o,o+s.width-n.width),g=this._subtractOverflows(s.height,h,f),b=p*g;return{visibleArea:b,isCompletelyWithinViewport:s.width*s.height===b,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,s=n.right-t.x,o=Hk(this._overlayRef.getConfig().minHeight),a=Hk(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=zk(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-n.top-e.y,0),c=Math.max(s.left-n.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-n.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-n.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new IK(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=n.height-e.y+2*this._viewportMargin,s=n.height-a+this._viewportMargin;else{const f=Math.min(n.bottom-e.y+n.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=n.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=n.right-e.x;else{const f=Math.min(n.right-e.x+n.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ni(n.height),r.top=ni(n.top),r.bottom=ni(n.bottom),r.width=ni(n.width),r.left=ni(n.left),r.right=ni(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ni(s)),o&&(r.maxWidth=ni(o))}this._lastBoundingBoxSize=n,yl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){yl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();yl(n,this._getExactOverlayY(t,e,u)),yl(n,this._getExactOverlayX(t,e,u))}else n.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),o.maxHeight&&(r?n.maxHeight=ni(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=ni(o.maxWidth):s&&(n.maxWidth="")),yl(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ni(s.y),r}_getExactOverlayX(e,t,n){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ni(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ok(e,n),isOriginOutsideView:Qx(e,n),isOverlayClipped:Ok(t,n),isOverlayOutsideView:Qx(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&xk(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof dt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function yl(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Hk(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(PK);return t&&"px"!==t?null:parseFloat(e)}return i||null}function zk(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const Uk="cdk-global-overlay-wrapper";class FK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Uk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=n,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(Uk),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let LK=(()=>{class i{constructor(t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new FK}flexibleConnectedTo(t){return new kK(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(X(_l),X(yt),X(vi),X(Bk))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Gk=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),OK=(()=>{class i extends Gk{constructor(t){super(t),this._keydownListener=n=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(n);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),NK=(()=>{class i extends Gk{constructor(t,n){super(t),this._platform=n,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=gl(r)},this._clickListener=r=>{const s=gl(r),o="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(r)}}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(t){return new(t||i)(X(yt),X(vi))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),BK=0,Xh=(()=>{class i{constructor(t,n,r,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new Nk(t);return o.direction=o.direction||this._directionality.value,new RK(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+BK++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Sc)),new OZ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(X(AK),X(Bk),X(ao),X(LK),X(OK),X(gi),X(rt),X(yt),X(Gr),X(Ep),X(NK))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const VK=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Wk=new we("cdk-connected-overlay-scroll-strategy");let jk=(()=>{class i{constructor(t){this.elementRef=t}}return i.\u0275fac=function(t){return new(t||i)(T(dt))},i.\u0275dir=Te({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),$k=(()=>{class i{constructor(t,n,r,s,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=nt.EMPTY,this._attachSubscription=nt.EMPTY,this._detachSubscription=nt.EMPTY,this._positionSubscription=nt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new $e,this.positionChange=new $e,this.attach=new $e,this.detach=new $e,this.overlayKeydown=new $e,this.overlayOutsideClick=new $e,this._templatePortal=new Wx(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Wt(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Wt(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Wt(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Wt(t)}get push(){return this._push}set push(t){this._push=Wt(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=VK);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!zs(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Nk({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof jk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(i,e=!1){return t=>t.lift(new fK(i,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(T(Xh),T(hr),T(qi),T(Wk),T(Gr,8))},i.\u0275dir=Te({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ii]}),i})();const zK={provide:Wk,deps:[Xh],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let qk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({providers:[Xh,zK],imports:[[Gh,vk,Ik],Ik]}),i})(),UK=(()=>{class i{constructor(t){this.overlay=t,this.imageUrls=new Array,this.displacementImageUrl="",this.forceFullscreen=!1,this.forceShowNavButtons=!1,this.imageSize="cover",this.autoPlay=!1,this.autoPlayInterval=5e3,this.transitionDuration=1e3,this.transitionType="split",this.sizeX=50,this.sizeY=50,this.width=.5,this.intensity=40,this.showPerformanceMonitor=!1}ngOnInit(){}open(t=0){this.overlayRef=this.overlay.create({hasBackdrop:!0,positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:this.overlay.scrollStrategies.block()}),this.overlayRef.backdropClick().subscribe({next:()=>{var r;null===(r=this.overlayRef)||void 0===r||r.detach()}});const n=this.overlayRef.attach(new _k(BZ));n.instance.overlayRef=this.overlayRef,n.instance.imageUrls=this.imageUrls,n.instance.displacementImageUrl=this.displacementImageUrl,n.instance.forceFullscreen=this.forceFullscreen,n.instance.forceShowNavButtons=this.forceShowNavButtons,n.instance.imageSize=this.imageSize,n.instance.autoPlay=this.autoPlay,n.instance.autoPlayInterval=this.autoPlayInterval,n.instance.transitionDuration=this.transitionDuration,n.instance.transitionType=this.transitionType,n.instance.sizeX=this.sizeX,n.instance.sizeY=this.sizeY,n.instance.width=this.width,n.instance.intensity=this.intensity,n.instance.startIndex=t,n.instance.showPerformanceMonitor=this.showPerformanceMonitor}close(){var t;null===(t=this.overlayRef)||void 0===t||t.detach()}}return i.\u0275fac=function(t){return new(t||i)(T(Xh))},i.\u0275cmp=kt({type:i,selectors:[["lib-lightbox"]],inputs:{imageUrls:"imageUrls",displacementImageUrl:"displacementImageUrl",forceFullscreen:"forceFullscreen",forceShowNavButtons:"forceShowNavButtons",imageSize:"imageSize",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",transitionDuration:"transitionDuration",transitionType:"transitionType",sizeX:"sizeX",sizeY:"sizeY",width:"width",intensity:"intensity",showPerformanceMonitor:"showPerformanceMonitor"},decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})(),GK=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr,gk,qk,Vh]]}),i})();const Yk=new E,WK=new Pn,Xk=new E;class Jx extends Xt{constructor(e=document.createElement("div")){super(),this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}Jx.prototype.isCSS3DObject=!0,class extends Jx{constructor(e){super(e),this.rotation2D=0}copy(e,t){return super.copy(e,t),this.rotation2D=e.rotation2D,this}}.prototype.isCSS3DSprite=!0;const Us=new Ue,$K=new Ue;class Zk{constructor(e={}){const t=this;let n,r,s,o;const a={camera:{fov:0,style:""},objects:new WeakMap},l=void 0!==e.element?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l;const c=document.createElement("div");function u(p){return Math.abs(p)<1e-10?0:p}function d(p){const g=p.elements;return"matrix3d("+u(g[0])+","+u(-g[1])+","+u(g[2])+","+u(g[3])+","+u(g[4])+","+u(-g[5])+","+u(g[6])+","+u(g[7])+","+u(g[8])+","+u(-g[9])+","+u(g[10])+","+u(g[11])+","+u(g[12])+","+u(-g[13])+","+u(g[14])+","+u(g[15])+")"}function h(p){const g=p.elements;return"translate(-50%,-50%)matrix3d("+u(g[0])+","+u(g[1])+","+u(g[2])+","+u(g[3])+","+u(-g[4])+","+u(-g[5])+","+u(-g[6])+","+u(-g[7])+","+u(g[8])+","+u(g[9])+","+u(g[10])+","+u(g[11])+","+u(g[12])+","+u(g[13])+","+u(g[14])+","+u(g[15])+")"}function f(p,g,b,_){if(p.isCSS3DObject){let m;p.onBeforeRender(t,g,b),p.isCSS3DSprite?(Us.copy(b.matrixWorldInverse),Us.transpose(),0!==p.rotation2D&&Us.multiply($K.makeRotationZ(p.rotation2D)),p.matrixWorld.decompose(Yk,WK,Xk),Us.setPosition(Yk),Us.scale(Xk),Us.elements[3]=0,Us.elements[7]=0,Us.elements[11]=0,Us.elements[15]=1,m=h(Us)):m=h(p.matrixWorld);const w=p.element,x=a.objects.get(p);void 0!==x&&x.style===m||(w.style.transform=m,a.objects.set(p,{style:m})),w.style.display=p.visible?"":"none",w.parentNode!==c&&c.appendChild(w),p.onAfterRender(t,g,b)}for(let m=0,w=p.children.length;m<w;m++)f(p.children[m],g,b,_)}c.style.transformStyle="preserve-3d",c.style.pointerEvents="none",l.appendChild(c),this.getSize=function(){return{width:n,height:r}},this.render=function(p,g){const b=g.projectionMatrix.elements[5]*o;let _,m;a.camera.fov!==b&&(l.style.perspective=g.isPerspectiveCamera?b+"px":"",a.camera.fov=b),!0===p.autoUpdate&&p.updateMatrixWorld(),null===g.parent&&g.updateMatrixWorld(),g.isOrthographicCamera&&(_=-(g.right+g.left)/2,m=(g.top+g.bottom)/2);const w=g.isOrthographicCamera?"scale("+b+")translate("+u(_)+"px,"+u(m)+"px)"+d(g.matrixWorldInverse):"translateZ("+b+"px)"+d(g.matrixWorldInverse),x=w+"translate("+s+"px,"+o+"px)";a.camera.style!==x&&(c.style.transform=x,a.camera.style=x),f(p,p,g,w)},this.setSize=function(p,g){n=p,r=g,s=n/2,o=r/2,l.style.width=p+"px",l.style.height=g+"px",c.style.width=p+"px",c.style.height=g+"px"}}}class qK{constructor(e,t,n){this.isUserInteracting=!1,this.restoringAnimationOngoing=!1,this.restoringOriginPosTimeout=0,this.userInteracted=!1,this.userInteractedSubject=new Ke,this.rotationSpeed=1,this.verticalRotation=!0,this.horizontalRotation=!0,this.autoRotationY=!1,this.autoRotationX=!1,this.autoRotationZ=!1,this.restoreOriginPosition=!1,this.autoRotationSpeed=.002,this.userInteracted$=this.userInteractedSubject.asObservable(),this.controlsEnabled=!0,this.mouseDown=r=>{!1===this.controlsEnabled||!0===this.restoringAnimationOngoing||(window.clearTimeout(this.restoringOriginPosTimeout),this.isUserInteracting=!0,this.startDraggingPosition=new Q(0,0),this.startDraggingPosition.set(r.offsetX,r.offsetY),this.touchArea.addEventListener("pointermove",this.mouseMove,!1),this.touchArea.addEventListener("pointerup",this.mouseUp,!1))},this.mouseMove=r=>{if(!1!==this.controlsEnabled&&!this.restoringAnimationOngoing&&this.isUserInteracting){0==this.userInteracted&&(this.userInteracted=!0,this.userInteractedSubject.next(this.userInteracted));const o=new Q(r.offsetX-this.startDraggingPosition.x,r.offsetY-this.startDraggingPosition.y);this.startDraggingPosition.set(r.offsetX,r.offsetY);const a=1==this.verticalRotation?o.x*Math.PI/180*this.rotationSpeed:0,l=1==this.horizontalRotation?o.y*Math.PI/180*this.rotationSpeed:0;var s=(new Pn).setFromEuler(new Ls(l,a,0,"XYZ"));this.obj.quaternion.multiplyQuaternions(s,this.obj.quaternion)}},this.mouseUp=()=>{!1===this.controlsEnabled||this.restoringAnimationOngoing||(this.resetMousePosition(),this.isUserInteracting=!1,this.restoreOriginPosition&&this.restoreOriginalPosition(),this.touchArea.removeEventListener("mousemove",this.mouseMove,!1),this.touchArea.removeEventListener("mouseup",this.mouseUp,!1))},this.onTouchStart=r=>{!1===this.controlsEnabled||this.restoringAnimationOngoing||(window.clearTimeout(this.restoringOriginPosTimeout),this.isUserInteracting=!0,this.restoringAnimationOngoing=!1,this.startDraggingPosition.set(r.touches[0].pageX,r.touches[0].pageY))},this.onTouchMove=r=>{if(!1!==this.controlsEnabled&&!this.restoringAnimationOngoing&&this.isUserInteracting&&!this.restoringAnimationOngoing){0==this.userInteracted&&(this.userInteracted=!0,this.userInteractedSubject.next(this.userInteracted));const o=new Q(r.touches[0].pageX-this.startDraggingPosition.x,r.touches[0].pageY-this.startDraggingPosition.y);this.startDraggingPosition.set(r.touches[0].pageX,r.touches[0].pageY);const a=1==this.verticalRotation?o.x*Math.PI/180*this.rotationSpeed:0,l=1==this.horizontalRotation?o.y*Math.PI/180*this.rotationSpeed:0;var s=(new Pn).setFromEuler(new Ls(l,a,0,"XYZ"));this.obj.quaternion.multiplyQuaternions(s,this.obj.quaternion)}},this.onTouchEnd=r=>{!1===this.controlsEnabled||this.restoringAnimationOngoing||(this.isUserInteracting=!1,this.resetMousePosition(),this.restoreOriginPosition&&this.restoreOriginalPosition())},this.rendererDom=e,this.obj=t,this.touchArea=null!=n?n:this.rendererDom,this.startDraggingPosition=new Q(0,0),this.addEventlisteners()}update(){if(!(this.isUserInteracting||this.restoringAnimationOngoing||this.userInteracted)){var e=1==this.autoRotationY?this.autoRotationSpeed:0,t=1==this.autoRotationX?this.autoRotationSpeed:0,n=1==this.autoRotationZ?this.autoRotationSpeed:0,r=(new Pn).setFromEuler(new Ls(t,e,n,"XYZ"));this.obj.quaternion.multiplyQuaternions(r,this.obj.quaternion)}}removeEventlisteners(){this.touchArea.removeEventListener("mousedown",this.mouseDown,!1),this.touchArea.removeEventListener("mousemove",this.mouseMove,!1),this.touchArea.removeEventListener("mouseup",this.mouseUp,!1),this.touchArea.removeEventListener("touchstart",this.onTouchStart,!1),this.touchArea.removeEventListener("touchmove",this.onTouchMove,!1),this.touchArea.removeEventListener("touchend",this.onTouchEnd,!1)}resetUserInteractionFlag(){this.userInteracted=!1,this.userInteractedSubject.next(this.userInteracted)}addEventlisteners(){this.touchArea.addEventListener("mousedown",this.mouseDown,!1),this.touchArea.addEventListener("touchend",this.onTouchEnd,!1),this.touchArea.addEventListener("touchstart",this.onTouchStart,!1),this.touchArea.addEventListener("touchmove",this.onTouchMove,!1)}resetMousePosition(){this.startDraggingPosition.set(0,0)}restoreOriginalPosition(){this.restoringOriginPosTimeout=window.setTimeout(()=>{var e=new Xt;e.position.set(0,0,0),e.rotation.set(0,0,0),Hi.createTween(Hi.linear,[this.obj.position.x,this.obj.position.y,this.obj.position.z],[e.position.x,e.position.y,e.position.z],1e3).subscribe({next:t=>{0==this.restoringAnimationOngoing&&(this.restoringAnimationOngoing=!0),this.obj.rotation.set(t[0],t[1],t[2])},complete:()=>{this.restoringAnimationOngoing=!1,this.resetUserInteractionFlag()}})},5e3)}}const YK=["threejsContainer"],XK=["indicationDots"],ZK=["performanceMonitor"],KK=function(i){return{fill:i}},QK=function(i,e){return{stroke:i,visibility:e}};function JK(i,e){if(1&i&&(Rf(),y(0,"svg",7),be(1,"circle",8),be(2,"path",9),v()),2&i){const t=e.index,n=fe();$(1),j("ngStyle",Rs(3,KK,n.activeCarouselElement===t?n.activeDotColor:n.dotColor)),$(1),fv("id",t),j("ngStyle",pp(5,QK,n.dotAnimationCircleColor,n.activeCarouselElement===t&&n.autoPlay?"visible":"hidden"))}}function eQ(i,e){1&i&&be(0,"acuw-performance-monitor",null,10)}const tQ=function(i){return{visibility:i}};let Kk=(()=>{class i{constructor(t){this.el=t,this.htmlElement=this.el.nativeElement}}return i.\u0275fac=function(t){return new(t||i)(T(dt))},i.\u0275dir=Te({type:i,selectors:[["acuw-carousel-item"]],hostAttrs:[1,"acuw-carousel-item"]}),i})(),Qk=(()=>{class i{constructor(t,n){this.ngZone=t,this.animationBuilder=n,this.showDots=!0,this.dotColor="#fff",this.activeDotColor="#3f51b5",this.dotAnimationCircleColor="#fff",this.activeCarouselElement=0,this.initAnimation=!0,this.radius=200,this.yPosition=0,this.cameraFov=65,this.cameraDistance=600,this.autoPlay=!1,this.autoPlayInterval=5e3,this.rotationDuration=500,this.showPerformanceMonitor=!1,this.activeElementChanged=new $e,this.css3dRenderer=new Zk,this.scene=new ha,this.carouselGroup=new ol,this.carouselObjSubsciptions=new Array,this.rotationSubscription=new nt,this.animation=!0,this.userMove=!1}ngAfterViewInit(){this.camera=new qn(this.cameraFov,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,0,this.cameraDistance);const t=this.threejsContainer.nativeElement.clientWidth,n=this.threejsContainer.nativeElement.clientHeight;this.css3dRenderer=new Zk,this.css3dRenderer.setSize(t,n),this.css3dRenderer.domElement.style.position="absolute",this.css3dRenderer.domElement.style.top="0",this.threejsContainer.nativeElement.appendChild(this.css3dRenderer.domElement),this.initCarouselObjects(),this.objectControls=new qK(this.css3dRenderer.domElement,this.carouselGroup,this.threejsContainer.nativeElement),this.objectControls.userInteracted$.subscribe({next:r=>{this.userMove=r,this.rotationSubscription.unsubscribe()}}),this.autoPlay&&this.startDotAnimation(this.activeCarouselElement),this.animate()}ngOnChanges(t){let n=t.activeCarouselElement;n&&!n.firstChange&&this.carouselGroup&&this.rotateTo(n.currentValue,!0),n=t.radius,n&&!n.firstChange&&this.carouselGroup&&this.updateRadius(),n=t.cameraFov,n&&!n.firstChange&&this.camera&&(this.camera.fov=this.cameraFov,this.camera.updateProjectionMatrix()),n=t.cameraDistance,n&&!n.firstChange&&this.camera&&(this.camera.position.set(0,0,this.cameraDistance),this.camera.updateProjectionMatrix()),n=t.autoPlay,n&&this.carouselGroup&&(!0===n.currentValue?this.startDotAnimation(this.activeCarouselElement):this.resetDotAnimation())}ngOnDestroy(){cancelAnimationFrame(this.animationFrameId),this.rotationSubscription.unsubscribe(),this.threejsContainer.nativeElement.removeChild(this.css3dRenderer.domElement),this.scene.clear()}resize(){const t=this.threejsContainer.nativeElement.clientWidth,n=this.threejsContainer.nativeElement.clientHeight;this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.css3dRenderer.setSize(t,n)}animate(){1==this.animation&&this.css3dRenderer.render(this.scene,this.camera),this.performanceMonitor&&this.showPerformanceMonitor&&this.performanceMonitor.end(),this.ngZone.runOutsideAngular(()=>{this.animationFrameId=window.requestAnimationFrame(()=>this.animate())})}startDotAnimation(t){if(this.dotAnimationPlayer||!this.dots)return;let n;n=this.animationBuilder.build(this.showDots?[vt({strokeDasharray:"0,250.2",visibility:"visible"}),In(this.autoPlayInterval,vt({strokeDasharray:"250.2,250.2",visibility:"hidden"}))]:[vt({strokeDasharray:"0,250.2",visibility:"hidden"}),In(this.autoPlayInterval,vt({strokeDasharray:"250.2,250.2",visibility:"hidden"}))]);const r=this.dots.nativeElement.children[t].getElementsByTagName("path")[0];this.dotAnimationPlayer=n.create(r),this.dotAnimationPlayer.play(),this.dotAnimationPlayer.onDone(()=>{this.dotAnimationPlayer=null,this.next()})}resetDotAnimation(){this.dotAnimationPlayer&&this.dotAnimationPlayer.hasStarted()&&(this.dotAnimationPlayer.reset(),this.dotAnimationPlayer=null)}initCarouselObjects(t=!0){var n;this.carouselElements=new Array;for(let l=0;l<this.carouselItemTemplates.length;l++){let c=null===(n=this.carouselItemTemplates.get(l))||void 0===n?void 0:n.htmlElement;if(c){var r=new Jx(c);r.element.style.pointerEvents="none",this.carouselElements.push(r),this.carouselObjSubsciptions.push(new nt)}}this.carouselGroup.clear();var s=-this.activeCarouselElement*Math.PI*2/this.carouselElements.length;this.carouselGroup.rotation.set(0,s,0);var o=0;const a=this.carouselElements.length;this.carouselElements.forEach(l=>{this.carouselObjSubsciptions[o].unsubscribe();let c=new Xt,u=2*o*(Math.PI/a);c.position.setFromCylindricalCoords(this.radius,u,this.yPosition);let d=new E(2*c.position.x,c.position.y,2*c.position.z);c.lookAt(d),l.rotation.x=c.rotation.x,l.rotation.y=c.rotation.y,l.rotation.z=c.rotation.z,!0===this.initAnimation&&!0===t?(l.position.x=2e3*Math.random()-1e3,l.position.y=500*Math.random(),l.position.z=500*Math.random(),this.carouselGroup.add(l),this.ngZone.runOutsideAngular(()=>{this.carouselObjSubsciptions[o]=Hi.createTween(Hi.easeInOutQuad,[l.position.x,l.position.y,l.position.z],[c.position.x,c.position.y,c.position.z],2e3).subscribe({next:h=>{l.position.set(h[0],h[1],h[2])}})})):(l.position.x=c.position.x,l.position.y=c.position.y,l.position.z=c.position.z,this.carouselGroup.add(l)),o+=1}),this.scene.add(this.carouselGroup)}next(){return this.rotateTo(this.activeCarouselElement>=this.carouselElements.length-1?0:this.activeCarouselElement+1)}previous(){return this.rotateTo(0==this.activeCarouselElement?this.carouselElements.length-1:this.activeCarouselElement-1)}rotateTo(t,n=!1){return new Promise((r,s)=>{t>this.carouselElements.length-1&&(console.error("target index is greater than available carousel items"),s("target index is greater than available carousel items")),this.resetDotAnimation(),t>this.activeCarouselElement?0==this.activeCarouselElement&&0!=this.carouselGroup.rotation.y&&0==this.carouselGroup.rotation.x&&0==this.carouselGroup.rotation.z&&this.carouselGroup.rotation.set(0,0,0):t==this.carouselElements.length-1&&0==this.activeCarouselElement&&0==this.carouselGroup.rotation.y&&0==this.carouselGroup.rotation.x&&0==this.carouselGroup.rotation.z&&this.carouselGroup.rotation.set(0,-2*Math.PI,0);const o=this.carouselGroup.quaternion.clone(),a=-t*Math.PI*2/this.carouselElements.length;let l=(new Pn).setFromEuler(new Ls(0,a,0,"XYZ"));n?(this.carouselGroup.quaternion.slerpQuaternions(o,l,1),this.rotationCompleted(t),r(this.activeCarouselElement)):(this.rotationSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.rotationSubscription=Hi.createTween(Hi.easeInOutQuad,0,1,this.rotationDuration).subscribe({next:c=>{this.carouselGroup.quaternion.slerpQuaternions(o,l,c)},complete:()=>{this.carouselGroup.quaternion.slerpQuaternions(o,l,1),this.ngZone.run(()=>{this.rotationCompleted(t),r(this.activeCarouselElement)})}})}))})}rotationCompleted(t){this.activeCarouselElement=t,this.activeElementChanged.emit(this.activeCarouselElement),this.objectControls.resetUserInteractionFlag(),this.autoPlay&&this.startDotAnimation(this.activeCarouselElement)}updateCarouselItems(){this.initCarouselObjects(!1)}updateRadius(){for(let t=0;t<this.carouselGroup.children.length;t++){let n=2*t*(Math.PI/this.carouselGroup.children.length);this.carouselGroup.children[t].position.setFromCylindricalCoords(this.radius,n,this.yPosition)}}}return i.\u0275fac=function(t){return new(t||i)(T(rt),T(l0))},i.\u0275cmp=kt({type:i,selectors:[["acuw-carousel"]],contentQueries:function(t,n,r){if(1&t&&cn(r,Kk,4),2&t){let s;Ne(s=Be())&&(n.carouselItemTemplates=s)}},viewQuery:function(t,n){if(1&t&&(Vt(YK,5),Vt(XK,5),Vt(ZK,5)),2&t){let r;Ne(r=Be())&&(n.threejsContainer=r.first),Ne(r=Be())&&(n.dots=r.first),Ne(r=Be())&&(n.performanceMonitor=r.first)}},hostBindings:function(t,n){1&t&&ue("resize",function(){return n.resize()},!1,Jl)},inputs:{showDots:"showDots",dotColor:"dotColor",activeDotColor:"activeDotColor",dotAnimationCircleColor:"dotAnimationCircleColor",activeCarouselElement:"activeCarouselElement",initAnimation:"initAnimation",radius:"radius",yPosition:"yPosition",cameraFov:"cameraFov",cameraDistance:"cameraDistance",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",rotationDuration:"rotationDuration",showPerformanceMonitor:"showPerformanceMonitor"},outputs:{activeElementChanged:"activeElementChanged"},features:[ii],decls:7,vars:5,consts:[[1,"carousel-container"],[1,"threejs-container"],["threejsContainer",""],[1,"dots",3,"ngStyle"],["indicationDots",""],["viewBox","0 0 100 100",4,"ngFor","ngForOf"],[4,"ngIf"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","45",3,"ngStyle"],["fill","none","stroke-linecap","round","stroke-width","20","d","M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80",3,"id","ngStyle"],["performanceMonitor",""]],template:function(t,n){1&t&&(y(0,"div",0),be(1,"div",1,2),y(3,"div",3,4),ze(5,JK,3,8,"svg",5),v(),ze(6,eQ,2,0,"acuw-performance-monitor",6),v()),2&t&&($(3),j("ngStyle",Rs(3,tQ,n.showDots?"visible":"hidden")),$(2),j("ngForOf",n.carouselItemTemplates),$(1),j("ngIf",n.showPerformanceMonitor))},directives:[lb,qo,tr,Ug],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:inherit}.threejs-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:inherit}.dots[_ngcontent-%COMP%]{position:absolute;bottom:0%;display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap;width:100%;overflow:hidden}.dots[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;margin:0 5px 24px}"],data:{animation:[Br("dotsAnimation",[Hn(":enter",[c0("svg",[vt({opacity:0,transform:"translateY(200%)"}),_I(100,[In("300ms ease-in",vt({opacity:1,transform:"none"}))])],{optional:!0})]),Hn(":leave",[c0("svg",[_I(100,[In("300ms ease-in",vt({opacity:0,transform:"translateY(200%)"}))])],{optional:!0})])]),Br("autoPlayAnimation",[cs("false",vt({strokeDasharray:"0,250.2"})),cs("true",vt({strokeDasharray:"250.2,250.2"})),Hn("false => true",In(5e3))])]}}),i})(),nQ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr,Vh]]}),i})(),Zh=(()=>{class i{constructor(){}getTabIndexFromParam(t){switch(t){case"demo":default:return 0;case"description":return 1}}getParamFromTabIndex(t){switch(t){case 0:default:return"demo";case 1:return"description"}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ew(i,e=Pu){return t=>t.lift(new iQ(i,e))}class iQ{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new rQ(e,this.dueTime,this.scheduler))}}class rQ extends at{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(sQ,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function sQ(i){i.debouncedNext()}class aQ{constructor(e){this.total=e}call(e,t){return t.subscribe(new lQ(e,this.total))}}class lQ extends at{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function qg(i,e){return t=>t.lift(new cQ(i,e))}class cQ{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new uQ(e,this.compare,this.keySelector))}}class uQ extends at{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:r}=this;n=r(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}let Jk=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dQ=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,n)=>this._cleanupObserver(n))}observe(t){const n=Fo(t);return new He(r=>{const o=this._observeElement(n).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const n=new Ke,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:n,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:n,stream:r}=this._observedElements.get(t);n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(X(Jk))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tw=(()=>{class i{constructor(t,n,r){this._contentObserver=t,this._elementRef=n,this._ngZone=r,this.event=new $e,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Wt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=yr(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(ew(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(T(dQ),T(dt),T(rt))},i.\u0275dir=Te({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Yg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({providers:[Jk]}),i})();class nF{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ke,this._typeaheadSubscription=nt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ke,this.change=new Ke,e instanceof Va&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(An(t=>this._pressedLetters.push(t)),ew(e),Ci(()=>this._pressedLetters.length>0),ft(()=>this._pressedLetters.join(""))).subscribe(t=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||zs(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Va?this._items.toArray():this._items}}class pQ extends nF{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class iF extends nF{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let rF=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function(i){try{return i.frameElement}catch(e){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(n&&(-1===oF(n)||!this.isVisible(n)))return!1;let r=t.nodeName.toLowerCase(),s=oF(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||sF(i))}(t)&&!this.isDisabled(t)&&((null==n?void 0:n.ignoreVisibility)||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(X(vi))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function sF(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function oF(i){if(!sF(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class EQ{constructor(e,t,n,r,s=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let n=0;n<t.length;n++){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let n=t.length-1;n>=0;n--){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Lr(1)).subscribe(e)}}let SQ=(()=>{class i{constructor(t,n,r){this._checker=t,this._ngZone=n,this._document=r}create(t,n=!1){return new EQ(t,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(t){return new(t||i)(X(rF),X(rt),X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function aF(i){return 0===i.offsetX&&0===i.offsetY}function lF(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const TQ=new we("cdk-input-modality-detector-options"),DQ={ignoreKeys:[18,17,224,91,16]},Lu=Fu({passive:!0,capture:!0});let AQ=(()=>{class i{constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Fr(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=gl(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(aF(o)?"keyboard":"mouse"),this._mostRecentTarget=gl(o))},this._onTouchstart=o=>{lF(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=gl(o))},this._options=Object.assign(Object.assign({},DQ),s),this.modalityDetected=this._modality.pipe(e=>e.lift(new aQ(1))),this.modalityChanged=this.modalityDetected.pipe(qg()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Lu),r.addEventListener("mousedown",this._onMousedown,Lu),r.addEventListener("touchstart",this._onTouchstart,Lu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Lu),document.removeEventListener("mousedown",this._onMousedown,Lu),document.removeEventListener("touchstart",this._onTouchstart,Lu))}}return i.\u0275fac=function(t){return new(t||i)(X(vi),X(rt),X(yt),X(TQ,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const IQ=new we("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),PQ=new we("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let kQ=(()=>{class i{constructor(t,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(a=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,a(),"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return i.\u0275fac=function(t){return new(t||i)(X(IQ,8),X(rt),X(yt),X(PQ,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const FQ=new we("cdk-focus-monitor-default-options"),Xg=Fu({passive:!0,capture:!0});let Ou=(()=>{class i{constructor(t,n,r,s,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ke,this._rootNodeFocusAndBlurListener=a=>{const l=gl(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,n=!1){const r=Fo(t);if(!this._platform.isBrowser||1!==r.nodeType)return Qe(null);const s=function(i){if(function(){if(null==qx){const i="undefined"!=typeof document?document.head:null;qx=!(!i||!i.createShadowRoot&&!i.attachShadow)}return qx}()){const e=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const a={checkChildren:n,subject:new Ke,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const n=Fo(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=Fo(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=gl(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r.subject,null))}_emitOrigin(t,n){this._ngZone.run(()=>t.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xg),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xg)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xg),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xg),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r.subject,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}}return i.\u0275fac=function(t){return new(t||i)(X(rt),X(vi),X(AQ),X(yt,8),X(FQ,8))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LQ=(()=>{class i{constructor(t,n){this._elementRef=t,this._focusMonitor=n,this.cdkFocusChange=new $e}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>this.cdkFocusChange.emit(n))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Ou))},i.\u0275dir=Te({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),i})();const uF="cdk-high-contrast-black-on-white",dF="cdk-high-contrast-white-on-black",nw="cdk-high-contrast-active";let hF=(()=>{class i{constructor(t,n){this._platform=t,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(nw),t.remove(uF),t.remove(dF),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(t.add(nw),t.add(uF)):2===n&&(t.add(nw),t.add(dF))}}}return i.\u0275fac=function(t){return new(t||i)(X(vi),X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),OQ=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(X(hF))},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[Hh,Yg]]}),i})();function pF(){return"undefined"!=typeof window&&void 0!==window.document}function iw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xa(i){switch(i.length){case 0:return new Bc;case 1:return i[0];default:return new vI(i)}}function mF(i,e,t,n,r={},s={}){const o=[],a=[];let l=-1,c=null;if(n.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let g=p,b=u[p];if("offset"!==p)switch(g=e.normalizePropertyName(g,o),b){case"!":b=r[p];break;case _o:b=s[p];break;default:b=e.normalizeStyleValue(p,g,b,o)}f[g]=b}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function rw(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&sw(t,"start",i)));break;case"done":i.onDone(()=>n(t&&sw(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&sw(t,"destroy",i)))}}function sw(i,e,t){const n=t.totalTime,s=ow(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==n?i.totalTime:n,!!t.disabled),o=i._data;return null!=o&&(s._data=o),s}function ow(i,e,t,n,r="",s=0,o){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function vr(i,e,t){let n;return i instanceof Map?(n=i.get(e),n||i.set(e,n=t)):(n=i[e],n||(n=i[e]=t)),n}function gF(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let aw=(i,e)=>!1,_F=(i,e,t)=>[];(iw()||"undefined"!=typeof Element)&&(aw=pF()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),_F=(i,e,t)=>{let n=[];if(t){const r=i.querySelectorAll(e);for(let s=0;s<r.length;s++)n.push(r[s])}else{const r=i.querySelector(e);r&&n.push(r)}return n});let vl=null,yF=!1;function lw(i){vl||(vl=("undefined"!=typeof document?document.body:null)||{},yF=!!vl.style&&"WebkitAppearance"in vl.style);let e=!0;return vl.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in vl.style,!e&&yF&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in vl.style)),e}const cw=aw,uw=_F;function vF(i){const e={};return Object.keys(i).forEach(t=>{const n=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=i[t]}),e}let bF=(()=>{class i{validateStyleProperty(t){return lw(t)}matchesElement(t,n){return!1}containsElement(t,n){return cw(t,n)}query(t,n,r){return uw(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,a=[],l){return new Bc(r,s)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})(),dw=(()=>{class i{}return i.NOOP=new bF,i})();const hw="ng-enter",Zg="ng-leave",Kg="ng-trigger",Qg=".ng-trigger",wF="ng-animating",fw=".ng-animating";function bl(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pw(parseFloat(e[1]),e[2])}function pw(i,e){return"s"===e?1e3*i:i}function Jg(i,e,t){return i.hasOwnProperty("duration")?i:function(i,e,t){let r,s=0,o="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};r=pw(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=pw(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=i;if(!t){let a=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${i}" is invalid.`)}return{duration:r,delay:s,easing:o}}(i,e,t)}function Nu(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function wa(i,e,t={}){if(e)for(let n in i)t[n]=i[n];else Nu(i,t);return t}function CF(i,e,t){return t?e+":"+t+";":""}function EF(i){let e="";for(let t=0;t<i.style.length;t++){const n=i.style.item(t);e+=CF(0,n,i.style.getPropertyValue(n))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=CF(0,WQ(t),i.style[t]));i.setAttribute("style",e)}function Gs(i,e,t){i.style&&(Object.keys(e).forEach(n=>{const r=gw(n);t&&!t.hasOwnProperty(n)&&(t[n]=i.style[r]),i.style[r]=e[n]}),iw()&&EF(i))}function xl(i,e){i.style&&(Object.keys(e).forEach(t=>{const n=gw(t);i.style[n]=""}),iw()&&EF(i))}function Kh(i){return Array.isArray(i)?1==i.length?i[0]:gI(i):i}const mw=new RegExp("{{\\s*(.+?)\\s*}}","g");function SF(i){let e=[];if("string"==typeof i){let t;for(;t=mw.exec(i);)e.push(t[1]);mw.lastIndex=0}return e}function e_(i,e,t){const n=i.toString(),r=n.replace(mw,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return r==n?i:r}function t_(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const GQ=/-+([a-z0-9])/g;function gw(i){return i.replace(GQ,(...e)=>e[1].toUpperCase())}function WQ(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function TF(i,e){return 0===i||0===e}function DF(i,e,t){const n=Object.keys(t);if(n.length&&e.length){let s=e[0],o=[];if(n.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=_w(i,l)})}}return e}function br(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function _w(i,e){return window.getComputedStyle(i)[e]}function jQ(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function(i,e,t){if(":"==i[0]){const l=function(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof l)return void e.push(l);i=l}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const r=n[1],s=n[2],o=n[3];e.push(AF(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(AF(o,r))}(n,t,e)):t.push(i),t}const i_=new Set(["true","1"]),r_=new Set(["false","0"]);function AF(i,e){const t=i_.has(i)||r_.has(i),n=i_.has(e)||r_.has(e);return(r,s)=>{let o="*"==i||i==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?i_.has(i):r_.has(i)),!a&&n&&"boolean"==typeof s&&(a=s?i_.has(e):r_.has(e)),o&&a}}const YQ=new RegExp("s*:selfs*,?","g");function yw(i,e,t){return new XQ(i).build(e,t)}class XQ{constructor(e){this._driver=e}build(e,t){const n=new QQ(t);return this._resetContextStyleTimingState(n),br(this,Kh(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);n+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};if(n.styles.forEach(a=>{if(s_(a)){const l=a;Object.keys(l).forEach(c=>{SF(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=t_(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=br(this,Kh(e.animation),t);return{type:1,matchers:jQ(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:wl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>br(this,n,t)),options:wl(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=n;const a=br(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:wl(e.options)}}visitAnimate(e,t){const n=function(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return vw(Jg(i,e).duration,0,"");const n=i;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=vw(0,0,"");return s.dynamic=!0,s.strValue=n,s}return t=t||Jg(n,e),vw(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,s=e.styles?e.styles:vt({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};n.easing&&(c.easing=n.easing),o=vt(c)}t.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==_o?n.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):n.push(o)}):n.push(e.styles);let r=!1,s=null;return n.forEach(o=>{if(s_(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),t.options&&function(i,e,t){const n=e.params||{},r=SF(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(_=>{const m=this._makeStyleAst(_,t);let w=null!=m.offset?m.offset:function(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(s_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(s_(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(m.styles),x=0;return null!=w&&(s++,x=m.offset=w),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),m});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,b=g.duration;return u.forEach((_,m)=>{const w=h>0?m==f?1:h*m:o[m],x=w*b;t.currentTime=p+g.delay+x,g.duration=x,this._validateStyleAst(_,t),_.offset=w,n.styles.push(_)}),n}visitReference(e,t){return{type:8,animation:br(this,Kh(e.animation),t),options:wl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wl(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(YQ,"")),i=i.replace(/@\*/g,Qg).replace(/@\w+/g,t=>Qg+"-"+t.substr(1)).replace(/:animating/g,fw),[i,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,vr(t.collectedStyles,t.currentQuerySelector,{});const a=br(this,Kh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:wl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Jg(e.timings,t.errors,!0);return{type:12,animation:br(this,Kh(e.animation),t),timings:n,options:null}}}class QQ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function s_(i){return!Array.isArray(i)&&"object"==typeof i}function wl(i){return i?(i=Nu(i)).params&&(i.params=function(i){return i?Nu(i):null}(i.params)):i={},i}function vw(i,e,t){return{duration:i,delay:e,easing:t}}function bw(i,e,t,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class o_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const iJ=new RegExp(":enter","g"),sJ=new RegExp(":leave","g");function xw(i,e,t,n,r,s={},o={},a,l,c=[]){return(new oJ).buildKeyframes(i,e,t,n,r,s,o,a,l,c)}class oJ{buildKeyframes(e,t,n,r,s,o,a,l,c,u=[]){c=c||new o_;const d=new ww(e,t,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),br(this,n,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[bw(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime;const o=null!=n.duration?bl(n.duration):null,a=null!=n.delay?bl(n.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),br(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=a_);const o=bl(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>br(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?bl(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),br(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Jg(t.params?e_(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?bl(r.delay):0;s&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=a_);let o=n;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),br(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;br(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}}const a_={};class ww{constructor(e,t,n,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=a_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new l_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=bl(n.duration)),null!=n.delay&&(r.delay=bl(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=e_(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,s=new ww(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=a_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},s=new aJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(iJ,"."+this._enterClassName)).replace(sJ,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class l_{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new l_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||_o,this._currentKeyframe[t]=_o}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function(i,e){const t={};let n;return i.forEach(r=>{"*"===r?(n=n||Object.keys(e),n.forEach(s=>{t[s]=_o})):wa(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=e_(o[a],s,n);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:_o),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(n=>{this._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(n=>{this._currentKeyframe.hasOwnProperty(n)||(this._currentKeyframe[n]=this._localTimelineStyles[n])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=wa(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==_o&&t.add(u)}),n||(c.offset=l/this.duration),r.push(c)});const s=e.size?t_(e.values()):[],o=t.size?t_(t.values()):[];if(n){const a=r[0],l=Nu(a);a.offset=0,l.offset=1,r=[a,l]}return bw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class aJ extends l_{constructor(e,t,n,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=n+t,a=t/o,l=wa(e[0],!1);l.offset=0,s.push(l);const c=wa(e[0],!1);c.offset=PF(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=wa(e[d],!1);h.offset=PF((t+h.offset*n)/o),s.push(h)}n=o,t=0,r="",e=s}return bw(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function PF(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class Mw{}class cJ extends Mw{normalizePropertyName(e,t){return gw(e)}normalizeStyleValue(e,t,n,r){let s="";const o=n.toString().trim();if(uJ[t]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+s}}const uJ=(()=>function(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function kF(i,e,t,n,r,s,o,a,l,c,u,d,h){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Cw={};class FF{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(i,e,t,n,r){return i.some(s=>s(e,t,n,r))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return s?s.buildStyles(t,n):o}build(e,t,n,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Cw,p=this.buildStyles(n,a&&a.params||Cw,d),g=l&&l.params||Cw,b=this.buildStyles(r,g,d),_=new Set,m=new Map,w=new Map,x="void"===r,C={params:Object.assign(Object.assign({},h),g)},D=u?[]:xw(e,t,this.ast.animation,s,o,p,b,C,c,d);let k=0;if(D.forEach(W=>{k=Math.max(W.duration+W.delay,k)}),d.length)return kF(t,this._triggerName,n,r,x,p,b,[],[],m,w,k,d);D.forEach(W=>{const z=W.element,V=vr(m,z,{});W.preStyleProps.forEach(A=>V[A]=!0);const S=vr(w,z,{});W.postStyleProps.forEach(A=>S[A]=!0),z!==t&&_.add(z)});const N=t_(_.values());return kF(t,this._triggerName,n,r,x,p,b,D,N,m,w,k)}}class fJ{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=Nu(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=e_(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),n[c]=l})}}),n}}class mJ{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new fJ(r.style,r.options&&r.options.params||{},n)}),LF(this.states,"true","1"),LF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new FF(e,r,this.states))}),this.fallbackTransition=function(i,e,t){return new FF(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(o=>o.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function LF(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const _J=new o_;class yJ{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=yw(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,s=mF(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=xw(this._driver,t,s,hw,Zg,{},{},n,_J,r),o.forEach(u=>{const d=vr(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,_o)})});const c=xa(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const s=ow(t,"","","");return rw(this._getPlayer(e),n,s,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const OF="ng-animate-queued",Ew="ng-animate-disabled",MJ=[],NF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wr="__ng_removed";class Sw{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(n?e.value:e),n){const s=Nu(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const Qh="void",Tw=new Sw(Qh);class EJ{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jr(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);const s=vr(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=vr(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(jr(e,Kg),jr(e,Kg+"-"+t),a[t]=Tw),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const s=this._getTrigger(t),o=new Dw(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(jr(e,Kg),jr(e,Kg+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new Sw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=Tw),c.value!==Qh&&l.value===c.value){if(!function(i,e){const t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],b=s.matchStyles(l.value,l.params,g),_=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{xl(e,b),Gs(e,_)})}return}const h=vr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(jr(e,OF),o.onStart(()=>{Bu(e,OF)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const b=this._engine.playersByElement.get(e);if(b){let _=b.indexOf(o);_>=0&&b.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Qg,!0);n.forEach(r=>{if(r[Wr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,Qh,r);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&xa(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=n[o]||Tw,u=new Sw(Qh),d=new Dw(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Wr];(!s||s===NF)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){jr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){const l=ow(s,n.triggerName,n.fromState.value,n.toState.value);l._data=e,rw(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class SJ{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new EJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const r=Object.keys(n);for(let s=0;s<r.length;s++){const o=n[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,n,r){if(c_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!c_(t))return;const s=t[Wr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),jr(e,Ew)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bu(e,Ew))}removeNode(e,t,n,r){if(c_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t[Wr]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,s){return c_(t)?this._fetchNamespace(e).listen(t,n,r,s):()=>{}}_buildInstruction(e,t,n,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Qg,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,fw,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xa(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const n=e[Wr];if(n&&n.setForRemoval){if(e[Wr]=NF,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Ew))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)jr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?xa(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new o_,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(L=>{u.add(L);const B=this.driver.query(L,".ng-animate-queued",!0);for(let K=0;K<B.length;K++)u.add(B[K])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=HF(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((L,B)=>{const K=hw+g++;p.set(B,K),L.forEach(ie=>jr(ie,K))});const b=[],_=new Set,m=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){const B=this.collectedLeaveElements[L],K=B[Wr];K&&K.setForRemoval&&(b.push(B),_.add(B),K.hasAnimation?this.driver.query(B,".ng-star-inserted",!0).forEach(ie=>_.add(ie)):m.add(B))}const w=new Map,x=HF(h,Array.from(_));x.forEach((L,B)=>{const K=Zg+g++;w.set(B,K),L.forEach(ie=>jr(ie,K))}),e.push(()=>{f.forEach((L,B)=>{const K=p.get(B);L.forEach(ie=>Bu(ie,K))}),x.forEach((L,B)=>{const K=w.get(B);L.forEach(ie=>Bu(ie,K))}),b.forEach(L=>{this.processLeaveNode(L)})});const C=[],D=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(t).forEach(K=>{const ie=K.player,Y=K.element;if(C.push(ie),this.collectedEnterElements.length){const qe=Y[Wr];if(qe&&qe.setForMove)return void ie.destroy()}const J=!d||!this.driver.containsElement(d,Y),ge=w.get(Y),ye=p.get(Y),me=this._buildInstruction(K,n,ye,ge,J);if(me.errors&&me.errors.length)return void D.push(me);if(J)return ie.onStart(()=>xl(Y,me.fromStyles)),ie.onDestroy(()=>Gs(Y,me.toStyles)),void r.push(ie);if(K.isFallbackTransition)return ie.onStart(()=>xl(Y,me.fromStyles)),ie.onDestroy(()=>Gs(Y,me.toStyles)),void r.push(ie);const Et=[];me.timelines.forEach(qe=>{qe.stretchStartingKeyframe=!0,this.disabledNodes.has(qe.element)||Et.push(qe)}),me.timelines=Et,n.append(Y,me.timelines),o.push({instruction:me,player:ie,element:Y}),me.queriedElements.forEach(qe=>vr(a,qe,[]).push(ie)),me.preStyleProps.forEach((qe,je)=>{const Le=Object.keys(qe);if(Le.length){let Ve=l.get(je);Ve||l.set(je,Ve=new Set),Le.forEach(It=>Ve.add(It))}}),me.postStyleProps.forEach((qe,je)=>{const Le=Object.keys(qe);let Ve=c.get(je);Ve||c.set(je,Ve=new Set),Le.forEach(It=>Ve.add(It))})});if(D.length){const L=[];D.forEach(B=>{L.push(`@${B.triggerName} has failed due to:\n`),B.errors.forEach(K=>L.push(`- ${K}\n`))}),C.forEach(B=>B.destroy()),this.reportError(L)}const k=new Map,N=new Map;o.forEach(L=>{const B=L.element;n.has(B)&&(N.set(B,B),this._beforeAnimationBuild(L.player.namespaceId,L.instruction,k))}),r.forEach(L=>{const B=L.element;this._getPreviousPlayers(B,!1,L.namespaceId,L.triggerName,null).forEach(ie=>{vr(k,B,[]).push(ie),ie.destroy()})});const W=b.filter(L=>UF(L,l,c)),z=new Map;VF(z,this.driver,m,c,_o).forEach(L=>{UF(L,l,c)&&W.push(L)});const S=new Map;f.forEach((L,B)=>{VF(S,this.driver,new Set(L),l,"!")}),W.forEach(L=>{const B=z.get(L),K=S.get(L);z.set(L,Object.assign(Object.assign({},B),K))});const A=[],H=[],G={};o.forEach(L=>{const{element:B,player:K,instruction:ie}=L;if(n.has(B)){if(u.has(B))return K.onDestroy(()=>Gs(B,ie.toStyles)),K.disabled=!0,K.overrideTotalTime(ie.totalTime),void r.push(K);let Y=G;if(N.size>1){let ge=B;const ye=[];for(;ge=ge.parentNode;){const me=N.get(ge);if(me){Y=me;break}ye.push(ge)}ye.forEach(me=>N.set(me,Y))}const J=this._buildAnimation(K.namespaceId,ie,k,s,S,z);if(K.setRealPlayer(J),Y===G)A.push(K);else{const ge=this.playersByElement.get(Y);ge&&ge.length&&(K.parentPlayer=xa(ge)),r.push(K)}}else xl(B,ie.fromStyles),K.onDestroy(()=>Gs(B,ie.toStyles)),H.push(K),u.has(B)&&r.push(K)}),H.forEach(L=>{const B=s.get(L.element);if(B&&B.length){const K=xa(B);L.setRealPlayer(K)}}),r.forEach(L=>{L.parentPlayer?L.syncPlayerEvents(L.parentPlayer):L.destroy()});for(let L=0;L<b.length;L++){const B=b[L],K=B[Wr];if(Bu(B,Zg),K&&K.hasAnimation)continue;let ie=[];if(a.size){let J=a.get(B);J&&J.length&&ie.push(...J);let ge=this.driver.query(B,fw,!0);for(let ye=0;ye<ge.length;ye++){let me=a.get(ge[ye]);me&&me.length&&ie.push(...me)}}const Y=ie.filter(J=>!J.destroyed);Y.length?IJ(this,B,Y):this.processLeaveNode(B)}return b.length=0,A.forEach(L=>{this.players.push(L),L.onDone(()=>{L.destroy();const B=this.players.indexOf(L);this.players.splice(B,1)}),L.play()}),A}elementContainsData(e,t){let n=!1;const r=t[Wr];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Qh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=vr(n,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}xl(s,t.fromStyles)}_buildAnimation(e,t,n,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const b=g[Wr];if(b&&b.removedBeforeQueried)return new Bc(p.duration,p.delay);const _=g!==l,m=function(i){const e=[];return zF(i,e),e}((n.get(g)||MJ).map(k=>k.getRealPlayer())).filter(k=>!!k.element&&k.element===g),w=s.get(g),x=o.get(g),C=mF(0,this._normalizer,0,p.keyframes,w,x),D=this._buildPlayer(p,C,m);if(p.subTimeline&&r&&d.add(g),_){const k=new Dw(e,a,g);k.setRealPlayer(D),c.push(k)}return D});c.forEach(p=>{vr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(i,e,t){let n;if(i instanceof Map){if(n=i.get(e),n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&i.delete(e)}}else if(n=i[e],n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&delete i[e]}return n}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>jr(p,wF));const f=xa(h);return f.onDestroy(()=>{u.forEach(p=>Bu(p,wF)),Gs(l,t.toStyles)}),d.forEach(p=>{vr(r,p,[]).push(f)}),f}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Bc(e.duration,e.delay)}}class Dw{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Bc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>rw(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function c_(i){return i&&1===i.nodeType}function BF(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function VF(i,e,t,n,r){const s=[];t.forEach(l=>s.push(BF(l)));const o=[];n.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,r);(!h||0==h.length)&&(c[Wr]=CJ,o.push(c))}),i.set(c,u)});let a=0;return t.forEach(l=>BF(l,s[a++])),o}function HF(i,e){const t=new Map;if(i.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function jr(i,e){var t;null===(t=i.classList)||void 0===t||t.add(e)}function Bu(i,e){var t;null===(t=i.classList)||void 0===t||t.remove(e)}function IJ(i,e,t){xa(t).onDone(()=>i.processLeaveNode(e))}function zF(i,e){for(let t=0;t<i.length;t++){const n=i[t];n instanceof vI?zF(n.players,e):e.push(n)}}function UF(i,e,t){const n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(s=>r.add(s)):e.set(i,n),t.delete(i),!0}class u_{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new SJ(e,t,n),this._timelineEngine=new yJ(e,t,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,n,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=yw(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(i,e,t){return new mJ(i,e,t)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[s,o]=gF(n);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,s){if("@"==n.charAt(0)){const[o,a]=gF(n);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,n,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function GF(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=Aw(e[0]),e.length>1&&(n=Aw(e[e.length-1]))):e&&(t=Aw(e)),t||n?new kJ(i,t,n):null}let kJ=(()=>{class i{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let s=i.initialStylesByElement.get(t);s||i.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Gs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gs(this._element,this._initialStyles),this._endStyles&&(Gs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(xl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xl(this._element,this._endStyles),this._endStyles=null),Gs(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Aw(i){let e=null;const t=Object.keys(i);for(let n=0;n<t.length;n++){const r=t[n];FJ(r)&&(e=e||{},e[r]=i[r])}return e}function FJ(i){return"display"===i||"position"===i}const WF="animation",jF="animationend";class NJ{constructor(e,t,n,r,s,o,a){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(i,e){const t=Rw(i,"").trim();let n=0;t.length&&(function(i,e){let t=0;for(let n=0;n<i.length;n++)","===i.charAt(n)&&t++;return t}(t)+1,e=`${t}, ${e}`),d_(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),YF(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){$F(this._element,this._name,"paused")}resume(){$F(this._element,this._name,"running")}setPosition(e){const t=qF(this._element,this._name);this._position=e*this._duration,d_(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),YF(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,e){const n=Rw(i,"").split(","),r=Iw(n,e);r>=0&&(n.splice(r,1),d_(i,"",n.join(",")))}(this._element,this._name))}}function $F(i,e,t){d_(i,"PlayState",t,qF(i,e))}function qF(i,e){const t=Rw(i,"");return t.indexOf(",")>0?Iw(t.split(","),e):Iw([t],e)}function Iw(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function YF(i,e,t){t?i.removeEventListener(jF,e):i.addEventListener(jF,e)}function d_(i,e,t,n){const r=WF+e;if(null!=n){const s=i.style[r];if(s.length){const o=s.split(",");o[n]=t,t=o.join(",")}}i.style[r]=t}function Rw(i,e){return i.style[WF+e]||""}class XF{constructor(e,t,n,r,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new NJ(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:_w(this.element,n))})}this.currentSnapshot=e}}class GJ extends Bc{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=vF(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class KF{constructor(){this._count=0}validateStyleProperty(e){return lw(e)}matchesElement(e,t){return!1}containsElement(e,t){return cw(e,t)}query(e,t,n){return uw(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(a=>vF(a));let r=`@keyframes ${t} {\n`,s="";n.forEach(a=>{s=" ";const l=parseFloat(a.offset);r+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(r+=`${s}animation-timing-function: ${u};\n`));default:return void(r+=`${s}${c}: ${u};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,n,r,s,o=[],a){const l=o.filter(b=>b instanceof XF),c={};TF(n,r)&&l.forEach(b=>{let _=b.currentSnapshot;Object.keys(_).forEach(m=>c[m]=_[m])});const u=function(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(n=>{Object.keys(n).forEach(r=>{"offset"==r||"easing"==r||(e[r]=n[r])})}),e}(t=DF(e,t,c));if(0==n)return new GJ(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(i){var e;const t=null===(e=i.getRootNode)||void 0===e?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=GF(e,t),g=new XF(e,t,d,n,r,s,u,p);return g.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(h)),g}}class JF{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(n=>{"offset"!=n&&(e[n]=this._finished?t[n]:_w(this.element,n))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class YJ{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(e2().toString()),this._cssKeyframesDriver=new KF}validateStyleProperty(e){return lw(e)}matchesElement(e,t){return!1}containsElement(e,t){return cw(e,t)}query(e,t,n){return uw(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,s,o);const u={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof JF);TF(n,r)&&h.forEach(p=>{let g=p.currentSnapshot;Object.keys(g).forEach(b=>d[b]=g[b])});const f=GF(e,t=DF(e,t=t.map(p=>wa(p,!1)),d));return new JF(e,t,u,f)}}function e2(){return pF()&&Element.prototype.animate||{}}let ZJ=(()=>{class i extends l0{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:Yr.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?gI(t):t;return t2(this._renderer,null,n,"register",[r]),new KJ(n,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(X(Id),X(yt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();class KJ extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new QJ(this._id,e,t||{},this._renderer)}}class QJ{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return t2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function t2(i,e,t,n,r){return i.setProperty(e,`@@${t}:${n}`,r)}const n2="@.disabled";let JJ=(()=>{class i{constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,n){const s=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let u=this._rendererCache.get(s);return u||(u=new r2("",s,this.engine),this._rendererCache.set(s,u)),u}const o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return n.data.animation.forEach(l),new eee(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){t>=0&&t<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(X(Id),X(u_),X(rt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();class r2{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==n2?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class eee extends r2{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==n2?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(e,t,n)}}let iee=(()=>{class i extends u_{constructor(t,n,r){super(t.body,n,r)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(X(yt),X(dw),X(Mw))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const Ki=new we("AnimationModuleType"),s2=[{provide:l0,useClass:ZJ},{provide:Mw,useFactory:function(){return new cJ}},{provide:u_,useClass:iee},{provide:Id,useFactory:function(i,e,t){return new JJ(i,e,t)},deps:[Hp,u_,rt]}],o2=[{provide:dw,useFactory:function(){return"function"==typeof e2()?new YJ:new KF}},{provide:Ki,useValue:"BrowserAnimations"},...s2],aee=[{provide:dw,useClass:bF},{provide:Ki,useValue:"NoopAnimations"},...s2];let lee=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?aee:o2}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({providers:o2,imports:[cD]}),i})();function cee(i,e){if(1&i&&be(0,"mat-pseudo-checkbox",4),2&i){const t=fe();j("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function uee(i,e){if(1&i&&(y(0,"span",5),M(1),v()),2&i){const t=fe();$(1),oo("(",t.group.label,")")}}const dee=["*"],fee=new we("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let un=(()=>{class i{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Yx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(X(hF),X(fee,8),X(yt))},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[Gh],Gh]}),i})();function Vu(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Wt(e)}}}function Ml(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const n=t||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function Hu(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Wt(e)}}}function Pw(i,e=0){return class extends i{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?yr(t):this.defaultTabIndex}}}function l2(i){return class extends i{constructor(...e){super(...e),this.stateChanges=new Ke,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let kw=(()=>{class i{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),mee=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),i})();function Jh(i,e,t){i.nativeElement.classList.toggle(e,t)}let c2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[un],un]}),i})();class _ee{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const u2={enterDuration:225,exitDuration:150},Fw=Fu({passive:!0}),d2=["mousedown","touchstart"],h2=["mouseup","mouseleave","touchend","touchcancel"];class vee{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Fo(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},u2),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=n.radius||function(i,e,t){const n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new _ee(this,u,n);return d.state=0,this._activeRipples.add(d),n.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!n.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},u2),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Fo(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(d2))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(h2),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=aF(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!lF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Fw)})})}_removeTriggerEvents(){this._triggerElement&&(d2.forEach(e=>{this._triggerElement.removeEventListener(e,this,Fw)}),this._pointerUpEventsRegistered&&h2.forEach(e=>{this._triggerElement.removeEventListener(e,this,Fw)}))}}const wee=new we("mat-ripple-global-options");let Cl=(()=>{class i{constructor(t,n,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new vee(this,n,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(rt),T(vi),T(wee,8),T(Ki,8))},i.\u0275dir=Te({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,n){2&t&&Lt("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),ef=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[un,Hh],un]}),i})(),f2=(()=>{class i{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(t){return new(t||i)(T(Ki,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,n){2&t&&Lt("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,n){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),Lw=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[un]]}),i})();const p2=new we("MAT_OPTION_PARENT_COMPONENT"),m2=new we("MatOptgroup");let Mee=0;class Cee{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Eee=(()=>{class i{constructor(t,n,r,s){this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Mee++,this.onSelectionChange=new $e,this._stateChanges=new Ke}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Wt(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!zs(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Cee(this,t))}}return i.\u0275fac=function(t){op()},i.\u0275dir=Te({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),Ow=(()=>{class i extends Eee{constructor(t,n,r,s){super(t,n,r,s)}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Vn),T(p2,8),T(m2,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,n){1&t&&ue("click",function(){return n._selectViaInteraction()})("keydown",function(s){return n._handleKeydown(s)}),2&t&&(vc("id",n.id),tn("tabindex",n._getTabIndex())("aria-selected",n._getAriaSelected())("aria-disabled",n.disabled.toString()),Lt("mat-selected",n.selected)("mat-option-multiple",n.multiple)("mat-active",n.active)("mat-option-disabled",n.disabled))},exportAs:["matOption"],features:[Je],ngContentSelectors:dee,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,n){1&t&&(oi(),ze(0,cee,1,2,"mat-pseudo-checkbox",0),y(1,"span",1),Kt(2),v(),ze(3,uee,2,1,"span",2),be(4,"div",3)),2&t&&(j("ngIf",n.multiple),$(3),j("ngIf",n.group&&n.group._inert),$(1),j("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},directives:[tr,Cl,f2],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function g2(i,e,t){if(t.length){let n=e.toArray(),r=t.toArray(),s=0;for(let o=0;o<i+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}let _2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[ef,fr,un,Lw]]}),i})();function Tee(i,e){1&i&&Kt(0)}const y2=["*"];function Dee(i,e){}const Aee=function(i){return{animationDuration:i}},Iee=function(i,e){return{value:i,params:e}},Ree=["tabListContainer"],Pee=["tabList"],kee=["tabListInner"],Fee=["nextPaginator"],Lee=["previousPaginator"],Oee=["tabBodyWrapper"],Nee=["tabHeader"];function Bee(i,e){}function Vee(i,e){1&i&&ze(0,Bee,0,0,"ng-template",9),2&i&&j("cdkPortalOutlet",fe().$implicit.templateLabel)}function Hee(i,e){1&i&&M(0),2&i&&vn(fe().$implicit.textLabel)}function zee(i,e){if(1&i){const t=ln();y(0,"div",6),ue("click",function(){const r=Ye(t),s=r.$implicit,o=r.index,a=fe(),l=Ar(1);return a._handleClick(s,l,o)})("cdkFocusChange",function(r){const o=Ye(t).index;return fe()._tabFocusChanged(r,o)}),y(1,"div",7),ze(2,Vee,1,1,"ng-template",8),ze(3,Hee,1,1,"ng-template",8),v(),v()}if(2&i){const t=e.$implicit,n=e.index,r=fe();Lt("mat-tab-label-active",r.selectedIndex==n),j("id",r._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||r.disableRipple),tn("tabIndex",r._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),$(2),j("ngIf",t.templateLabel),$(1),j("ngIf",!t.templateLabel)}}function Uee(i,e){if(1&i){const t=ln();y(0,"mat-tab-body",10),ue("_onCentered",function(){return Ye(t),fe()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return Ye(t),fe()._setTabBodyWrapperHeight(r)}),v()}if(2&i){const t=e.$implicit,n=e.index,r=fe();Lt("mat-tab-body-active",r.selectedIndex===n),j("id",r._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration),tn("tabindex",null!=r.contentTabIndex&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))}}const Gee=new we("MatInkBarPositioner",{providedIn:"root",factory:function(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let v2=(()=>{class i{constructor(t,n,r,s){this._elementRef=t,this._ngZone=n,this._inkBarPositioner=r,this._animationMode=s}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const n=this._inkBarPositioner(t),r=this._elementRef.nativeElement;r.style.left=n.left,r.style.width=n.width}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(rt),T(Gee),T(Ki,8))},i.\u0275dir=Te({type:i,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,n){2&t&&Lt("_mat-animation-noopable","NoopAnimations"===n._animationMode)}}),i})();const b2=new we("MatTabContent");let tf=(()=>{class i{constructor(t){this.template=t}}return i.\u0275fac=function(t){return new(t||i)(T(hr))},i.\u0275dir=Te({type:i,selectors:[["","matTabContent",""]],features:[Ut([{provide:b2,useExisting:i}])]}),i})();const jee=new we("MatTabLabel"),$ee=new we("MAT_TAB"),qee=Vu(class{}),x2=new we("MAT_TAB_GROUP");let zu=(()=>{class i extends qee{constructor(t,n){super(),this._viewContainerRef=t,this._closestTabGroup=n,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ke,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Wx(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return i.\u0275fac=function(t){return new(t||i)(T(qi),T(x2,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-tab"]],contentQueries:function(t,n,r){if(1&t&&(cn(r,jee,5),cn(r,b2,7,hr)),2&t){let s;Ne(s=Be())&&(n.templateLabel=s.first),Ne(s=Be())&&(n._explicitContent=s.first)}},viewQuery:function(t,n){if(1&t&&Vt(hr,7),2&t){let r;Ne(r=Be())&&(n._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[Ut([{provide:$ee,useExisting:i}]),Je,ii],ngContentSelectors:y2,decls:1,vars:0,template:function(t,n){1&t&&(oi(),ze(0,Tee,1,0,"ng-template"))},encapsulation:2}),i})();const Yee={translateTab:Br("translateTab",[cs("center, void, left-origin-center, right-origin-center",vt({transform:"none"})),cs("left",vt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),cs("right",vt({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Hn("* => left, * => right, left => center, right => center",In("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Hn("void => left-origin-center",[vt({transform:"translate3d(-100%, 0, 0)"}),In("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Hn("void => right-origin-center",[vt({transform:"translate3d(100%, 0, 0)"}),In("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Xee=(()=>{class i extends jx{constructor(t,n,r,s){super(t,n,s),this._host=r,this._centeringSub=nt.EMPTY,this._leavingSub=nt.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Or(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(T(ao),T(qi),T(qt(()=>w2)),T(yt))},i.\u0275dir=Te({type:i,selectors:[["","matTabBodyHost",""]],features:[Je]}),i})(),Zee=(()=>{class i{constructor(t,n,r){this._elementRef=t,this._dir=n,this._dirChangeSubscription=nt.EMPTY,this._translateTabComplete=new Ke,this._onCentering=new $e,this._beforeCentering=new $e,this._afterLeavingCenter=new $e,this._onCentered=new $e(!0),this.animationDuration="500ms",n&&(this._dirChangeSubscription=n.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(qg((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const n=this._isCenterPosition(t.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const n=this._getLayoutDirection();return"ltr"==n&&t<=0||"rtl"==n&&t>0?"left-origin-center":"right-origin-center"}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Gr,8),T(Vn))},i.\u0275dir=Te({type:i,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),i})(),w2=(()=>{class i extends Zee{constructor(t,n,r){super(t,n,r)}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Gr,8),T(Vn))},i.\u0275cmp=kt({type:i,selectors:[["mat-tab-body"]],viewQuery:function(t,n){if(1&t&&Vt(jx,5),2&t){let r;Ne(r=Be())&&(n._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[Je],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,n){1&t&&(y(0,"div",0,1),ue("@translateTab.start",function(s){return n._onTranslateTabStarted(s)})("@translateTab.done",function(s){return n._translateTabComplete.next(s)}),ze(2,Dee,0,0,"ng-template",2),v()),2&t&&j("@translateTab",pp(3,Iee,n._position,Rs(1,Aee,n.animationDuration)))},directives:[Xee],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Yee.translateTab]}}),i})();const M2=new we("MAT_TABS_CONFIG"),Kee=Vu(class{});let C2=(()=>{class i extends Kee{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return i.\u0275fac=function(t){return new(t||i)(T(dt))},i.\u0275dir=Te({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,n){2&t&&(tn("aria-disabled",!!n.disabled),Lt("mat-tab-disabled",n.disabled))},inputs:{disabled:"disabled"},features:[Je]}),i})();const E2=Fu({passive:!0});let ete=(()=>{class i{constructor(t,n,r,s,o,a,l){this._elementRef=t,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ke,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ke,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new $e,this.indexFocused=new $e,o.runOutsideAngular(()=>{ba(t.nativeElement,"mouseleave").pipe(Qt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=yr(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){ba(this._previousPaginator.nativeElement,"touchstart",E2).pipe(Qt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ba(this._nextPaginator.nativeElement,"touchstart",E2).pipe(Qt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Qe("ltr"),n=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new iF(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(r):r(),vs(t,n,this._items.changes).pipe(Qt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(r)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Qt(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!zs(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const n=this._items?this._items.toArray()[t]:null;return!!n&&!n.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const n=this._items?this._items.toArray()[t]:null;if(!n)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=n.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=s,l=a+o):(l=this._tabListInner.nativeElement.offsetWidth-s,a=l-o);const c=this.scrollDistance,u=this.scrollDistance+r;a<c?this.scrollDistance-=c-a+60:l>u&&(this.scrollDistance+=l-u+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=t?t.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),Ek(650,100).pipe(Qt(vs(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Vn),T(_l),T(Gr,8),T(rt),T(vi),T(Ki,8))},i.\u0275dir=Te({type:i,inputs:{disablePagination:"disablePagination"}}),i})(),tte=(()=>{class i extends ete{constructor(t,n,r,s,o,a,l){super(t,n,r,s,o,a,l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Wt(t)}_itemSelected(t){t.preventDefault()}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Vn),T(_l),T(Gr,8),T(rt),T(vi),T(Ki,8))},i.\u0275dir=Te({type:i,inputs:{disableRipple:"disableRipple"},features:[Je]}),i})(),nte=(()=>{class i extends tte{constructor(t,n,r,s,o,a,l){super(t,n,r,s,o,a,l)}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Vn),T(_l),T(Gr,8),T(rt),T(vi),T(Ki,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-tab-header"]],contentQueries:function(t,n,r){if(1&t&&cn(r,C2,4),2&t){let s;Ne(s=Be())&&(n._items=s)}},viewQuery:function(t,n){if(1&t&&(Vt(v2,7),Vt(Ree,7),Vt(Pee,7),Vt(kee,7),Vt(Fee,5),Vt(Lee,5)),2&t){let r;Ne(r=Be())&&(n._inkBar=r.first),Ne(r=Be())&&(n._tabListContainer=r.first),Ne(r=Be())&&(n._tabList=r.first),Ne(r=Be())&&(n._tabListInner=r.first),Ne(r=Be())&&(n._nextPaginator=r.first),Ne(r=Be())&&(n._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,n){2&t&&Lt("mat-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Je],ngContentSelectors:y2,decls:14,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,n){1&t&&(oi(),y(0,"div",0,1),ue("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(s){return n._handlePaginatorPress("before",s)})("touchend",function(){return n._stopInterval()}),be(2,"div",2),v(),y(3,"div",3,4),ue("keydown",function(s){return n._handleKeydown(s)}),y(5,"div",5,6),ue("cdkObserveContent",function(){return n._onContentChanges()}),y(7,"div",7,8),Kt(9),v(),be(10,"mat-ink-bar"),v(),v(),y(11,"div",9,10),ue("mousedown",function(s){return n._handlePaginatorPress("after",s)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),be(13,"div",2),v()),2&t&&(Lt("mat-tab-header-pagination-disabled",n._disableScrollBefore),j("matRippleDisabled",n._disableScrollBefore||n.disableRipple),$(5),Lt("_mat-animation-noopable","NoopAnimations"===n._animationMode),$(6),Lt("mat-tab-header-pagination-disabled",n._disableScrollAfter),j("matRippleDisabled",n._disableScrollAfter||n.disableRipple))},directives:[Cl,tw,v2],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),i})(),ite=0;class rte{}const ste=Ml(Hu(class{constructor(i){this._elementRef=i}}),"primary");let ote=(()=>{class i extends ste{constructor(t,n,r,s){var o;super(t),this._changeDetectorRef=n,this._animationMode=s,this._tabs=new Va,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=nt.EMPTY,this._tabLabelSubscription=nt.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new $e,this.focusChange=new $e,this.animationDone=new $e,this.selectedTabChange=new $e(!0),this._groupId=ite++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(o=null==r?void 0:r.contentTabIndex)&&void 0!==o?o:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Wt(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=yr(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=yr(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const n=this._elementRef.nativeElement;n.classList.remove(`mat-background-${this.backgroundColor}`),t&&n.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),n||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-t,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const n=this._tabs.toArray();for(let r=0;r<n.length;r++)if(n[r].isActive){this._indexToSelect=this._selectedIndex=r;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Or(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(t){const n=this._tabHeader;n&&(n.focusIndex=t)}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const n=new rte;return n.index=t,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[t]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=vs(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,n,r){t.disabled||(this.selectedIndex=n.focusIndex=r)}_getTabIndex(t,n){return t.disabled?null:this.selectedIndex===n?0:-1}_tabFocusChanged(t,n){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=n)}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Vn),T(M2,8),T(Ki,8))},i.\u0275dir=Te({type:i,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Je]}),i})(),nf=(()=>{class i extends ote{constructor(t,n,r,s){super(t,n,r,s)}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Vn),T(M2,8),T(Ki,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-tab-group"]],contentQueries:function(t,n,r){if(1&t&&cn(r,zu,5),2&t){let s;Ne(s=Be())&&(n._allTabs=s)}},viewQuery:function(t,n){if(1&t&&(Vt(Oee,5),Vt(Nee,5)),2&t){let r;Ne(r=Be())&&(n._tabBodyWrapper=r.first),Ne(r=Be())&&(n._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,n){2&t&&Lt("mat-tab-group-dynamic-height",n.dynamicHeight)("mat-tab-group-inverted-header","below"===n.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Ut([{provide:x2,useExisting:i}]),Je],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,n){1&t&&(y(0,"mat-tab-header",0,1),ue("indexFocused",function(s){return n._focusChanged(s)})("selectFocusedIndex",function(s){return n.selectedIndex=s}),ze(2,zee,4,14,"div",2),v(),y(3,"div",3,4),ze(5,Uee,1,9,"mat-tab-body",5),v()),2&t&&(j("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),$(2),j("ngForOf",n._tabs),$(1),Lt("_mat-animation-noopable","NoopAnimations"===n._animationMode),$(2),j("ngForOf",n._tabs))},directives:[nte,qo,C2,Cl,LQ,tr,jx,w2],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),i})(),ate=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr,un,vk,ef,Yg,OQ],un]}),i})(),rf=(()=>{class i{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Wt(t)}get inset(){return this._inset}set inset(t){this._inset=Wt(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=kt({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,n){2&t&&(tn("aria-orientation",n.vertical?"vertical":"horizontal"),Lt("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,n){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),i})(),T2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[un],un]}),i})();var lte=Me(83);Me(668),Me(890);const cte=["codeEl"],ute=["*"];let sf=(()=>{class i{constructor(){this.language=""}ngAfterViewInit(){this.codeEl&&(0,lte.highlightElement)(this.codeEl.nativeElement)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=kt({type:i,selectors:[["app-code-block"]],viewQuery:function(t,n){if(1&t&&Vt(cte,5),2&t){let r;Ne(r=Be())&&(n.codeEl=r.first)}},inputs:{language:"language"},ngContentSelectors:ute,decls:4,vars:3,consts:[["codeEl",""]],template:function(t,n){1&t&&(oi(),y(0,"pre"),y(1,"code",null,0),Kt(3),v(),v()),2&t&&($(1),gv("language-",n.language,""))},styles:[""]}),i})();const dte=["mat-button",""],hte=["*"],pte=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],mte=Ml(Vu(Hu(class{constructor(i){this._elementRef=i}})));let af=(()=>{class i extends mte{constructor(t,n,r){super(t),this._focusMonitor=n,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of pte)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,n){t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(n=>this._getHostElement().hasAttribute(n))}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Ou),T(Ki,8))},i.\u0275cmp=kt({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,n){if(1&t&&Vt(Cl,5),2&t){let r;Ne(r=Be())&&(n.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,n){2&t&&(tn("disabled",n.disabled||null),Lt("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-button-disabled",n.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Je],attrs:dte,ngContentSelectors:hte,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,n){1&t&&(oi(),y(0,"span",0),Kt(1),v(),be(2,"span",1),be(3,"span",2)),2&t&&($(2),Lt("mat-button-ripple-round",n.isRoundButton||n.isIconButton),j("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",n.isIconButton)("matRippleTrigger",n._getHostElement()))},directives:[Cl],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),gte=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[ef,un],un]}),i})();class _te{}class Ma{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),s=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ma?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ma;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ma?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class yte{encodeKey(e){return D2(e)}encodeValue(e){return D2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bte=/%(\d[a-f0-9])/gi,xte={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function D2(i){return encodeURIComponent(i).replace(bte,(e,t)=>{var n;return null!==(n=xte[t])&&void 0!==n?n:e})}function A2(i){return`${i}`}class Ca{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yte,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ca({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(A2(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const r=n.indexOf(A2(e.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class wte{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function I2(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function R2(i){return"undefined"!=typeof Blob&&i instanceof Blob}function P2(i){return"undefined"!=typeof FormData&&i instanceof FormData}class lf{constructor(e,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ma),this.context||(this.context=new wte),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ca,this.urlWithParams=t}serializeBody(){return null===this.body?null:I2(this.body)||R2(this.body)||P2(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ca?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||P2(this.body)?null:R2(this.body)?this.body.type||null:I2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ca?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new lf(n,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Ri=(()=>((Ri=Ri||{})[Ri.Sent=0]="Sent",Ri[Ri.UploadProgress=1]="UploadProgress",Ri[Ri.ResponseHeader=2]="ResponseHeader",Ri[Ri.DownloadProgress=3]="DownloadProgress",Ri[Ri.Response=4]="Response",Ri[Ri.User=5]="User",Ri))();class Nw extends class{constructor(e,t=200,n="OK"){this.headers=e.headers||new Ma,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Ri.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Nw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Bw(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let F2=(()=>{class i{constructor(t){this.handler=t}request(t,n,r={}){let s;if(t instanceof lf)s=t;else{let l,c;l=r.headers instanceof Ma?r.headers:new Ma(r.headers),r.params&&(c=r.params instanceof Ca?r.params:new Ca({fromObject:r.params})),s=new lf(t,n,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Qe(s).pipe(Pc(l=>this.handler.handle(l)));if(t instanceof lf||"events"===r.observe)return o;const a=o.pipe(Ci(l=>l instanceof Nw));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ft(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ft(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ft(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ft(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new Ca).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,r={}){return this.request("PATCH",t,Bw(r,n))}post(t,n,r={}){return this.request("POST",t,Bw(r,n))}put(t,n,r={}){return this.request("PUT",t,Bw(r,n))}}return i.\u0275fac=function(t){return new(t||i)(X(_te))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})();const Tte=["*"];let f_;function cf(i){var e;return(null===(e=function(){if(void 0===f_&&(f_=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(f_=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return f_}())||void 0===e?void 0:e.createHTML(i))||i}function L2(i){return Error(`Unable to find icon with the name "${i}"`)}function O2(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function N2(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class El{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let p_=(()=>{class i{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new El(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const o=this._sanitizer.sanitize(en.HTML,r);if(!o)throw N2(r);const a=cf(o);return this._addSvgIconConfig(t,n,new El("",a,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new El(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(en.HTML,n);if(!s)throw N2(n);const o=cf(s);return this._addSvgIconSetConfig(t,new El("",o,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(en.RESOURCE_URL,t);if(!n)throw O2(t);const r=this._cachedIconsByUrl.get(n);return r?Qe(m_(r)):this._loadSvgIconFromConfig(new El(t,null)).pipe(An(s=>this._cachedIconsByUrl.set(n,s)),ft(s=>m_(s)))}getNamedSvgIcon(t,n=""){const r=B2(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):mk(L2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Qe(m_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ft(n=>m_(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);return r?Qe(r):mD(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ko(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(en.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Qe(null)})))).pipe(ft(()=>{const o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw L2(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(An(n=>t.svgText=n),ft(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Qe(null):this._fetchIcon(t).pipe(An(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(cf("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(cf("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&n.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){var n;const{url:r,options:s}=t,o=null!==(n=null==s?void 0:s.withCredentials)&&void 0!==n&&n;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(en.RESOURCE_URL,r);if(!a)throw O2(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ft(u=>cf(u)),gA(()=>this._inProgressUrlFetches.delete(a)),Kw());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(B2(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return Rte(s)?new El(s.url,null,s.options):new El(s,null)}}}return i.\u0275fac=function(t){return new(t||i)(X(F2,8),X(_b),X(yt,8),X(io))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function m_(i){return i.cloneNode(!0)}function B2(i,e){return i+":"+e}function Rte(i){return!(!i.url||!i.options)}const Pte=Ml(class{constructor(i){this._elementRef=i}}),kte=new we("mat-icon-location",{providedIn:"root",factory:function(){const i=sy(yt),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),V2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lte=V2.map(i=>`[${i}]`).join(", "),Ote=/^url\(['"]?#(.*?)['"]?\)$/;let uf=(()=>{class i extends Pte{constructor(t,n,r,s,o){super(t),this._iconRegistry=n,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=nt.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Wt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=t.querySelectorAll("style");for(let s=0;s<n.length;s++)n[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),n&&t.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(Lte),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)V2.forEach(o=>{const a=n[s],l=a.getAttribute(o),c=l?l.match(Ote):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Lr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(p_),ws("aria-hidden"),T(kte),T(io))},i.\u0275cmp=kt({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,n){2&t&&(tn("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),Lt("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Je],ngContentSelectors:Tte,decls:1,vars:0,template:function(t,n){1&t&&(oi(),Kt(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),Nte=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[un],un]}),i})();const Bte=["connectionContainer"],Vte=["inputContainer"],Hte=["label"];function zte(i,e){1&i&&(Ir(0),y(1,"div",14),be(2,"div",15),be(3,"div",16),be(4,"div",17),v(),y(5,"div",18),be(6,"div",15),be(7,"div",16),be(8,"div",17),v(),Rr())}function Ute(i,e){if(1&i){const t=ln();y(0,"div",19),ue("cdkObserveContent",function(){return Ye(t),fe().updateOutlineGap()}),Kt(1,1),v()}2&i&&j("cdkObserveContentDisabled","outline"!=fe().appearance)}function Gte(i,e){if(1&i&&(Ir(0),Kt(1,2),y(2,"span"),M(3),v(),Rr()),2&i){const t=fe(2);$(3),vn(t._control.placeholder)}}function Wte(i,e){1&i&&Kt(0,3,["*ngSwitchCase","true"])}function jte(i,e){1&i&&(y(0,"span",23),M(1," *"),v())}function $te(i,e){if(1&i){const t=ln();y(0,"label",20,21),ue("cdkObserveContent",function(){return Ye(t),fe().updateOutlineGap()}),ze(2,Gte,4,1,"ng-container",12),ze(3,Wte,1,0,"ng-content",12),ze(4,jte,2,0,"span",22),v()}if(2&i){const t=fe();Lt("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),j("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),tn("for",t._control.id)("aria-owns",t._control.id),$(2),j("ngSwitchCase",!1),$(1),j("ngSwitchCase",!0),$(1),j("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function qte(i,e){1&i&&(y(0,"div",24),Kt(1,4),v())}function Yte(i,e){if(1&i&&(y(0,"div",25),be(1,"span",26),v()),2&i){const t=fe();$(1),Lt("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Xte(i,e){1&i&&(y(0,"div"),Kt(1,5),v()),2&i&&j("@transitionMessages",fe()._subscriptAnimationState)}function Zte(i,e){if(1&i&&(y(0,"div",30),M(1),v()),2&i){const t=fe(2);j("id",t._hintLabelId),$(1),vn(t.hintLabel)}}function Kte(i,e){if(1&i&&(y(0,"div",27),ze(1,Zte,2,2,"div",28),Kt(2,6),be(3,"div",29),Kt(4,7),v()),2&i){const t=fe();j("@transitionMessages",t._subscriptAnimationState),$(1),j("ngIf",t.hintLabel)}}const Qte=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Jte=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],ene=new we("MatError"),tne={transitionMessages:Br("transitionMessages",[cs("enter",vt({opacity:1,transform:"translateY(0%)"})),Hn("void => enter",[vt({opacity:0,transform:"translateY(-5px)"}),In("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let g_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i}),i})();const nne=new we("MatHint");let df=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i,selectors:[["mat-label"]]}),i})(),ine=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i,selectors:[["mat-placeholder"]]}),i})();const rne=new we("MatPrefix"),sne=new we("MatSuffix");let H2=0;const ane=Ml(class{constructor(i){this._elementRef=i}},"primary"),lne=new we("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Vw=new we("MatFormField");let Hw=(()=>{class i extends ane{constructor(t,n,r,s,o,a,l){super(t),this._changeDetectorRef=n,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ke,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+H2++,this._labelId="mat-form-field-label-"+H2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const n=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&n!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Wt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Or(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Qt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),vs(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Or(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Or(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Qt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const n=this._control?this._control.ngControl:null;return n&&n[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ba(this._label.nativeElement,"transitionend").pipe(Lr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let n=0,r=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),u=t.children,d=this._getStartEnd(u[0].getBoundingClientRect());let h=0;for(let f=0;f<u.length;f++)h+=u[f].offsetWidth;n=Math.abs(d-c)-5,r=h>0?.75*h+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${n}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Vn),T(Gr,8),T(lne,8),T(vi),T(rt),T(Ki,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-form-field"]],contentQueries:function(t,n,r){if(1&t&&(cn(r,g_,5),cn(r,g_,7),cn(r,df,5),cn(r,df,7),cn(r,ine,5),cn(r,ene,5),cn(r,nne,5),cn(r,rne,5),cn(r,sne,5)),2&t){let s;Ne(s=Be())&&(n._controlNonStatic=s.first),Ne(s=Be())&&(n._controlStatic=s.first),Ne(s=Be())&&(n._labelChildNonStatic=s.first),Ne(s=Be())&&(n._labelChildStatic=s.first),Ne(s=Be())&&(n._placeholderChild=s.first),Ne(s=Be())&&(n._errorChildren=s),Ne(s=Be())&&(n._hintChildren=s),Ne(s=Be())&&(n._prefixChildren=s),Ne(s=Be())&&(n._suffixChildren=s)}},viewQuery:function(t,n){if(1&t&&(Vt(Bte,7),Vt(Vte,5),Vt(Hte,5)),2&t){let r;Ne(r=Be())&&(n._connectionContainerRef=r.first),Ne(r=Be())&&(n._inputContainerRef=r.first),Ne(r=Be())&&(n._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,n){2&t&&Lt("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ut([{provide:Vw,useExisting:i}]),Je],ngContentSelectors:Jte,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,n){1&t&&(oi(Qte),y(0,"div",0),y(1,"div",1,2),ue("click",function(s){return n._control.onContainerClick&&n._control.onContainerClick(s)}),ze(3,zte,9,0,"ng-container",3),ze(4,Ute,2,1,"div",4),y(5,"div",5,6),Kt(7),y(8,"span",7),ze(9,$te,5,16,"label",8),v(),v(),ze(10,qte,2,0,"div",9),v(),ze(11,Yte,2,4,"div",10),y(12,"div",11),ze(13,Xte,2,1,"div",12),ze(14,Kte,5,2,"div",13),v(),v()),2&t&&($(3),j("ngIf","outline"==n.appearance),$(1),j("ngIf",n._prefixChildren.length),$(5),j("ngIf",n._hasFloatingLabel()),$(1),j("ngIf",n._suffixChildren.length),$(1),j("ngIf","outline"!=n.appearance),$(1),j("ngSwitch",n._getDisplayedMessages()),$(1),j("ngSwitchCase","error"),$(1),j("ngSwitchCase","hint"))},directives:[tr,Hd,ab,tw],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[tne.transitionMessages]},changeDetection:0}),i})(),zw=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr,un,Yg],un]}),i})();const U2=Fu({passive:!0});let cne=(()=>{class i{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Wa;const n=Fo(t),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new Ke,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,U2),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",a,U2)}}),s}stopMonitoring(t){const n=Fo(t),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}}return i.\u0275fac=function(t){return new(t||i)(X(vi),X(rt))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),G2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[Hh]]}),i})();const une=new we("MAT_INPUT_VALUE_ACCESSOR"),dne=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hne=0;const fne=l2(class{constructor(i,e,t,n){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=t,this.ngControl=n}});let Uw=(()=>{class i extends fne{constructor(t,n,r,s,o,a,l,c,u,d){super(a,s,o,r),this._elementRef=t,this._platform=n,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+hne++,this.focused=!1,this.stateChanges=new Ke,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>Dk().has(p));const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",p=>{const g=p.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Wt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,n,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===r?void 0:r.hasValidator(vD.required))&&void 0!==s&&s}set required(t){this._required=Wt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Dk().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Wt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,n;const r=(null===(n=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===n?void 0:n.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){dne.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(vi),T(Ps,10),T(Xd,8),T(Kd,8),T(kw),T(une,10),T(cne),T(rt),T(Vw,8))},i.\u0275dir=Te({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,n){1&t&&ue("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&t&&(vc("disabled",n.disabled)("required",n.required),tn("id",n.id)("data-placeholder",n.placeholder)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required),Lt("mat-input-server",n._isServer)("mat-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ut([{provide:g_,useExisting:i}]),Je,ii]}),i})(),pne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({providers:[kw],imports:[[G2,zw,un],G2,zw]}),i})();const mne=["sliderWrapper"],$r=Fu({passive:!1}),bne={provide:pr,useExisting:qt(()=>__),multi:!0};class xne{}const wne=Pw(Ml(Vu(class{constructor(i){this._elementRef=i}}),"accent"));let __=(()=>{class i extends wne{constructor(t,n,r,s,o,a,l,c){super(t),this._focusMonitor=n,this._changeDetectorRef=r,this._dir=s,this._ngZone=a,this._animationMode=c,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new $e,this.input=new $e,this.valueChange=new $e,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=nt.EMPTY,this._pointerDown=u=>{this.disabled||this._isSliding||!hf(u)&&0!==u.button||this._ngZone.run(()=>{this._touchId=hf(u)?function(i,e){for(let t=0;t<i.touches.length;t++){const n=i.touches[t].target;if(e===n||e.contains(n))return i.touches[t].identifier}}(u,this._elementRef.nativeElement):void 0;const d=W2(u,this._touchId);if(d){const h=this.value;this._isSliding="pointer",this._lastPointerEvent=u,u.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(u),this._focusHostElement(),this._updateValueFromPosition(d),this._valueOnSlideStart=h,h!=this.value&&this._emitInputEvent()}})},this._pointerMove=u=>{if("pointer"===this._isSliding){const d=W2(u,this._touchId);if(d){u.preventDefault();const h=this.value;this._lastPointerEvent=u,this._updateValueFromPosition(d),h!=this.value&&this._emitInputEvent()}}},this._pointerUp=u=>{"pointer"===this._isSliding&&(!hf(u)||"number"!=typeof this._touchId||Gw(u.changedTouches,this._touchId))&&(u.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=l,this.tabIndex=parseInt(o)||0,a.runOutsideAngular(()=>{const u=t.nativeElement;u.addEventListener("mousedown",this._pointerDown,$r),u.addEventListener("touchstart",this._pointerDown,$r)})}get invert(){return this._invert}set invert(t){this._invert=Wt(t)}get max(){return this._max}set max(t){this._max=yr(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=yr(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=yr(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Wt(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?yr(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let n=yr(t,0);this._roundToDecimal&&n!==this.min&&n!==this.max&&(n=parseFloat(n.toFixed(this._roundToDecimal))),this._value=n,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Wt(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const n=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${n})`}}_getTrackFillStyles(){const t=this.percent,r=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,a={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const l=this._shouldInvertAxis();let c;c=this.vertical?l?"Bottom":"Top":l?"Right":"Left",a[`padding${c}`]=`${this._getThumbGap()}px`}return a}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,$r),t.removeEventListener("touchstart",this._pointerDown,$r),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||zs(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const n=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}n!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const n=this._document,r=hf(t),o=r?"touchend":"mouseup";n.addEventListener(r?"touchmove":"mousemove",this._pointerMove,$r),n.addEventListener(o,this._pointerUp,$r),r&&n.addEventListener("touchcancel",this._pointerUp,$r);const a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,$r),t.removeEventListener("mouseup",this._pointerUp,$r),t.removeEventListener("touchmove",this._pointerMove,$r),t.removeEventListener("touchend",this._pointerUp,$r),t.removeEventListener("touchcancel",this._pointerUp,$r);const n=this._getWindow();void 0!==n&&n&&n.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let o=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(o=1-o),0===o)this.value=this.min;else if(1===o)this.value=this.max;else{const a=this._calculateValue(o),l=Math.round((a-this.min)/this.step)*this.step+this.min;this.value=this._clamp(l,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,s=Math.ceil(30/(t*this.step/(this.max-this.min)))*this.step;this._tickIntervalPercent=s/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let n=new xne;return n.source=this,n.value=t,n}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,n=0,r=1){return Math.max(n,Math.min(t,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Ou),T(Vn),T(Gr,8),ws("tabindex"),T(rt),T(yt),T(Ki,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-slider"]],viewQuery:function(t,n){if(1&t&&Vt(mne,5),2&t){let r;Ne(r=Be())&&(n._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,n){1&t&&ue("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)})("keyup",function(){return n._onKeyup()})("mouseenter",function(){return n._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&t&&(vc("tabIndex",n.tabIndex),tn("aria-disabled",n.disabled)("aria-valuemax",n.max)("aria-valuemin",n.min)("aria-valuenow",n.value)("aria-valuetext",null==n.valueText?n.displayValue:n.valueText)("aria-orientation",n.vertical?"vertical":"horizontal"),Lt("mat-slider-disabled",n.disabled)("mat-slider-has-ticks",n.tickInterval)("mat-slider-horizontal",!n.vertical)("mat-slider-axis-inverted",n._shouldInvertAxis())("mat-slider-invert-mouse-coords",n._shouldInvertMouseCoords())("mat-slider-sliding",n._isSliding)("mat-slider-thumb-label-showing",n.thumbLabel)("mat-slider-vertical",n.vertical)("mat-slider-min-value",n._isMinValue())("mat-slider-hide-last-tick",n.disabled||n._isMinValue()&&n._getThumbGap()&&n._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[Ut([bne]),Je],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,n){1&t&&(y(0,"div",0,1),y(2,"div",2),be(3,"div",3),be(4,"div",4),v(),y(5,"div",5),be(6,"div",6),v(),y(7,"div",7),be(8,"div",8),be(9,"div",9),y(10,"div",10),y(11,"span",11),M(12),v(),v(),v(),v()),2&t&&($(3),j("ngStyle",n._getTrackBackgroundStyles()),$(1),j("ngStyle",n._getTrackFillStyles()),$(1),j("ngStyle",n._getTicksContainerStyles()),$(1),j("ngStyle",n._getTicksStyles()),$(1),j("ngStyle",n._getThumbContainerStyles()),$(5),vn(n.displayValue))},directives:[lb],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),i})();function hf(i){return"t"===i.type[0]}function W2(i,e){let t;return t=hf(i)?"number"==typeof e?Gw(i.touches,e)||Gw(i.changedTouches,e):i.touches[0]||i.changedTouches[0]:i,t?{x:t.clientX,y:t.clientY}:void 0}function Gw(i,e){for(let t=0;t<i.length;t++)if(i[t].identifier===e)return i[t]}let Cne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr,un],un]}),i})();const Ene=["thumbContainer"],Sne=["toggleBar"],Tne=["input"],Dne=function(i){return{enterDuration:i}},Ane=["*"],Ine=new we("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let Rne=0;const Pne={provide:pr,useExisting:qt(()=>ff),multi:!0};class kne{constructor(e,t){this.source=e,this.checked=t}}const Fne=Pw(Ml(Hu(Vu(class{constructor(i){this._elementRef=i}}))));let ff=(()=>{class i extends Fne{constructor(t,n,r,s,o,a){super(t),this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=o,this._onChange=l=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++Rne,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new $e,this.toggleChange=new $e,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===a}get required(){return this._required}set required(t){this._required=Wt(t)}get checked(){return this._checked}set checked(t){this._checked=Wt(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new kne(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Ou),T(Vn),ws("tabindex"),T(Ine),T(Ki,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,n){if(1&t&&(Vt(Ene,5),Vt(Sne,5),Vt(Tne,5)),2&t){let r;Ne(r=Be())&&(n._thumbEl=r.first),Ne(r=Be())&&(n._thumbBarEl=r.first),Ne(r=Be())&&(n._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,n){2&t&&(vc("id",n.id),tn("tabindex",null)("aria-label",null)("aria-labelledby",null),Lt("mat-checked",n.checked)("mat-disabled",n.disabled)("mat-slide-toggle-label-before","before"==n.labelPosition)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Ut([Pne]),Je],ngContentSelectors:Ane,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,n){if(1&t&&(oi(),y(0,"label",0,1),y(2,"div",2,3),y(4,"input",4,5),ue("change",function(s){return n._onChangeEvent(s)})("click",function(s){return n._onInputClick(s)}),v(),y(6,"div",6,7),be(8,"div",8),y(9,"div",9),be(10,"div",10),v(),v(),v(),y(11,"span",11,12),ue("cdkObserveContent",function(){return n._onLabelTextChange()}),y(13,"span",13),M(14,"\xa0"),v(),Kt(15),v(),v()),2&t){const r=Ar(1),s=Ar(12);tn("for",n.inputId),$(2),Lt("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),$(2),j("id",n.inputId)("required",n.required)("tabIndex",n.tabIndex)("checked",n.checked)("disabled",n.disabled),tn("name",n.name)("aria-checked",n.checked.toString())("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),$(5),j("matRippleTrigger",r)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Rs(18,Dne,n._noopAnimations?0:150))}},directives:[Cl,tw],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),j2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({}),i})(),Nne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[j2,ef,un,Yg],j2,un]}),i})();function Bne(i,e){if(1&i){const t=ln();y(0,"mat-form-field",23),y(1,"mat-label"),M(2,"Auto play interval (ms)"),v(),y(3,"input",31),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedAutoPlayInterval=r}),v(),v()}if(2&i){const t=fe(3);$(3),j("ngModel",t.selectedAutoPlayInterval)}}function Vne(i,e){if(1&i){const t=ln();y(0,"div",21),y(1,"h4"),M(2,"Settings"),v(),y(3,"div",22),y(4,"mat-form-field",23),y(5,"mat-label"),M(6,"Number of carousel items"),v(),y(7,"input",24),ue("ngModelChange",function(r){return Ye(t),fe(2).numberOfCarouselItems=r})("ngModelChange",function(r){return Ye(t),fe(2).numberOfItemsChanged(r)}),v(),v(),y(8,"mat-form-field",23),y(9,"mat-label"),M(10,"Active carousel Item"),v(),y(11,"input",25),ue("ngModelChange",function(r){return Ye(t),fe(2).activeCarouselItem=r}),v(),v(),y(12,"div",26),y(13,"span"),M(14,"Radius"),v(),y(15,"mat-slider",27),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedRadius=r}),v(),v(),y(16,"div",26),y(17,"span"),M(18,"Camera distance"),v(),y(19,"mat-slider",28),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedCameraDistance=r}),v(),v(),y(20,"mat-slide-toggle",29),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedAutoPlayEnabled=r}),M(21,"Auto play "),v(),ze(22,Bne,4,1,"mat-form-field",30),y(23,"mat-form-field",23),y(24,"mat-label"),M(25,"Rotation duration (ms)"),v(),y(26,"input",31),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedRotationDuration=r}),v(),v(),v(),v()}if(2&i){const t=fe(2);j("@settingsContainer",void 0),$(7),j("ngModel",t.numberOfCarouselItems),$(4),j("max",t.numberOfCarouselItems-1)("ngModel",t.activeCarouselItem),$(4),j("ngModel",t.selectedRadius),$(4),j("ngModel",t.selectedCameraDistance),$(1),j("ngModel",t.selectedAutoPlayEnabled),$(2),j("ngIf",1==t.selectedAutoPlayEnabled),$(4),j("ngModel",t.selectedRotationDuration)}}function Hne(i,e){if(1&i&&(y(0,"acuw-carousel-item",32),y(1,"h2"),M(2),v(),be(3,"img",33),y(4,"p"),M(5,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua."),v(),v()),2&i){const t=e.$implicit,n=e.index;$(2),oo("Item ",n+1,""),$(1),j("src",t,Go)}}function zne(i,e){if(1&i){const t=ln();y(0,"button",12),ue("click",function(){Ye(t);const r=fe();return r.settingsOpen=!r.settingsOpen}),y(1,"mat-icon"),M(2),v(),v(),ze(3,Vne,27,9,"div",13),y(4,"div",14),y(5,"acuw-carousel",15,16),ze(7,Hne,6,2,"acuw-carousel-item",17),v(),y(8,"div",18),y(9,"button",19),ue("click",function(){return Ye(t),Ar(6).previous()}),y(10,"mat-icon"),M(11,"chevron_left"),v(),v(),y(12,"button",20),ue("click",function(){return Ye(t),Ar(6).next()}),y(13,"mat-icon"),M(14,"chevron_right"),v(),v(),v(),v()}if(2&i){const t=fe();$(2),vn(0==t.settingsOpen?"settings":"close"),$(1),j("ngIf",1==t.settingsOpen),$(2),j("activeCarouselElement",t.activeCarouselItem)("radius",t.selectedRadius)("cameraDistance",t.selectedCameraDistance)("autoPlay",t.selectedAutoPlayEnabled)("autoPlayInterval",t.selectedAutoPlayInterval)("rotationDuration",t.selectedRotationDuration),$(2),j("ngForOf",t.carouselItems)}}let $2=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.utility=r,this.selectedTabIndex=0,this.settingsOpen=!1,this.numberOfCarouselItems=6,this.activeCarouselItem=0,this.carouselItems=["assets/image-transition/img1.jpg","assets/image-transition/img2.jpg","assets/image-transition/img3.jpg","assets/image-transition/img4.jpg","assets/image-transition/img5.jpg","assets/image-transition/img6.jpg"],this.selectedRadius=350,this.selectedCameraDistance=740,this.selectedAutoPlayEnabled=!0,this.selectedAutoPlayInterval=5e3,this.selectedRotationDuration=500,this.code=Une}ngOnInit(){const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t),window.innerWidth<600&&(this.selectedCameraDistance=790)}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route})}numberOfItemsChanged(t){this.carouselItems=new Array(t);for(let n=0;n<this.carouselItems.length;n++)this.carouselItems[n]=`assets/image-transition/img${n+1}.jpg`;setTimeout(()=>{this.carousel.updateCarouselItems()},0)}}return i.\u0275fac=function(t){return new(t||i)(T(ls),T(ci),T(Zh))},i.\u0275cmp=kt({type:i,selectors:[["app-carousel"]],viewQuery:function(t,n){if(1&t&&Vt(Qk,5),2&t){let r;Ne(r=Be())&&(n.carousel=r.first)}},decls:182,vars:3,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://unsplash.com/@davidclode?","target","_blank",1,"external-link"],["href","https://unsplash.com/","target","_blank",1,"external-link"],["language","bash"],["language","ts"],["language","html"],[1,"table-container"],["mat-mini-fab","","color","accent","aria-label","settings button",1,"settings-button",3,"click"],["class","settings-container mat-elevation-z6",4,"ngIf"],[1,"container"],[1,"carousel",3,"activeCarouselElement","radius","cameraDistance","autoPlay","autoPlayInterval","rotationDuration"],["carousel",""],["class","carousel-item",4,"ngFor","ngForOf"],[1,"roate-button-container"],["mat-icon-button","","color","primary","aria-label","privious button",3,"click"],["mat-icon-button","","color","primary","aria-label","next button",3,"click"],[1,"settings-container","mat-elevation-z6"],[1,"inner-settings-container"],["appearance","fill"],["matInput","","type","number","min","1","max","10",3,"ngModel","ngModelChange"],["matInput","","type","number","min","0",3,"max","ngModel","ngModelChange"],[1,"slider"],["thumbLabel","","tickInterval","1","min","50","max","500",3,"ngModel","ngModelChange"],["thumbLabel","","tickInterval","1","min","400","max","1200",3,"ngModel","ngModelChange"],[1,"slide-toggle",3,"ngModel","ngModelChange"],["appearance","fill",4,"ngIf"],["matInput","","type","number",3,"ngModel","ngModelChange"],[1,"carousel-item"],["loading","lazy",3,"src"]],template:function(t,n){1&t&&(y(0,"mat-tab-group",0),ue("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),y(1,"mat-tab",1),ze(2,zne,15,9,"ng-template",2),v(),y(3,"mat-tab",3),y(4,"div",4),y(5,"div",5),y(6,"h2"),M(7,"Information"),v(),be(8,"mat-divider"),y(9,"p"),M(10," The carousel component provides the possibility to show custom templates ordered in a cylindrical form. The user can rotate the carousel and therefore navigate through all items. The rotation can be either by using buttons to rotate to the next or previous item, or via dragging the mouse. In addition, this component shows the active carousel element via indicator dots. "),v(),y(11,"p"),M(12," Photos by "),y(13,"a",6),M(14,"David Clode"),v(),M(15," on "),y(16,"a",7),M(17,"Unsplash"),v(),v(),y(18,"h2"),M(19,"Installation"),v(),be(20,"mat-divider"),y(21,"app-code-block",8),M(22,"npm install three @types/three @angular/cdk ngx-acuw"),v(),y(23,"h2"),M(24,"Usage"),v(),be(25,"mat-divider"),y(26,"h3"),M(27,"Import Module"),v(),y(28,"app-code-block",9),M(29),v(),y(30,"h3"),M(31,"Directive Example"),v(),y(32,"app-code-block",10),M(33),v(),y(34,"h2"),M(35,"Carousel API"),v(),be(36,"mat-divider"),y(37,"h3"),M(38,"Properties"),v(),y(39,"div",11),y(40,"table"),y(41,"tr"),y(42,"th"),M(43,"Name"),v(),y(44,"th"),M(45,"Default value"),v(),y(46,"th"),M(47,"Description"),v(),v(),y(48,"tr"),y(49,"td"),M(50,"@Input() showDots: boolean"),v(),y(51,"td"),M(52,"true"),v(),y(53,"td"),M(54,"Show or hide the dots, which indicate which item is active."),v(),v(),y(55,"tr"),y(56,"td"),M(57,"@Input() dotColor: string"),v(),y(58,"td"),M(59,"#fff"),v(),y(60,"td"),M(61,"Color of the dots."),v(),v(),y(62,"tr"),y(63,"td"),M(64,"@Input() activeDotColor: string"),v(),y(65,"td"),M(66,"#3f51b5"),v(),y(67,"td"),M(68,"Color of the active dot."),v(),v(),y(69,"tr"),y(70,"td"),M(71,"@Input() dotAnimationCircleColor: string"),v(),y(72,"td"),M(73,"#fff"),v(),y(74,"td"),M(75,"Color of the spinner around the dot, which is used to display the interval time when using auto play."),v(),v(),y(76,"tr"),y(77,"td"),M(78,"@Input() activeCarouselElement: number"),v(),y(79,"td"),M(80,"0"),v(),y(81,"td"),M(82,"Number of the active carousel element/item."),v(),v(),y(83,"tr"),y(84,"td"),M(85,"@Output() activeElementChanged: EventEmitter<number>"),v(),y(86,"td"),M(87,"-"),v(),y(88,"td"),M(89,"Event emitted when the active carousel item/element changes."),v(),v(),y(90,"tr"),y(91,"td"),M(92,"@Input() initAnimation: boolean"),v(),y(93,"td"),M(94,"true"),v(),y(95,"td"),M(96,"Indicates, if fade in animation should be done, when component is created."),v(),v(),y(97,"tr"),y(98,"td"),M(99,"@Input() radius: number"),v(),y(100,"td"),M(101,"200"),v(),y(102,"td"),M(103,"Radius of the carousel cylinder."),v(),v(),y(104,"tr"),y(105,"td"),M(106,"@Input() yPosition: number"),v(),y(107,"td"),M(108,"0"),v(),y(109,"td"),M(110,"Y position of the carousel cylinder."),v(),v(),y(111,"tr"),y(112,"td"),M(113,"@Input() cameraFov: number"),v(),y(114,"td"),M(115,"65"),v(),y(116,"td"),M(117,"Camera frustum vertical field of view."),v(),v(),y(118,"tr"),y(119,"td"),M(120,"@Input() cameraDistance: number"),v(),y(121,"td"),M(122,"600"),v(),y(123,"td"),M(124,"Distance of the camera."),v(),v(),y(125,"tr"),y(126,"td"),M(127,"@Input() autoPlay: boolean"),v(),y(128,"td"),M(129,"false"),v(),y(130,"td"),M(131,"Automatic change of the carousel elements."),v(),v(),y(132,"tr"),y(133,"td"),M(134,"@Input() autoPlayInterval: number"),v(),y(135,"td"),M(136,"5000"),v(),y(137,"td"),M(138,"Interval in ms to be used when autoPlay is active."),v(),v(),y(139,"tr"),y(140,"td"),M(141,"@Input() rotationDuration: number"),v(),y(142,"td"),M(143,"500"),v(),y(144,"td"),M(145,"Duration of the rotation to a next carousel element in ms."),v(),v(),y(146,"tr"),y(147,"td"),M(148,"@Input() showPerformanceMonitor: boolean"),v(),y(149,"td"),M(150,"false"),v(),y(151,"td"),M(152," Show or hide the performance monitor display. "),v(),v(),v(),v(),y(153,"h3"),M(154,"Methods"),v(),y(155,"div",11),y(156,"table"),y(157,"tr"),y(158,"th"),M(159,"Name"),v(),y(160,"th"),M(161,"Description"),v(),v(),y(162,"tr"),y(163,"td"),M(164,"next(): Promise<number>"),v(),y(165,"td"),M(166,"Rotate to next carousel item."),v(),v(),y(167,"tr"),y(168,"td"),M(169,"previous(): Promise<number>"),v(),y(170,"td"),M(171,"Rotate to previous carousel item."),v(),v(),y(172,"tr"),y(173,"td"),M(174,"rotateTo(targetIndex: number): Promise<number>"),v(),y(175,"td"),M(176,"Rotates to a sepcific carousel item."),v(),v(),y(177,"tr"),y(178,"td"),M(179,"updateCarouselItems(): void"),v(),y(180,"td"),M(181,"Updates and re-initializes the carousel items."),v(),v(),v(),v(),v(),v(),v(),v()),2&t&&(j("selectedIndex",n.selectedTabIndex),$(29),vn(n.code.importModule),$(4),vn(n.code.directiveExample))},directives:[nf,zu,tf,rf,sf,af,uf,tr,Qk,qo,Hw,df,Uw,Ob,Lb,Zd,Ga,Wd,Rc,__,ff,Kk],styles:[".container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 168px)}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 176px)}}.settings-button[_ngcontent-%COMP%]{position:fixed;top:120px;right:20px;z-index:5}.settings-container[_ngcontent-%COMP%]{position:fixed;top:115px;right:0px;display:flex;flex-direction:column;padding:0 10px;background-color:#ffffffe6;border-radius:5px;min-width:150px;z-index:4;max-height:calc(100vh - 150px);max-width:calc(100% - 20px)}.inner-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 10px 40px;overflow-y:auto}.slide-toggle[_ngcontent-%COMP%]{margin:15px 0}.description-container[_ngcontent-%COMP%]{margin:0 10px}.carousel[_ngcontent-%COMP%]{background-color:#000}.roate-button-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;justify-content:space-between;align-items:center;z-index:3;pointer-events:none}.roate-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:64px;height:64px;line-height:64px;pointer-events:all}.roate-button-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:64px!important;height:64px!important;font-size:64px!important}.carousel-item[_ngcontent-%COMP%]{position:relative;background-color:#fff;box-shadow:0 0 20px 10px #ffffffb3;width:250px;height:350px;padding:10px;pointer-events:none}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.carousel-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;text-align:center;text-transform:uppercase;color:#000;margin:5px 0 10px}.carousel-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#000;font-size:medium;white-space:normal;line-height:normal}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}.slider[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],data:{animation:[Br("settingsContainer",[Hn(":enter",[vt({transform:"translateX(100%)"}),In("300ms ease-in",vt({transform:"translateX(0%)"}))]),Hn(":leave",[vt({transform:"translateX(0%)"}),In("300ms ease-in",vt({transform:"translateX(100%)"}))])])]}}),i})();const Une={importModule:"import { CarouselModule } from 'ngx-acuw';\n\n  @NgModule({ \n    declarations: [AppComponent, ...],\n    imports: [CarouselModule],\n    bootstrap: [AppComponent]\n  })\n  export class AppModule { \n  }",directiveExample:'<acuw-carousel #carousel \n  class="carousel" \n  [(activeCarouselElement)]="activeCarouselItem" \n  radius="350" cameraDistance="740">\n    <acuw-carousel-item class="carousel-item">\n      <h2>Item 1</h2>\n      <p>Lorem ipsum dolor sit amet, \n        consetetur sadipscing elitr, \n        sed diam nonumy eirmod tempor \n        invidunt ut labore et dolore magna \n        aliquyam erat, sed diam voluptua.\n      </p>\n    </acuw-carousel-item>\n    <acuw-carousel-item class="carousel-item">\n      <h2>Item 2</h2>\n      <p>Lorem ipsum dolor sit amet, \n        consetetur sadipscing elitr, \n        sed diam nonumy eirmod tempor \n        invidunt ut labore et dolore magna \n        aliquyam erat, sed diam voluptua.\n      </p>\n  </acuw-carousel-item>\n  <acuw-carousel-item class="carousel-item">\n      <h2>Item 3</h2>\n      <p>Lorem ipsum dolor sit amet, \n        consetetur sadipscing elitr, \n        sed diam nonumy eirmod tempor \n        invidunt ut labore et dolore magna \n        aliquyam erat, sed diam voluptua.\n      </p>\n  </acuw-carousel-item>\n</acuw-carousel>'};let Gne=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=kt({type:i,selectors:[["app-home"]],decls:49,vars:0,consts:[[1,"home-container"],[1,"main-header"],["src","./assets/acuw.svg","alt","acuw logo",1,"logo"],[1,"header-text-container"],[1,"description-container"],[1,"description","mat-elevation-z2"],[1,"components-list"],["routerLink","/image-as-particles",1,"component","mat-elevation-z2"],["src","./assets/image-as-particles/imageAsParticles.gif","alt","image-as-particles"],["routerLink","/image-transition",1,"component","mat-elevation-z2"],["src","./assets/image-transition/imageTransition.gif","alt","image-transition"],["routerLink","/lightbox",1,"component","mat-elevation-z2"],["src","./assets/lightbox/lightbox.jpg","alt","lightbox"],["routerLink","/carousel",1,"component","mat-elevation-z2"],["src","./assets/carousel/carousel.gif","alt","carousel"],["routerLink","/performanceMonitor",1,"component","mat-elevation-z2"],["src","./assets/performance-monitor/performance-monitor.png","alt","performance-monitor"],[1,"new-badge"]],template:function(t,n){1&t&&(y(0,"div",0),y(1,"div",1),be(2,"img",2),y(3,"div",3),y(4,"h1"),M(5,"ACUW-Library"),v(),y(6,"h2"),M(7,"Angular Components using WEBGL"),v(),v(),v(),y(8,"h2"),M(9,"Description"),v(),y(10,"div",4),y(11,"div",5),y(12,"h3"),M(13,"What is ACUW?"),v(),y(14,"p"),M(15,"ACUW is a collection of components for Angular made with the 3D library three.js"),v(),v(),y(16,"div",5),y(17,"h3"),M(18,"Why this library has been created?"),v(),y(19,"p"),M(20,"The main purpose is to provide a simple usage of amazing stuff done by using three.js"),v(),v(),v(),y(21,"h2"),M(22,"Components"),v(),y(23,"div",6),y(24,"a",7),y(25,"h3"),M(26,"Image As Particles"),v(),be(27,"img",8),v(),y(28,"a",9),y(29,"h3"),M(30,"Image Transition"),v(),be(31,"img",10),v(),y(32,"a",11),y(33,"h3"),M(34,"Lightbox"),v(),be(35,"img",12),v(),y(36,"a",13),y(37,"h3"),M(38,"Carousel"),v(),be(39,"img",14),v(),y(40,"a",15),y(41,"h3"),M(42,"Performance-Monitor"),v(),be(43,"img",16),y(44,"div",17),y(45,"span"),M(46,"new"),v(),v(),v(),v(),y(47,"h4"),M(48,"More components are in work. \u{1f528}"),v(),v())},directives:[lh],styles:[".home-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100% - 64px)}.main-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-content:center;background-color:var(--primary);color:#fff;padding:0 0 30px}.main-header[_ngcontent-%COMP%]   .header-text-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-align:center}.logo[_ngcontent-%COMP%]{height:300px}.description-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;margin:10px 0}.description-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{max-width:300px;padding:10px;margin:10px}.components-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;margin:10px 0}.components-list[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-content:center;width:200px;padding:10px;margin:10px;overflow:hidden}.components-list[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#000}.components-list[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;object-fit:contain}.components-list[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]:hover{background-color:#0000000d}.new-badge[_ngcontent-%COMP%]{position:absolute;right:18px;top:30px;background-color:var(--primary);color:#fff;transform:rotate(45deg);text-align:center;width:110px;padding:5px 0;margin:-26px -55px 0 0}"]}),i})();const Wne=function(i){return{"image-active":i}};function jne(i,e){if(1&i){const t=ln();y(0,"img",22),ue("click",function(){const s=Ye(t).$implicit;return fe(3).selectedUrl=s}),v()}if(2&i){const t=e.$implicit,n=fe(3);j("ngClass",Rs(2,Wne,t===n.selectedUrl))("src",t,Go)}}function $ne(i,e){if(1&i){const t=ln();y(0,"div",17),y(1,"h4"),M(2,"Settings"),v(),y(3,"p"),M(4,"Selected image:"),v(),y(5,"div",18),ze(6,jne,1,4,"img",19),v(),y(7,"p"),M(8,"Background color:"),v(),y(9,"input",20),ue("ngModelChange",function(r){return Ye(t),fe(2).backgroundColor=r}),v(),y(10,"mat-slide-toggle",21),ue("ngModelChange",function(r){return Ye(t),fe(2).animationEnabled=r}),M(11,"Animation enabled "),v(),v()}if(2&i){const t=fe(2);j("@settingsContainer",void 0),$(6),j("ngForOf",t.imageUrls),$(3),j("ngModel",t.backgroundColor),$(1),j("ngModel",t.animationEnabled)}}function qne(i,e){if(1&i){const t=ln();y(0,"button",13),ue("click",function(){Ye(t);const r=fe();return r.settingsOpen=!r.settingsOpen}),y(1,"mat-icon"),M(2),v(),v(),ze(3,$ne,12,4,"div",14),y(4,"div",15),be(5,"lib-image-as-particles",16),v()}if(2&i){const t=fe();$(2),vn(0==t.settingsOpen?"settings":"close"),$(1),j("ngIf",1==t.settingsOpen),$(2),j("imageUrl",t.selectedUrl)("backgroundColor",t.backgroundColor)("animationEnabled",t.animationEnabled)("showPerformanceMonitor",!1)}}let q2=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.utility=r,this.selectedTabIndex=0,this.settingsOpen=!1,this.imageUrls=["assets/image-as-particles/dog.png","assets/image-as-particles/pexels-photo.png","assets/image-as-particles/tiger.png","assets/image-as-particles/blue-parakeet-sits-on-eggs.png"],this.selectedUrl="",this.backgroundColor="#222222",this.animationEnabled=!0,this.code=Yne}ngOnInit(){this.selectedUrl=this.imageUrls[0];const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t)}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(T(ls),T(ci),T(Zh))},i.\u0275cmp=kt({type:i,selectors:[["app-image-as-particles"]],decls:115,vars:3,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://github.com/brunoimbrizi/","target","_blank",1,"external-link"],["href","https://tympanus.net/codrops/2019/01/17/interactive-particles-with-three-js/","target","_blank",1,"external-link"],["href","https://www.instagram.com/lenny_the_samoyed/","target","_blank",1,"external-link"],["language","bash"],["language","ts"],["language","html"],[1,"table-container"],["mat-mini-fab","","color","accent","aria-label","settings button",1,"settings-button",3,"click"],["class","settings-container mat-elevation-z6",4,"ngIf"],[1,"container"],["touchAction","none","imageWidth","100%","imageHeight","100%","horizontalAlignment","center","verticalAlignment","center",3,"imageUrl","backgroundColor","animationEnabled","showPerformanceMonitor"],[1,"settings-container","mat-elevation-z6"],[1,"image-selection-container"],["class","image-selection",3,"ngClass","src","click",4,"ngFor","ngForOf"],["type","color",3,"ngModel","ngModelChange"],[1,"slide-toggle",3,"ngModel","ngModelChange"],[1,"image-selection",3,"ngClass","src","click"]],template:function(t,n){1&t&&(y(0,"mat-tab-group",0),ue("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),y(1,"mat-tab",1),ze(2,qne,6,6,"ng-template",2),v(),y(3,"mat-tab",3),y(4,"div",4),y(5,"div",5),y(6,"h2"),M(7,"Information"),v(),be(8,"mat-divider"),y(9,"p"),M(10," The image-as-particles component is based on the great work and code of "),y(11,"a",6),M(12,"Bruno Imbrizi"),v(),M(13," and brought to Angular. A description and a tutorial of creating the effect can be found on "),y(14,"a",7),M(15,"tympanus"),v(),M(16,". "),v(),y(17,"p"),M(18," By the way. Do dog on the photo is my dog. \u{1f415} If you want to see more pictures of him, you can just have a look on the Instagram account ("),y(19,"a",8),M(20,"lenny_the_samoyed"),v(),M(21,"). "),v(),y(22,"h2"),M(23,"Installation"),v(),be(24,"mat-divider"),y(25,"app-code-block",9),M(26,"npm install three @types/three @angular/cdk ngx-acuw"),v(),y(27,"h2"),M(28,"Usage"),v(),be(29,"mat-divider"),y(30,"h3"),M(31,"Import Module"),v(),y(32,"app-code-block",10),M(33),v(),y(34,"h3"),M(35,"Directive Example"),v(),y(36,"app-code-block",11),M(37),v(),y(38,"h2"),M(39,"Particle-As-Images API"),v(),be(40,"mat-divider"),y(41,"h3"),M(42,"Properties"),v(),y(43,"div",12),y(44,"table"),y(45,"tr"),y(46,"th"),M(47,"Name"),v(),y(48,"th"),M(49,"Default value"),v(),y(50,"th"),M(51,"Description"),v(),v(),y(52,"tr"),y(53,"td"),M(54,"@Input() imageUrl: string"),v(),y(55,"td"),M(56,"null"),v(),y(57,"td"),M(58,"URL to the image"),v(),v(),y(59,"tr"),y(60,"td"),M(61,"@Input() backgroundColor: string"),v(),y(62,"td"),M(63,"#222222"),v(),y(64,"td"),M(65,"The background-color CSS property sets the background color of an element."),v(),v(),y(66,"tr"),y(67,"td"),M(68,"@Input() imageWidth: string"),v(),y(69,"td"),M(70,"100%"),v(),y(71,"td"),M(72,'Width of the generated image in "px" or "%"'),v(),v(),y(73,"tr"),y(74,"td"),M(75,"@Input() imageHeight: string"),v(),y(76,"td"),M(77,"100%"),v(),y(78,"td"),M(79,'Height of the generated image in "px" or "%"'),v(),v(),y(80,"tr"),y(81,"td"),M(82,"@Input() transitionDuration: number"),v(),y(83,"td"),M(84,"1000"),v(),y(85,"td"),M(86,"Duration of the transition effenct in ms"),v(),v(),y(87,"tr"),y(88,"td"),M(89,"@Input() horizontalAlignment: string"),v(),y(90,"td"),M(91,"center"),v(),y(92,"td"),M(93,'Possible values: "start", "center", "end"'),v(),v(),y(94,"tr"),y(95,"td"),M(96,"@Input() verticalAlignment: string"),v(),y(97,"td"),M(98,"center"),v(),y(99,"td"),M(100,'Possible values: "top", "center", "bottom"'),v(),v(),y(101,"tr"),y(102,"td"),M(103,"@Input() animationEnabled: boolean"),v(),y(104,"td"),M(105,"true"),v(),y(106,"td"),M(107,' The animation can be stopped by setting the property to "false", e.g. if the element is not in viewport anymore. '),v(),v(),y(108,"tr"),y(109,"td"),M(110,"@Input() showPerformanceMonitor: boolean"),v(),y(111,"td"),M(112,"false"),v(),y(113,"td"),M(114," Show or hide the performance monitor display. "),v(),v(),v(),v(),v(),v(),v(),v()),2&t&&(j("selectedIndex",n.selectedTabIndex),$(33),vn(n.code.importModule),$(4),vn(n.code.directiveExample))},directives:[nf,zu,tf,rf,sf,af,uf,tr,yZ,qo,Ga,Wd,Rc,ff,Ac],styles:[".container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 104px)}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 112px)}}.settings-button[_ngcontent-%COMP%]{position:fixed;top:120px;right:20px;z-index:2}.settings-container[_ngcontent-%COMP%]{position:fixed;top:115px;right:0px;display:flex;flex-direction:column;padding:0 10px;background-color:#ffffffe6;border-radius:5px;min-width:150px;z-index:1;max-height:calc(100vh - 150px);max-width:calc(100% - 20px)}.inner-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 10px 40px;overflow-y:auto}.slide-toggle[_ngcontent-%COMP%]{margin:15px 0}.description-container[_ngcontent-%COMP%]{margin:0 10px}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}"],data:{animation:[Br("settingsContainer",[Hn(":enter",[vt({transform:"translateX(100%)"}),In("300ms ease-in",vt({transform:"translateX(0%)"}))]),Hn(":leave",[vt({transform:"translateX(0%)"}),In("300ms ease-in",vt({transform:"translateX(100%)"}))])])]}}),i})();const Yne={importModule:"import { ImageAsParticlesModule } from 'ngx-acuw';\n\n@NgModule({\n  declarations: [AppComponent, ...],\n  imports: [ImageAsParticlesModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}",directiveExample:'<lib-image-as-particles\n  [imageUrl]="selectedUrl">\n</lib-image-as-particles>'};class Ww{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ke,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const Xne=["trigger"],Zne=["panel"];function Kne(i,e){if(1&i&&(y(0,"span",8),M(1),v()),2&i){const t=fe();$(1),vn(t.placeholder)}}function Qne(i,e){if(1&i&&(y(0,"span",12),M(1),v()),2&i){const t=fe(2);$(1),vn(t.triggerValue)}}function Jne(i,e){1&i&&Kt(0,0,["*ngSwitchCase","true"])}function eie(i,e){1&i&&(y(0,"span",9),ze(1,Qne,2,1,"span",10),ze(2,Jne,1,0,"ng-content",11),v()),2&i&&(j("ngSwitch",!!fe().customTrigger),$(2),j("ngSwitchCase",!0))}function tie(i,e){if(1&i){const t=ln();y(0,"div",13),y(1,"div",14,15),ue("@transformPanel.done",function(r){return Ye(t),fe()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return Ye(t),fe()._handleKeydown(r)}),Kt(3,1),v(),v()}if(2&i){const t=fe();j("@transformPanelWrap",void 0),$(1),gv("mat-select-panel ",t._getPanelTheme(),""),Na("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),j("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),tn("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const nie=[[["mat-select-trigger"]],"*"],iie=["mat-select-trigger","*"],Y2={transformPanelWrap:Br("transformPanelWrap",[Hn("* => void",c0("@transformPanel",[NW()],{optional:!0}))]),transformPanel:Br("transformPanel",[cs("void",vt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),cs("showing",vt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),cs("showing-multiple",vt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Hn("void => *",In("120ms cubic-bezier(0, 0, 0.2, 1)")),Hn("* => void",In("100ms 25ms linear",vt({opacity:0})))])};let X2=0;const K2=new we("mat-select-scroll-strategy"),aie=new we("MAT_SELECT_CONFIG"),lie={provide:K2,deps:[Xh],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};class cie{constructor(e,t){this.source=e,this.value=t}}const uie=Hu(Pw(Vu(l2(class{constructor(i,e,t,n,r){this._elementRef=i,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}})))),die=new we("MatSelectTrigger");let hie=(()=>{class i extends uie{constructor(t,n,r,s,o,a,l,c,u,d,h,f,p,g){var b,_,m;super(o,s,l,c,d),this._viewportRuler=t,this._changeDetectorRef=n,this._ngZone=r,this._dir=a,this._parentFormField=u,this._liveAnnouncer=p,this._defaultOptions=g,this._panelOpen=!1,this._compareWith=(w,x)=>w===x,this._uid="mat-select-"+X2++,this._triggerAriaLabelledBy=null,this._destroy=new Ke,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+X2++,this._panelDoneAnimatingStream=new Ke,this._overlayPanelClass=(null===(b=this._defaultOptions)||void 0===b?void 0:b.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(m=null===(_=this._defaultOptions)||void 0===_?void 0:_.disableOptionCentering)&&void 0!==m&&m,this.ariaLabel="",this.optionSelectionChanges=Hb(()=>{const w=this.options;return w?w.changes.pipe(Or(w),as(()=>vs(...w.map(x=>x.onSelectionChange)))):this._ngZone.onStable.pipe(Lr(1),as(()=>this.optionSelectionChanges))}),this.openedChange=new $e,this._openedStream=this.openedChange.pipe(Ci(w=>w),ft(()=>{})),this._closedStream=this.openedChange.pipe(Ci(w=>!w),ft(()=>{})),this.selectionChange=new $e,this.valueChange=new $e,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==g?void 0:g.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=g.typeaheadDebounceInterval),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,n,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===r?void 0:r.hasValidator(vD.required))&&void 0!==s&&s}set required(t){this._required=Wt(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Wt(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Wt(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=yr(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Ww(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(qg(),Qt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Qt(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Or(null),Qt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?n.setAttribute("aria-labelledby",t):n.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,n;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(n=this._selectionModel)||void 0===n?void 0:n.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!zs(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(t);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,r=t.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||zs(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=n.activeItemIndex;n.onKeydown(t),this._multiple&&s&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Lr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectValue(n)),this._sortValues();else{const n=this._selectValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(s){return!1}});return n&&this._selectionModel.select(n),n}_initKeyManager(){this._keyManager=new pQ(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Qt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Qt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=vs(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Qt(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),vs(...this.options.map(n=>n._stateChanges)).pipe(Qt(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,n){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const n=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const n=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(t){return new(t||i)(T(_l),T(Vn),T(rt),T(kw),T(dt),T(Gr,8),T(Xd,8),T(Kd,8),T(Vw,8),T(Ps,10),ws("tabindex"),T(K2),T(kQ),T(aie,8))},i.\u0275dir=Te({type:i,viewQuery:function(t,n){if(1&t&&(Vt(Xne,5),Vt(Zne,5),Vt($k,5)),2&t){let r;Ne(r=Be())&&(n.trigger=r.first),Ne(r=Be())&&(n.panel=r.first),Ne(r=Be())&&(n._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Je,ii]}),i})(),Q2=(()=>{class i extends hie{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,n,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-n+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Qt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Lr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const n=g2(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===n?0:function(i,e,t,n){return i<t?i:i+e>t+256?Math.max(0,i-256+e):t}((t+n)*r,r,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new cie(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let c=this._selectionModel.selected[0]||this.options.first;o=c&&c.group?32:16}r||(o*=-1);const a=0-(t.left+o-(r?s:0)),l=t.right+o-n.width+(r?0:s);a>0?o+=a+8:l>0&&(o-=l+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,n,r){const s=this._getItemHeight(),o=(s-this._triggerRect.height)/2,a=Math.floor(256/s);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?t*s:this._scrollTop===r?(t-(this._getItemCount()-a))*s+(s-(this._getItemCount()*s-256)%s):n-s/2,Math.round(-1*l-o))}_checkOverlayWithinViewport(t){const n=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,o=r.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),c=Math.min(this._getItemCount()*n,256)-a-this._triggerRect.height;c>o?this._adjustPanelUp(c,o):a>s?this._adjustPanelDown(a,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,n){const r=Math.round(t-n);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,n,r){const s=Math.round(t-n);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),n=this._getItemCount(),r=Math.min(n*t,256),o=n*t-r;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=g2(a,this.options,this.optionGroups);const l=r/2;this._scrollTop=this._calculateOverlayScroll(a,l,o),this._offsetY=this._calculateOverlayOffsetY(a,l,o),this._checkOverlayWithinViewport(o)}_getOriginBasedOnOption(){const t=this._getItemHeight(),n=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=wi(i)))(n||i)}}(),i.\u0275cmp=kt({type:i,selectors:[["mat-select"]],contentQueries:function(t,n,r){if(1&t&&(cn(r,die,5),cn(r,Ow,5),cn(r,m2,5)),2&t){let s;Ne(s=Be())&&(n.customTrigger=s.first),Ne(s=Be())&&(n.options=s),Ne(s=Be())&&(n.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,n){1&t&&ue("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&t&&(tn("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-describedby",n._ariaDescribedby||null)("aria-activedescendant",n._getAriaActiveDescendant()),Lt("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Ut([{provide:g_,useExisting:i},{provide:p2,useExisting:i}]),Je],ngContentSelectors:iie,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,n){if(1&t&&(oi(nie),y(0,"div",0,1),ue("click",function(){return n.toggle()}),y(3,"div",2),ze(4,Kne,2,1,"span",3),ze(5,eie,3,2,"span",4),v(),y(6,"div",5),be(7,"div",6),v(),v(),ze(8,tie,4,14,"ng-template",7),ue("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&t){const r=Ar(1);tn("aria-owns",n.panelOpen?n.id+"-panel":null),$(3),j("ngSwitch",n.empty),tn("id",n._valueId),$(1),j("ngSwitchCase",!0),$(1),j("ngSwitchCase",!1),$(3),j("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},directives:[jk,Hd,ab,$k,$T,Ac],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[Y2.transformPanelWrap,Y2.transformPanel]},changeDetection:0}),i})(),fie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({providers:[lie],imports:[[fr,qk,_2,un],Wh,zw,_2,un]}),i})();function pie(i,e){if(1&i){const t=ln();y(0,"mat-form-field",22),y(1,"mat-label"),M(2,"Auto play interval (ms)"),v(),y(3,"input",26),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedAutoPlayInterval=r}),v(),v()}if(2&i){const t=fe(3);$(3),j("ngModel",t.selectedAutoPlayInterval)}}function mie(i,e){if(1&i){const t=ln();Ir(0),y(1,"span"),M(2,"Intensity"),v(),y(3,"mat-slider",35),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedIntensity=r}),v(),Rr()}if(2&i){const t=fe(3);$(3),j("ngModel",t.selectedIntensity)}}function gie(i,e){if(1&i){const t=ln();Ir(0),y(1,"div",36),y(2,"span"),M(3,"SizeX"),v(),y(4,"mat-slider",37),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedSizeX=r}),v(),v(),y(5,"div",36),y(6,"span"),M(7,"SizeY"),v(),y(8,"mat-slider",37),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedSizeY=r}),v(),v(),y(9,"div",36),y(10,"span"),M(11,"Width"),v(),y(12,"mat-slider",38),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedWidth=r}),v(),v(),Rr()}if(2&i){const t=fe(3);$(4),j("ngModel",t.selectedSizeX),$(4),j("ngModel",t.selectedSizeY),$(4),j("ngModel",t.selectedWidth)}}const _ie=function(i){return{"image-active":i}};function yie(i,e){if(1&i){const t=ln();y(0,"img",41),ue("click",function(){const s=Ye(t).$implicit;return fe(4).selectedDistUrl=s}),v()}if(2&i){const t=e.$implicit,n=fe(4);j("ngClass",Rs(2,_ie,t===n.selectedDistUrl))("src",t,Go)}}function vie(i,e){if(1&i&&(Ir(0),y(1,"p"),M(2,"Distortion image:"),v(),y(3,"div",39),ze(4,yie,1,4,"img",40),v(),Rr()),2&i){const t=fe(3);$(4),j("ngForOf",t.disImgUrls)}}function bie(i,e){if(1&i){const t=ln();y(0,"div",20),y(1,"h4"),M(2,"Settings"),v(),y(3,"div",21),y(4,"mat-form-field",22),y(5,"mat-label"),M(6,"Image size"),v(),y(7,"mat-select",23),ue("valueChange",function(r){return Ye(t),fe(2).selectedImageSize=r}),y(8,"mat-option",24),M(9,"cover"),v(),y(10,"mat-option",25),M(11,"contain"),v(),v(),v(),y(12,"mat-form-field",22),y(13,"mat-label"),M(14,"Transition duration (ms)"),v(),y(15,"input",26),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedTransitionDuration=r}),v(),v(),y(16,"mat-slide-toggle",27),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedAutoPlayEnabled=r}),M(17,"Auto play "),v(),ze(18,pie,4,1,"mat-form-field",28),y(19,"mat-form-field",22),y(20,"mat-label"),M(21,"Transition type"),v(),y(22,"mat-select",23),ue("valueChange",function(r){return Ye(t),fe(2).selectedTransitionType=r}),y(23,"mat-option",29),M(24,"split"),v(),y(25,"mat-option",30),M(26,"fade"),v(),y(27,"mat-option",31),M(28,"noise"),v(),y(29,"mat-option",32),M(30,"blur"),v(),y(31,"mat-option",33),M(32,"distortion"),v(),v(),v(),Ir(33),ze(34,mie,4,1,"ng-container",34),ze(35,gie,13,3,"ng-container",34),ze(36,vie,5,1,"ng-container",34),Rr(),v(),v()}if(2&i){const t=fe(2);j("@settingsContainer",void 0),$(7),j("value",t.selectedImageSize),$(8),j("ngModel",t.selectedTransitionDuration),$(1),j("ngModel",t.selectedAutoPlayEnabled),$(2),j("ngIf",1==t.selectedAutoPlayEnabled),$(4),j("value",t.selectedTransitionType),$(12),j("ngIf","split"==t.selectedTransitionType||"blur"==t.selectedTransitionType||"distortion"==t.selectedTransitionType),$(1),j("ngIf","noise"==t.selectedTransitionType),$(1),j("ngIf","distortion"==t.selectedTransitionType)}}function xie(i,e){if(1&i){const t=ln();y(0,"button",15),ue("click",function(){Ye(t);const r=fe();return r.settingsOpen=!r.settingsOpen}),y(1,"mat-icon"),M(2),v(),v(),ze(3,bie,37,9,"div",16),y(4,"div",17),ue("click",function(){return Ye(t),Ar(6).next()}),be(5,"lib-image-transition",18,19),v()}if(2&i){const t=fe();$(2),vn(0==t.settingsOpen?"settings":"close"),$(1),j("ngIf",1==t.settingsOpen),$(2),j("imageUrls",t.imageUrls)("transitionType",t.selectedTransitionType)("imageSize",t.selectedImageSize)("transitionDuration",t.selectedTransitionDuration)("autoPlay",t.selectedAutoPlayEnabled)("autoPlayInterval",t.selectedAutoPlayInterval)("intensity",t.selectedIntensity)("sizeX",t.selectedSizeX)("sizeY",t.selectedSizeY)("width",t.selectedWidth)("showPerformanceMonitor",!1)("displacementImageUrl",t.selectedDistUrl)}}let J2=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.utility=r,this.selectedTabIndex=0,this.imageUrls=["assets/image-transition/img1.jpg","assets/image-transition/img2.jpg","assets/image-transition/img3.jpg","assets/image-transition/img4.jpg"],this.disImgUrls=["assets/image-transition/circle_bump.jpg","assets/image-transition/plastic_bump.jpg","assets/image-transition/mosaik_bump.jpg","assets/image-transition/wave_bump.jpg","assets/image-transition/wires_bump.jpg","assets/image-transition/heightMap.png","assets/image-transition/stripe1.png","assets/image-transition/stripes.png"],this.settingsOpen=!1,this.selectedTransitionType="distortion",this.selectedImageSize="cover",this.selectedTransitionDuration=1e3,this.selectedAutoPlayEnabled=!0,this.selectedAutoPlayInterval=5e3,this.selectedIntensity=50,this.selectedSizeX=40,this.selectedSizeY=40,this.selectedWidth=.5,this.selectedDistUrl="",this.code=wie}ngOnInit(){this.selectedDistUrl=this.disImgUrls[0];const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t)}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(T(ls),T(ci),T(Zh))},i.\u0275cmp=kt({type:i,selectors:[["app-image-transition"]],decls:185,vars:3,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://github.com/akella/webGLImageTransitions","target","_blank",1,"external-link"],["href","https://github.com/akella","target","_blank",1,"external-link"],["href","https://unsplash.com/@davidclode?","target","_blank",1,"external-link"],["href","https://unsplash.com/","target","_blank",1,"external-link"],["language","bash"],["language","ts"],["language","html"],[1,"table-container"],[1,"depreciated"],["mat-mini-fab","","color","accent","aria-label","settings button",1,"settings-button",3,"click"],["class","settings-container mat-elevation-z6",4,"ngIf"],[1,"container",3,"click"],[3,"imageUrls","transitionType","imageSize","transitionDuration","autoPlay","autoPlayInterval","intensity","sizeX","sizeY","width","showPerformanceMonitor","displacementImageUrl"],["imageTransition",""],[1,"settings-container","mat-elevation-z6"],[1,"inner-settings-container"],["appearance","fill"],[3,"value","valueChange"],["value","cover"],["value","contain"],["matInput","","type","number",3,"ngModel","ngModelChange"],[1,"slide-toggle",3,"ngModel","ngModelChange"],["appearance","fill",4,"ngIf"],["value","split"],["value","fade"],["value","noise"],["value","blur"],["value","distortion"],[4,"ngIf"],["thumbLabel","","tickInterval","1","min","0","max","100",3,"ngModel","ngModelChange"],[1,"slider"],["thumbLabel","","tickInterval","1","min","1","max","100",3,"ngModel","ngModelChange"],["thumbLabel","","step","0.01","tickInterval","0.01","min","0.01","max","1",3,"ngModel","ngModelChange"],[1,"image-selection-container"],["class","image-selection",3,"ngClass","src","click",4,"ngFor","ngForOf"],[1,"image-selection",3,"ngClass","src","click"]],template:function(t,n){1&t&&(y(0,"mat-tab-group",0),ue("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),y(1,"mat-tab",1),ze(2,xie,7,14,"ng-template",2),v(),y(3,"mat-tab",3),y(4,"div",4),y(5,"div",5),y(6,"h2"),M(7,"Information"),v(),be(8,"mat-divider"),y(9,"p"),M(10," The image transition component is inspired and based on the Github repository "),y(11,"a",6),M(12,"webGLImageTransitions"),v(),M(13," from "),y(14,"a",7),M(15,"Yuriy Artyukh (akella)"),v(),M(16,". Most animation effects are taken from his repository. "),v(),y(17,"p"),M(18," Photo by "),y(19,"a",8),M(20,"David Clode"),v(),M(21," on "),y(22,"a",9),M(23,"Unsplash"),v(),v(),y(24,"h2"),M(25,"Installation"),v(),be(26,"mat-divider"),y(27,"app-code-block",10),M(28,"npm install three @types/three @angular/cdk ngx-acuw"),v(),y(29,"h2"),M(30,"Usage"),v(),be(31,"mat-divider"),y(32,"h3"),M(33,"Import Module"),v(),y(34,"app-code-block",11),M(35),v(),y(36,"h3"),M(37,"Directive Example"),v(),y(38,"app-code-block",12),M(39),v(),y(40,"h2"),M(41,"Image Transition API"),v(),be(42,"mat-divider"),y(43,"h3"),M(44,"Properties"),v(),y(45,"div",13),y(46,"table"),y(47,"tr"),y(48,"th"),M(49,"Name"),v(),y(50,"th"),M(51,"Default value"),v(),y(52,"th"),M(53,"Description"),v(),v(),y(54,"tr"),y(55,"td"),M(56,"@Input() imageUrls: string[]"),v(),y(57,"td"),M(58,"[]"),v(),y(59,"td"),M(60,"Urls to the images"),v(),v(),y(61,"tr"),y(62,"td"),M(63,"@Input() displacementImageUrl: string"),v(),y(64,"td"),M(65,"[]"),v(),y(66,"td"),M(67,'Url of the displacement image (applicable for type: "distortion")'),v(),v(),y(68,"tr"),y(69,"td"),M(70,"@Input() imageSize: string"),v(),y(71,"td"),M(72,"cover"),v(),y(73,"td"),M(74,'Size of the image ("cover", "contain")'),v(),v(),y(75,"tr"),y(76,"td"),M(77,"@Input() autoPlay: boolean"),v(),y(78,"td"),M(79,"false"),v(),y(80,"td"),M(81,"Automatic change of the images"),v(),v(),y(82,"tr"),y(83,"td"),M(84,"@Input() autoPlayInterval: number"),v(),y(85,"td"),M(86,"5000"),v(),y(87,"td"),M(88,"AutoPlay interval in ms, if autoPlay is activated"),v(),v(),y(89,"tr",14),y(90,"td"),M(91,"@Input() toggleTransitionDirection: boolean"),v(),y(92,"td"),M(93,"true"),v(),y(94,"td"),M(95,"true: animation effect is toggled from left to right. false: animation effect only in one direction"),v(),v(),y(96,"tr"),y(97,"td"),M(98,"@Input() transitionDuration: number"),v(),y(99,"td"),M(100,"1000"),v(),y(101,"td"),M(102,"Duration of the transition effenct in ms"),v(),v(),y(103,"tr"),y(104,"td"),M(105,"@Input() transitionType: string"),v(),y(106,"td"),M(107,"split"),v(),y(108,"td"),M(109,'Type of the transition ("split", "fade", "noise", "blur", "distortion")'),v(),v(),y(110,"tr"),y(111,"td"),M(112,"@Input() sizeX: string"),v(),y(113,"td"),M(114,"50.0"),v(),y(115,"td"),M(116,'Size at x-axis of the transition effect (applicable for type: "noise")'),v(),v(),y(117,"tr"),y(118,"td"),M(119,"@Input() sizeY: string"),v(),y(120,"td"),M(121,"50.0"),v(),y(122,"td"),M(123,'Size at y-axis of the transition effect (applicable for type: "noise")'),v(),v(),y(124,"tr"),y(125,"td"),M(126,"@Input() width: string"),v(),y(127,"td"),M(128,"0.5"),v(),y(129,"td"),M(130,'Width of the transition effect (applicable for type: "noise")'),v(),v(),y(131,"tr"),y(132,"td"),M(133,"@Input() intensity: string"),v(),y(134,"td"),M(135,"40.0"),v(),y(136,"td"),M(137,'Intensity of the transition effect (applicable for type: "split", "blur", "distortion"'),v(),v(),y(138,"tr"),y(139,"td"),M(140,"@Input() animationEnabled: boolean"),v(),y(141,"td"),M(142,"true"),v(),y(143,"td"),M(144,' The animation can be stopped by setting the property to "false", e.g. if the element is not in viewport anymore. '),v(),v(),y(145,"tr"),y(146,"td"),M(147,"@Input() startIndex: number"),v(),y(148,"td"),M(149,"0"),v(),y(150,"td"),M(151," Defines with which image should be shown first when the component is created. "),v(),v(),y(152,"tr"),y(153,"td"),M(154,"@Input() showPerformanceMonitor: boolean"),v(),y(155,"td"),M(156,"false"),v(),y(157,"td"),M(158," Show or hide the performance monitor display. "),v(),v(),y(159,"tr"),y(160,"td"),M(161,"@Output() imageIndexChange: EventEmitter<number>"),v(),y(162,"td"),M(163,"-"),v(),y(164,"td"),M(165," Event emitted when the shown image has changed. "),v(),v(),v(),v(),y(166,"h3"),M(167,"Methods"),v(),y(168,"div",13),y(169,"table"),y(170,"tr"),y(171,"th"),M(172,"Name"),v(),y(173,"th"),M(174,"Description"),v(),v(),y(175,"tr"),y(176,"td"),M(177,"next()"),v(),y(178,"td"),M(179,"Loads the next image from the imageUrls array"),v(),v(),y(180,"tr"),y(181,"td"),M(182,"prev()"),v(),y(183,"td"),M(184,"Loads the previous image from the imageUrls array"),v(),v(),v(),v(),v(),v(),v(),v()),2&t&&(j("selectedIndex",n.selectedTabIndex),$(35),vn(n.code.importModule),$(4),vn(n.code.directiveExample))},directives:[nf,zu,tf,rf,sf,af,uf,tr,Ux,Hw,df,Q2,Ow,Uw,Zd,Ga,Wd,Rc,ff,__,qo,Ac],styles:[".slider[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 168px);overflow:hidden}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 176px);overflow:hidden}}.settings-button[_ngcontent-%COMP%]{position:fixed;top:120px;right:20px;z-index:2}.settings-container[_ngcontent-%COMP%]{position:fixed;top:115px;right:0px;display:flex;flex-direction:column;padding:0 10px;background-color:#ffffffe6;border-radius:5px;min-width:150px;z-index:1;max-height:calc(100vh - 150px);max-width:calc(100% - 20px)}.inner-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 10px 40px;overflow-y:auto}.slide-toggle[_ngcontent-%COMP%]{margin:15px 0}.description-container[_ngcontent-%COMP%]{margin:0 10px}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}"],data:{animation:[Br("settingsContainer",[Hn(":enter",[vt({transform:"translateX(100%)"}),In("300ms ease-in",vt({transform:"translateX(0%)"}))]),Hn(":leave",[vt({transform:"translateX(0%)"}),In("300ms ease-in",vt({transform:"translateX(100%)"}))])])]}}),i})();const wie={importModule:"import { ImageTransitionModule } from 'ngx-acuw';\n\n@NgModule({\n  declarations: [AppComponent, ...],\n  imports: [ImageTransitionModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}",directiveExample:'<lib-image-transition \n  [imageUrls]="imageUrls" \n  transitionType="split" \n  imageSize="cover" \n  [transitionDuration]="1000">\n  </lib-image-transition>'};function Mie(i,e){if(1&i){const t=ln();y(0,"mat-form-field",24),y(1,"mat-label"),M(2,"Auto play interval (ms)"),v(),y(3,"input",28),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedAutoPlayInterval=r}),v(),v()}if(2&i){const t=fe(3);$(3),j("ngModel",t.selectedAutoPlayInterval)}}function Cie(i,e){if(1&i){const t=ln();Ir(0),y(1,"div",36),y(2,"span"),M(3,"Intensity"),v(),y(4,"mat-slider",37),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedIntensity=r}),v(),v(),Rr()}if(2&i){const t=fe(3);$(4),j("ngModel",t.selectedIntensity)}}function Eie(i,e){if(1&i){const t=ln();Ir(0),y(1,"div",36),y(2,"span"),M(3,"SizeX"),v(),y(4,"mat-slider",38),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedSizeX=r}),v(),v(),y(5,"div",36),y(6,"span"),M(7,"SizeY"),v(),y(8,"mat-slider",38),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedSizeY=r}),v(),v(),y(9,"div",36),y(10,"span"),M(11,"Width"),v(),y(12,"mat-slider",39),ue("ngModelChange",function(r){return Ye(t),fe(3).selectedWidth=r}),v(),v(),Rr()}if(2&i){const t=fe(3);$(4),j("ngModel",t.selectedSizeX),$(4),j("ngModel",t.selectedSizeY),$(4),j("ngModel",t.selectedWidth)}}const Sie=function(i){return{"image-active":i}};function Tie(i,e){if(1&i){const t=ln();y(0,"img",42),ue("click",function(){const s=Ye(t).$implicit;return fe(4).selectedDistUrl=s}),v()}if(2&i){const t=e.$implicit,n=fe(4);j("ngClass",Rs(2,Sie,t===n.selectedDistUrl))("src",t,Go)}}function Die(i,e){if(1&i&&(Ir(0),y(1,"p"),M(2,"Distortion image:"),v(),y(3,"div",40),ze(4,Tie,1,4,"img",41),v(),Rr()),2&i){const t=fe(3);$(4),j("ngForOf",t.disImgUrls)}}function Aie(i,e){if(1&i){const t=ln();y(0,"div",21),y(1,"h4"),M(2,"Settings"),v(),y(3,"div",22),y(4,"mat-slide-toggle",23),ue("ngModelChange",function(r){return Ye(t),fe(2).selectForceFullscreen=r}),M(5,"Force fullscreen "),v(),y(6,"mat-slide-toggle",23),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedforceShowNavButtons=r}),M(7,"Force show nav-buttons "),v(),y(8,"mat-form-field",24),y(9,"mat-label"),M(10,"Image size"),v(),y(11,"mat-select",25),ue("valueChange",function(r){return Ye(t),fe(2).selectedImageSize=r}),y(12,"mat-option",26),M(13,"cover"),v(),y(14,"mat-option",27),M(15,"contain"),v(),v(),v(),y(16,"mat-form-field",24),y(17,"mat-label"),M(18,"Transition duration (ms)"),v(),y(19,"input",28),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedTransitionDuration=r}),v(),v(),y(20,"mat-slide-toggle",23),ue("ngModelChange",function(r){return Ye(t),fe(2).selectedAutoPlayEnabled=r}),M(21,"Auto play "),v(),ze(22,Mie,4,1,"mat-form-field",29),y(23,"mat-form-field",24),y(24,"mat-label"),M(25,"Transition type"),v(),y(26,"mat-select",25),ue("valueChange",function(r){return Ye(t),fe(2).selectedTransitionType=r}),y(27,"mat-option",30),M(28,"split"),v(),y(29,"mat-option",31),M(30,"fade"),v(),y(31,"mat-option",32),M(32,"noise"),v(),y(33,"mat-option",33),M(34,"blur"),v(),y(35,"mat-option",34),M(36,"distortion"),v(),v(),v(),Ir(37),ze(38,Cie,5,1,"ng-container",35),ze(39,Eie,13,3,"ng-container",35),ze(40,Die,5,1,"ng-container",35),Rr(),v(),v()}if(2&i){const t=fe(2);j("@settingsContainer",void 0),$(4),j("ngModel",t.selectForceFullscreen),$(2),j("ngModel",t.selectedforceShowNavButtons),$(5),j("value",t.selectedImageSize),$(8),j("ngModel",t.selectedTransitionDuration),$(1),j("ngModel",t.selectedAutoPlayEnabled),$(2),j("ngIf",1==t.selectedAutoPlayEnabled),$(4),j("value",t.selectedTransitionType),$(12),j("ngIf","split"==t.selectedTransitionType||"blur"==t.selectedTransitionType||"distortion"==t.selectedTransitionType),$(1),j("ngIf","noise"==t.selectedTransitionType),$(1),j("ngIf","distortion"==t.selectedTransitionType)}}function Iie(i,e){if(1&i){const t=ln();y(0,"img",43),ue("click",function(){const s=Ye(t).index;return fe(),Ar(19).open(s)}),v()}2&i&&j("src",e.$implicit,Go)}function Rie(i,e){if(1&i){const t=ln();y(0,"button",13),ue("click",function(){Ye(t);const r=fe();return r.settingsOpen=!r.settingsOpen}),y(1,"mat-icon"),M(2),v(),v(),ze(3,Aie,41,11,"div",14),y(4,"div",15),y(5,"h2",16),M(6,"Lightbox Demo"),v(),y(7,"h4",16),M(8,"Click on an image to open the lightbox..."),v(),y(9,"div",17),ze(10,Iie,1,1,"img",18),v(),y(11,"p",16),M(12," Photos by "),y(13,"a",6),M(14,"David Clode"),v(),M(15," on "),y(16,"a",7),M(17,"Unsplash"),v(),v(),v(),be(18,"lib-lightbox",19,20)}if(2&i){const t=fe();$(2),vn(0==t.settingsOpen?"settings":"close"),$(1),j("ngIf",1==t.settingsOpen),$(7),j("ngForOf",t.imageThumbUrls),$(8),j("imageUrls",t.imageUrls)("forceFullscreen",t.selectForceFullscreen)("forceShowNavButtons",t.selectedforceShowNavButtons)("transitionType",t.selectedTransitionType)("imageSize",t.selectedImageSize)("transitionDuration",t.selectedTransitionDuration)("autoPlay",t.selectedAutoPlayEnabled)("autoPlayInterval",t.selectedAutoPlayInterval)("intensity",t.selectedIntensity)("sizeX",t.selectedSizeX)("sizeY",t.selectedSizeY)("width",t.selectedWidth)("displacementImageUrl",t.selectedDistUrl)}}let eL=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.utility=r,this.selectedTabIndex=0,this.imageThumbUrls=new Array,this.imageUrls=new Array,this.disImgUrls=["assets/image-transition/circle_bump.jpg","assets/image-transition/plastic_bump.jpg","assets/image-transition/mosaik_bump.jpg","assets/image-transition/wave_bump.jpg","assets/image-transition/wires_bump.jpg","assets/image-transition/heightMap.png","assets/image-transition/stripe1.png","assets/image-transition/stripes.png"],this.settingsOpen=!1,this.selectForceFullscreen=!1,this.selectedforceShowNavButtons=!1,this.selectedTransitionType="distortion",this.selectedImageSize="cover",this.selectedTransitionDuration=1e3,this.selectedAutoPlayEnabled=!1,this.selectedAutoPlayInterval=5e3,this.selectedIntensity=50,this.selectedSizeX=40,this.selectedSizeY=40,this.selectedWidth=.5,this.selectedDistUrl=this.disImgUrls[0],this.code=Pie;for(let s=1;s<=10;s++)this.imageThumbUrls.push(`assets/image-transition/thumb/img${s}.jpg`),this.imageUrls.push(`assets/image-transition/img${s}.jpg`)}ngOnInit(){const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t)}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(T(ls),T(ci),T(Zh))},i.\u0275cmp=kt({type:i,selectors:[["app-lightbox"]],decls:171,vars:3,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://unsplash.com/@davidclode?","target","_blank",1,"external-link"],["href","https://unsplash.com/","target","_blank",1,"external-link"],["language","bash"],["language","css"],["language","ts"],["language","html"],[1,"table-container"],["mat-mini-fab","","color","accent","aria-label","settings button",1,"settings-button",3,"click"],["class","settings-container mat-elevation-z6",4,"ngIf"],[1,"container"],[1,"centered-text"],[1,"gallery"],["loading","lazy",3,"src","click",4,"ngFor","ngForOf"],[3,"imageUrls","forceFullscreen","forceShowNavButtons","transitionType","imageSize","transitionDuration","autoPlay","autoPlayInterval","intensity","sizeX","sizeY","width","displacementImageUrl"],["lightbox",""],[1,"settings-container","mat-elevation-z6"],[1,"inner-settings-container"],[1,"slide-toggle",3,"ngModel","ngModelChange"],["appearance","fill"],[3,"value","valueChange"],["value","cover"],["value","contain"],["matInput","","type","number",3,"ngModel","ngModelChange"],["appearance","fill",4,"ngIf"],["value","split"],["value","fade"],["value","noise"],["value","blur"],["value","distortion"],[4,"ngIf"],[1,"slider"],["thumbLabel","","tickInterval","1","min","0","max","100",3,"ngModel","ngModelChange"],["thumbLabel","","tickInterval","1","min","1","max","100",3,"ngModel","ngModelChange"],["thumbLabel","","step","0.01","tickInterval","0.01","min","0.01","max","1",3,"ngModel","ngModelChange"],[1,"image-selection-container"],["class","image-selection",3,"ngClass","src","click",4,"ngFor","ngForOf"],[1,"image-selection",3,"ngClass","src","click"],["loading","lazy",3,"src","click"]],template:function(t,n){1&t&&(y(0,"mat-tab-group",0),ue("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),y(1,"mat-tab",1),ze(2,Rie,20,16,"ng-template",2),v(),y(3,"mat-tab",3),y(4,"div",4),y(5,"div",5),y(6,"h2"),M(7,"Information"),v(),be(8,"mat-divider"),y(9,"p"),M(10," The lighbox component uses the image transition component and wraps it into a lightbox gallery. In the lightbox all the image transition effects of the image transition component can be used. This lightbox with the amazing transition effects can be easily integrated in every Angular website. "),v(),y(11,"p"),M(12," Photos by "),y(13,"a",6),M(14,"David Clode"),v(),M(15," on "),y(16,"a",7),M(17,"Unsplash"),v(),v(),y(18,"h2"),M(19,"Installation"),v(),be(20,"mat-divider"),y(21,"app-code-block",8),M(22,"npm install three @types/three @angular/cdk ngx-acuw"),v(),y(23,"h2"),M(24,"Usage"),v(),be(25,"mat-divider"),y(26,"h3"),M(27,"Styles"),v(),y(28,"p"),M(29,"If you're using Angular Material, these styles have been included together with the theme, otherwise if you're using the CDK on its own, you'll have to include the styles yourself. You can do so by importing the prebuilt styles in your global stylesheet:"),v(),y(30,"app-code-block",9),M(31,"@import '~@angular/cdk/overlay-prebuilt.css';"),v(),y(32,"h3"),M(33,"Import Module"),v(),y(34,"app-code-block",10),M(35),v(),y(36,"h3"),M(37,"Directive Example"),v(),y(38,"app-code-block",11),M(39),v(),y(40,"h2"),M(41,"Lightbox API"),v(),be(42,"mat-divider"),y(43,"h3"),M(44,"Properties"),v(),y(45,"div",12),y(46,"table"),y(47,"tr"),y(48,"th"),M(49,"Name"),v(),y(50,"th"),M(51,"Default value"),v(),y(52,"th"),M(53,"Description"),v(),v(),y(54,"tr"),y(55,"td"),M(56,"@Input() imageUrls: string[]"),v(),y(57,"td"),M(58,"[]"),v(),y(59,"td"),M(60,"Urls to the images"),v(),v(),y(61,"tr"),y(62,"td"),M(63,"@Input() displacementImageUrl: string"),v(),y(64,"td"),M(65,"[]"),v(),y(66,"td"),M(67,'Url of the displacement image (applicable for type: "distortion")'),v(),v(),y(68,"tr"),y(69,"td"),M(70,"@Input() forceFullscreen: boolean"),v(),y(71,"td"),M(72,"false"),v(),y(73,"td"),M(74,"Set to true, to always show the lightbox in fullscreen mode"),v(),v(),y(75,"tr"),y(76,"td"),M(77,"@Input() forceShowNavButtons: boolean"),v(),y(78,"td"),M(79,"false"),v(),y(80,"td"),M(81,"Set to true, to always show the navigation buttons"),v(),v(),y(82,"tr"),y(83,"td"),M(84,"@Input() imageSize: string"),v(),y(85,"td"),M(86,"cover"),v(),y(87,"td"),M(88,'Size of the image ("cover", "contain")'),v(),v(),y(89,"tr"),y(90,"td"),M(91,"@Input() autoPlay: boolean"),v(),y(92,"td"),M(93,"false"),v(),y(94,"td"),M(95,"Switch through the images automatically (true, false)"),v(),v(),y(96,"tr"),y(97,"td"),M(98,"@Input() autoPlayInterval: number"),v(),y(99,"td"),M(100,"5000"),v(),y(101,"td"),M(102,"AutoPlay interval in ms, if autoPlay is activated"),v(),v(),y(103,"tr"),y(104,"td"),M(105,"@Input() transitionDuration: number"),v(),y(106,"td"),M(107,"1000"),v(),y(108,"td"),M(109,"Duration of the transition effenct in ms"),v(),v(),y(110,"tr"),y(111,"td"),M(112,"@Input() transitionType: string"),v(),y(113,"td"),M(114,"split"),v(),y(115,"td"),M(116,'Type of the transition ("split", "fade", "noise", "blur", "distortion")'),v(),v(),y(117,"tr"),y(118,"td"),M(119,"@Input() sizeX: string"),v(),y(120,"td"),M(121,"50.0"),v(),y(122,"td"),M(123,'Size at x-axis of the transition effect (applicable for type: "noise")'),v(),v(),y(124,"tr"),y(125,"td"),M(126,"@Input() sizeY: string"),v(),y(127,"td"),M(128,"50.0"),v(),y(129,"td"),M(130,'Size at y-axis of the transition effect (applicable for type: "noise")'),v(),v(),y(131,"tr"),y(132,"td"),M(133,"@Input() width: string"),v(),y(134,"td"),M(135,"0.5"),v(),y(136,"td"),M(137,'Width of the transition effect (applicable for type: "noise")'),v(),v(),y(138,"tr"),y(139,"td"),M(140,"@Input() intensity: string"),v(),y(141,"td"),M(142,"40.0"),v(),y(143,"td"),M(144,'Intensity of the transition effect (applicable for type: "split", "blur", "distortion"'),v(),v(),y(145,"tr"),y(146,"td"),M(147,"@Input() showPerformanceMonitor: boolean"),v(),y(148,"td"),M(149,"false"),v(),y(150,"td"),M(151," Show or hide the performance monitor display. "),v(),v(),v(),v(),y(152,"h3"),M(153,"Methods"),v(),y(154,"div",12),y(155,"table"),y(156,"tr"),y(157,"th"),M(158,"Name"),v(),y(159,"th"),M(160,"Description"),v(),v(),y(161,"tr"),y(162,"td"),M(163,"open(index?: number)"),v(),y(164,"td"),M(165,"Opens the lightbox and shows the image of the specified index (index = 0, if not specified)"),v(),v(),y(166,"tr"),y(167,"td"),M(168,"close()"),v(),y(169,"td"),M(170,"Closes the lightbox"),v(),v(),v(),v(),v(),v(),v(),v()),2&t&&(j("selectedIndex",n.selectedTabIndex),$(35),vn(n.code.importModule),$(4),vn(n.code.directiveExample))},directives:[nf,zu,tf,rf,sf,af,uf,tr,qo,UK,ff,Wd,Rc,Hw,df,Q2,Ow,Uw,Zd,Ga,__,Ac],styles:[".gallery[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;max-width:800px;margin:20px auto 10px}.gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;margin:10px;cursor:pointer}.gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.5}.centered-text[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 104px)}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 112px)}}.settings-button[_ngcontent-%COMP%]{position:fixed;top:120px;right:20px;z-index:2}.settings-container[_ngcontent-%COMP%]{position:fixed;top:115px;right:0px;display:flex;flex-direction:column;padding:0 10px;background-color:#ffffffe6;border-radius:5px;min-width:150px;z-index:1;max-height:calc(100vh - 150px);max-width:calc(100% - 20px)}.inner-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 10px 40px;overflow-y:auto}.slide-toggle[_ngcontent-%COMP%]{margin:15px 0}.description-container[_ngcontent-%COMP%]{margin:0 10px}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}.slider[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],data:{animation:[Br("settingsContainer",[Hn(":enter",[vt({transform:"translateX(100%)"}),In("300ms ease-in",vt({transform:"translateX(0%)"}))]),Hn(":leave",[vt({transform:"translateX(0%)"}),In("300ms ease-in",vt({transform:"translateX(100%)"}))])])]}}),i})();const Pie={importModule:"import { LightboxModule } from 'ngx-acuw';\n\n@NgModule({ \n  declarations: [AppComponent, ...],\n  imports: [LightboxModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {; \n}",directiveExample:'<div class="gallery">\n  <img *ngFor="let imgUrl of imageUrls; let idx = index" \n    [src]="imgUrl" (click)="lightbox.open(idx)" \n    loading="lazy">\n</div>;\n  \n<lib-lightbox #lightbox \n  [imageUrls]="imageUrls" \n  transitionType="split" \n  imageSize="cover" \n  transitionDuration="500">\n</lib-lightbox>'},tL={type:"change"},jw={type:"start"},nL={type:"end"};class kie extends na{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new E,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(O){O.addEventListener("keydown",F),this._domElementKeyEvents=O},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(tL),n.update(),s=r.NONE},this.update=function(){const O=new E,P=(new Pn).setFromUnitVectors(e.up,new E(0,1,0)),le=P.clone().invert(),ae=new E,Ze=new Pn,Oe=2*Math.PI;return function(){const Ae=n.object.position;O.copy(Ae).sub(n.target),O.applyQuaternion(P),a.setFromVector3(O),n.autoRotate&&s===r.NONE&&W(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(a.theta+=l.theta*n.dampingFactor,a.phi+=l.phi*n.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let tt=n.minAzimuthAngle,jt=n.maxAzimuthAngle;return isFinite(tt)&&isFinite(jt)&&(tt<-Math.PI?tt+=Oe:tt>Math.PI&&(tt-=Oe),jt<-Math.PI?jt+=Oe:jt>Math.PI&&(jt-=Oe),a.theta=tt<=jt?Math.max(tt,Math.min(jt,a.theta)):a.theta>(tt+jt)/2?Math.max(tt,a.theta):Math.min(jt,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),!0===n.enableDamping?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),O.setFromSpherical(a),O.applyQuaternion(le),Ae.copy(n.target).add(O),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,!!(d||ae.distanceToSquared(n.object.position)>o||8*(1-Ze.dot(n.object.quaternion))>o)&&(n.dispatchEvent(tL),ae.copy(n.object.position),Ze.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",de),n.domElement.removeEventListener("pointerdown",ve),n.domElement.removeEventListener("pointercancel",ht),n.domElement.removeEventListener("wheel",hn),n.domElement.removeEventListener("pointermove",ke),n.domElement.removeEventListener("pointerup",Ee),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",F)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new tk,l=new tk;let c=1;const u=new E;let d=!1;const h=new Q,f=new Q,p=new Q,g=new Q,b=new Q,_=new Q,m=new Q,w=new Q,x=new Q,C=[],D={};function N(){return Math.pow(.95,n.zoomSpeed)}function W(O){l.theta-=O}function z(O){l.phi-=O}const V=function(){const O=new E;return function(le,ae){O.setFromMatrixColumn(ae,0),O.multiplyScalar(-le),u.add(O)}}(),S=function(){const O=new E;return function(le,ae){!0===n.screenSpacePanning?O.setFromMatrixColumn(ae,1):(O.setFromMatrixColumn(ae,0),O.crossVectors(n.object.up,O)),O.multiplyScalar(le),u.add(O)}}(),A=function(){const O=new E;return function(le,ae){const Ze=n.domElement;if(n.object.isPerspectiveCamera){O.copy(n.object.position).sub(n.target);let bt=O.length();bt*=Math.tan(n.object.fov/2*Math.PI/180),V(2*le*bt/Ze.clientHeight,n.object.matrix),S(2*ae*bt/Ze.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(V(le*(n.object.right-n.object.left)/n.object.zoom/Ze.clientWidth,n.object.matrix),S(ae*(n.object.top-n.object.bottom)/n.object.zoom/Ze.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function H(O){n.object.isPerspectiveCamera?c/=O:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*O)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function G(O){n.object.isPerspectiveCamera?c*=O:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/O)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(O){h.set(O.clientX,O.clientY)}function K(O){g.set(O.clientX,O.clientY)}function me(){1===C.length?h.set(C[0].pageX,C[0].pageY):h.set(.5*(C[0].pageX+C[1].pageX),.5*(C[0].pageY+C[1].pageY))}function Et(){1===C.length?g.set(C[0].pageX,C[0].pageY):g.set(.5*(C[0].pageX+C[1].pageX),.5*(C[0].pageY+C[1].pageY))}function re(){const O=C[0].pageX-C[1].pageX,P=C[0].pageY-C[1].pageY,le=Math.sqrt(O*O+P*P);m.set(0,le)}function Le(O){if(1==C.length)f.set(O.pageX,O.pageY);else{const le=Xe(O);f.set(.5*(O.pageX+le.x),.5*(O.pageY+le.y))}p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const P=n.domElement;W(2*Math.PI*p.x/P.clientHeight),z(2*Math.PI*p.y/P.clientHeight),h.copy(f)}function Ve(O){if(1===C.length)b.set(O.pageX,O.pageY);else{const P=Xe(O);b.set(.5*(O.pageX+P.x),.5*(O.pageY+P.y))}_.subVectors(b,g).multiplyScalar(n.panSpeed),A(_.x,_.y),g.copy(b)}function It(O){const P=Xe(O),le=O.pageX-P.x,ae=O.pageY-P.y,Ze=Math.sqrt(le*le+ae*ae);w.set(0,Ze),x.set(0,Math.pow(w.y/m.y,n.zoomSpeed)),H(x.y),m.copy(w)}function ve(O){!1!==n.enabled&&(0===C.length&&(n.domElement.setPointerCapture(O.pointerId),n.domElement.addEventListener("pointermove",ke),n.domElement.addEventListener("pointerup",Ee)),function(O){C.push(O)}(O),"touch"===O.pointerType?function(O){switch(ct(O),C.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;me(),s=r.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;Et(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&re(),n.enablePan&&Et(),s=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&re(),n.enableRotate&&me(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(jw)}(O):function(O){let P;switch(O.button){case 0:P=n.mouseButtons.LEFT;break;case 1:P=n.mouseButtons.MIDDLE;break;case 2:P=n.mouseButtons.RIGHT;break;default:P=-1}switch(P){case 1:if(!1===n.enableZoom)return;(function(O){m.set(O.clientX,O.clientY)})(O),s=r.DOLLY;break;case 0:if(O.ctrlKey||O.metaKey||O.shiftKey){if(!1===n.enablePan)return;K(O),s=r.PAN}else{if(!1===n.enableRotate)return;L(O),s=r.ROTATE}break;case 2:if(O.ctrlKey||O.metaKey||O.shiftKey){if(!1===n.enableRotate)return;L(O),s=r.ROTATE}else{if(!1===n.enablePan)return;K(O),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(jw)}(O))}function ke(O){!1!==n.enabled&&("touch"===O.pointerType?function(O){switch(ct(O),s){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;Le(O),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;Ve(O),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function(O){n.enableZoom&&It(O),n.enablePan&&Ve(O)})(O),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function(O){n.enableZoom&&It(O),n.enableRotate&&Le(O)})(O),n.update();break;default:s=r.NONE}}(O):function(O){if(!1!==n.enabled)switch(s){case r.ROTATE:if(!1===n.enableRotate)return;!function(O){f.set(O.clientX,O.clientY),p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const P=n.domElement;W(2*Math.PI*p.x/P.clientHeight),z(2*Math.PI*p.y/P.clientHeight),h.copy(f),n.update()}(O);break;case r.DOLLY:if(!1===n.enableZoom)return;!function(O){w.set(O.clientX,O.clientY),x.subVectors(w,m),x.y>0?H(N()):x.y<0&&G(N()),m.copy(w),n.update()}(O);break;case r.PAN:if(!1===n.enablePan)return;!function(O){b.set(O.clientX,O.clientY),_.subVectors(b,g).multiplyScalar(n.panSpeed),A(_.x,_.y),g.copy(b),n.update()}(O)}}(O))}function Ee(O){ce(O),0===C.length&&(n.domElement.releasePointerCapture(O.pointerId),n.domElement.removeEventListener("pointermove",ke),n.domElement.removeEventListener("pointerup",Ee)),n.dispatchEvent(nL),s=r.NONE}function ht(O){ce(O)}function hn(O){!1===n.enabled||!1===n.enableZoom||s!==r.NONE||(O.preventDefault(),n.dispatchEvent(jw),function(O){O.deltaY<0?G(N()):O.deltaY>0&&H(N()),n.update()}(O),n.dispatchEvent(nL))}function F(O){!1===n.enabled||!1===n.enablePan||function(O){let P=!1;switch(O.code){case n.keys.UP:A(0,n.keyPanSpeed),P=!0;break;case n.keys.BOTTOM:A(0,-n.keyPanSpeed),P=!0;break;case n.keys.LEFT:A(n.keyPanSpeed,0),P=!0;break;case n.keys.RIGHT:A(-n.keyPanSpeed,0),P=!0}P&&(O.preventDefault(),n.update())}(O)}function de(O){!1!==n.enabled&&O.preventDefault()}function ce(O){delete D[O.pointerId];for(let P=0;P<C.length;P++)if(C[P].pointerId==O.pointerId)return void C.splice(P,1)}function ct(O){let P=D[O.pointerId];void 0===P&&(P=new Q,D[O.pointerId]=P),P.set(O.pageX,O.pageY)}function Xe(O){return D[(O.pointerId===C[0].pointerId?C[1]:C[0]).pointerId]}n.domElement.addEventListener("contextmenu",de),n.domElement.addEventListener("pointerdown",ve),n.domElement.addEventListener("pointercancel",ht),n.domElement.addEventListener("wheel",hn,{passive:!1}),this.update()}}const Fie=["threejsContainer"],Lie=["performanceMonitor"];function Oie(i,e){1&i&&(y(0,"div",13),be(1,"div",14,15),v(),be(3,"acuw-performance-monitor",null,16))}let iL=(()=>{class i{constructor(t,n,r,s){this.route=t,this.router=n,this.utility=r,this.ngZone=s,this.selectedTabIndex=0,this.renderer=new nn({antialias:!0,alpha:!0}),this.scene=new ha,this.code=Nie}ngOnInit(){const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t)}ngAfterViewInit(){0==this.selectedTabIndex&&this.initScene()}ngOnDestroy(){this.scene.clear(),cancelAnimationFrame(this.animationFrameId)}initScene(){const t=this.threejsContainer.nativeElement.clientWidth,n=this.threejsContainer.nativeElement.clientHeight;this.camera=new qn(50,t/n,1,1e4),this.camera.position.z=20;const r=new Ax(16777215,.5);r.position.set(0,20,30),this.scene.add(r),this.geometry=new Du(5,1),this.geometry.clearGroups(),this.geometry.addGroup(0,3,0),this.geometry.addGroup(3,3,1),this.geometry.addGroup(6,3,0),this.geometry.addGroup(9,3,0),this.geometry.addGroup(12,3,1),this.geometry.addGroup(15,3,0),this.geometry.addGroup(18,3,1),this.geometry.addGroup(21,3,1),this.geometry.addGroup(24,3,0),this.geometry.addGroup(27,3,1),this.geometry.addGroup(30,3,0),this.geometry.addGroup(33,3,0),this.geometry.addGroup(36,3,1),this.geometry.addGroup(39,3,0),this.geometry.addGroup(42,3,1),this.geometry.addGroup(45,3,1),this.geometry.addGroup(48,3,0),this.geometry.addGroup(51,3,1),this.geometry.addGroup(54,3,0),this.geometry.addGroup(57,3,0),this.geometry.addGroup(60,3,1),this.geometry.addGroup(63,3,0),this.geometry.addGroup(66,3,1),this.geometry.addGroup(69,3,1),this.geometry.addGroup(72,3,0),this.geometry.addGroup(75,3,1),this.geometry.addGroup(78,3,0),this.geometry.addGroup(81,3,0),this.geometry.addGroup(84,3,1),this.geometry.addGroup(87,3,0),this.geometry.addGroup(90,3,1),this.geometry.addGroup(93,3,1);const s=(new cl).load("assets/performance-monitor/metalroughness.png"),o=[new Lh({color:16777215,emissive:194314,emissiveIntensity:1,roughness:.25,metalness:1,roughnessMap:s,transparent:!0,blending:2,opacity:.6,side:2}),new Lh({color:10855845,emissive:4671303,emissiveIntensity:1,roughness:.8,metalness:1,roughnessMap:s,side:2})];var a=new zn(this.geometry,o);this.scene.add(a),this.renderer.setSize(t-1,n),this.threejsContainer.nativeElement.appendChild(this.renderer.domElement),new kie(this.camera,this.renderer.domElement).update(),this.animate()}animate(){this.renderer&&this.ngZone.runOutsideAngular(()=>{this.animationFrameId=window.requestAnimationFrame(()=>this.animate()),this.geometry.rotateY(.005),this.geometry.rotateZ(.001),this.renderer.render(this.scene,this.camera),this.performanceMonitor.end()})}resize(){if(this.renderer&&this.threejsContainer){const t=this.threejsContainer.nativeElement.clientWidth,n=this.threejsContainer.nativeElement.clientHeight;this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,n)}}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route}),0===t?setTimeout(()=>{this.initScene()},0):this.ngOnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(T(ls),T(ci),T(Zh),T(rt))},i.\u0275cmp=kt({type:i,selectors:[["app-performance-monitor"]],viewQuery:function(t,n){if(1&t&&(Vt(Fie,5),Vt(Lie,5)),2&t){let r;Ne(r=Be())&&(n.threejsContainer=r.first),Ne(r=Be())&&(n.performanceMonitor=r.first)}},hostBindings:function(t,n){1&t&&ue("resize",function(){return n.resize()},!1,Jl)},decls:94,vars:5,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://mrdoob.github.io/stats.js/","target","_blank",1,"external-link"],["href","https://github.com/mrdoob","target","_blank",1,"external-link"],["language","bash"],["language","ts"],["language","html"],[1,"table-container"],["language","css"],[1,"container"],[1,"threejs-container"],["threejsContainer",""],["performanceMonitor",""]],template:function(t,n){1&t&&(y(0,"mat-tab-group",0),ue("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),y(1,"mat-tab",1),ze(2,Oie,5,0,"ng-template",2),v(),y(3,"mat-tab",3),y(4,"div",4),y(5,"div",5),y(6,"h2"),M(7,"Information"),v(),be(8,"mat-divider"),y(9,"p"),M(10," The performance monitor component is a small display, which shows the number of rendered frames per second. This component helps to keep track of the performance for WEBGL scenes and can be integrated very easily in Angular applications. It is already integrated per default in all components of the ngx-acuw library and can be shown by just setting a property of the components. If you want to use the performance monitor in custom projects you can follow the description below. "),v(),y(11,"p"),M(12," The performance monitor display is strongly inspired by "),y(13,"a",6),M(14,"stats.js"),v(),M(15," from "),y(16,"a",7),M(17,"Mr.doob"),v(),M(18,". "),v(),y(19,"h2"),M(20,"Installation"),v(),be(21,"mat-divider"),y(22,"app-code-block",8),M(23,"npm install three @types/three @angular/cdk ngx-acuw"),v(),y(24,"h2"),M(25,"Usage"),v(),be(26,"mat-divider"),y(27,"h3"),M(28,"Import Module"),v(),y(29,"app-code-block",9),M(30),v(),y(31,"h3"),M(32,"Directive Example"),v(),y(33,"app-code-block",10),M(34),v(),y(35,"h3"),M(36,"TS Example"),v(),y(37,"app-code-block",9),M(38),v(),y(39,"h2"),M(40,"Performance-Monitor API"),v(),be(41,"mat-divider"),y(42,"h3"),M(43,"Properties"),v(),y(44,"div",11),y(45,"table"),y(46,"tr"),y(47,"th"),M(48,"Name"),v(),y(49,"th"),M(50,"Default value"),v(),y(51,"th"),M(52,"Description"),v(),v(),y(53,"tr"),y(54,"td"),M(55,"fps: number"),v(),y(56,"td"),M(57,"-1"),v(),y(58,"td"),M(59,"Current frames per second. The value is calculated every second."),v(),v(),y(60,"tr"),y(61,"td"),M(62,"fpsMin: number"),v(),y(63,"td"),M(64,"-1"),v(),y(65,"td"),M(66,"Min. frames per seconds starting from the time the compent has been created."),v(),v(),y(67,"tr"),y(68,"td"),M(69,"fpsMax: number"),v(),y(70,"td"),M(71,"-1"),v(),y(72,"td"),M(73,"Max. frames per seconds starting from the time the compent has been created."),v(),v(),v(),v(),y(74,"h3"),M(75,"Methods"),v(),y(76,"div",11),y(77,"table"),y(78,"tr"),y(79,"th"),M(80,"Name"),v(),y(81,"th"),M(82,"Description"),v(),v(),y(83,"tr"),y(84,"td"),M(85,"end(): void"),v(),y(86,"td"),M(87,"Method to be called at the end of a frame"),v(),v(),v(),v(),y(88,"h3"),M(89,"Styling"),v(),y(90,"p"),M(91,"Available CSS variables:"),v(),y(92,"app-code-block",12),M(93),v(),v(),v(),v(),v()),2&t&&(j("selectedIndex",n.selectedTabIndex),$(30),vn(n.code.importModule),$(4),vn(n.code.directiveExample),$(4),vn(n.code.tsExample),$(55),vn(n.code.cssVariables))},directives:[nf,zu,tf,rf,sf,Ug],styles:[".container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 168px)}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 176px)}}.threejs-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#000}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}"]}),i})();const Nie={importModule:"import { PerformanceMonitorModule } from 'ngx-acuw';\n  \n@NgModule({ \n  declarations: [AppComponent, ...],\n  imports: [PerformanceMonitorModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { \n}",directiveExample:'<div class="container">\n  <div #threejsContainer class="threejs-container"></div>\n</div>\n<acuw-performance-monitor #performanceMonitor></acuw-performance-monitor>',tsExample:"\n@ViewChild('performanceMonitor') performanceMonitor!: PerformanceMonitorComponent;\n\nprivate animate(): void {\n  // Run animation function outside to avoid invoking change detection\n  this.ngZone.runOutsideAngular(() => {\n    this.animationFrameId = window.requestAnimationFrame(() => this.animate());\n\n    // Code to be monitored\n        \n    // Call end() method of the perfomance monitor\n    this.performanceMonitor.end();\n  });\n}",cssVariables:"acuw-performance-monitor {\n  --position: absolute;\n  --color: rgb(255, 255, 255);\n  --background-color: rgba(0, 0, 0, 0.8);\n  --top: 5px;\n  --left: 5px;\n  --width: 100px;\n  --padding: 5px;\n  --display: flex;\n  --flex-direction: column;\n  --align-items: center;\n  }"},Bie=[{path:"home",component:Gne},{path:"image-as-particles",component:q2},{path:"image-as-particles/:tab",component:q2},{path:"image-transition",component:J2},{path:"image-transition/:tab",component:J2},{path:"lightbox",component:eL},{path:"lightbox/:tab",component:eL},{path:"carousel",component:$2},{path:"carousel/:tab",component:$2},{path:"performanceMonitor",component:iL},{path:"performanceMonitor/:tab",component:iL},{path:"",redirectTo:"home",pathMatch:"full"}];let Vie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fI.forRoot(Bie)],fI]}),i})();const Hie=["*",[["mat-toolbar-row"]]],zie=["*","mat-toolbar-row"],Uie=Ml(class{constructor(i){this._elementRef=i}});let Gie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),Wie=(()=>{class i extends Uie{constructor(t,n,r){super(t),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(vi),T(yt))},i.\u0275cmp=kt({type:i,selectors:[["mat-toolbar"]],contentQueries:function(t,n,r){if(1&t&&cn(r,Gie,5),2&t){let s;Ne(s=Be())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,n){2&t&&Lt("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",0===n._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Je],ngContentSelectors:zie,decls:2,vars:0,template:function(t,n){1&t&&(oi(Hie),Kt(0),Kt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),jie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[un],un]}),i})();function rL(i){return e=>e.lift(new $ie(i))}class $ie{constructor(e){this.value=e}call(e,t){return t.subscribe(new qie(e,this.value))}}class qie extends at{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const v_=["*"];function Yie(i,e){if(1&i){const t=ln();y(0,"div",2),ue("click",function(){return Ye(t),fe()._onBackdropClicked()}),v()}2&i&&Lt("mat-drawer-shown",fe()._isShowingBackdrop())}function Xie(i,e){1&i&&(y(0,"mat-drawer-content"),Kt(1,2),v())}const Zie=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Kie=["mat-drawer","mat-drawer-content","*"];function Qie(i,e){if(1&i){const t=ln();y(0,"div",2),ue("click",function(){return Ye(t),fe()._onBackdropClicked()}),v()}2&i&&Lt("mat-drawer-shown",fe()._isShowingBackdrop())}function Jie(i,e){1&i&&(y(0,"mat-sidenav-content",3),Kt(1,2),v())}const ere=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],tre=["mat-sidenav","mat-sidenav-content","*"],sL={transformDrawer:Br("transform",[cs("open, open-instant",vt({transform:"none",visibility:"visible"})),cs("void",vt({"box-shadow":"none",visibility:"hidden"})),Hn("void => open-instant",In("0ms")),Hn("void <=> open, open-instant => void",In("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ire=new we("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),$w=new we("MAT_DRAWER_CONTAINER");let b_=(()=>{class i extends $g{constructor(t,n,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(t){return new(t||i)(T(Vn),T(qt(()=>aL)),T(dt),T(jg),T(rt))},i.\u0275cmp=kt({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,n){2&t&&Na("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[Je],ngContentSelectors:v_,decls:1,vars:0,template:function(t,n){1&t&&(oi(),Kt(0))},encapsulation:2,changeDetection:0}),i})(),oL=(()=>{class i{constructor(t,n,r,s,o,a,l,c){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ke,this._animationEnd=new Ke,this._animationState="void",this.openedChange=new $e(!0),this._openedStream=this.openedChange.pipe(Ci(u=>u),ft(()=>{})),this.openedStart=this._animationStarted.pipe(Ci(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),rL(void 0)),this._closedStream=this.openedChange.pipe(Ci(u=>!u),ft(()=>{})),this.closedStart=this._animationStarted.pipe(Ci(u=>u.fromState!==u.toState&&"void"===u.toState),rL(void 0)),this._destroyed=new Ke,this.onPositionChanged=new $e,this._modeChanged=new Ke,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ba(this._elementRef.nativeElement,"keydown").pipe(Ci(u=>27===u.keyCode&&!this.disableClose&&!zs(u)),Qt(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(qg((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Wt(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Wt(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Wt(t))}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var t;const n=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!n&&this._elementRef.nativeElement.contains(n)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,n,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Lr(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(SQ),T(Ou),T(vi),T(rt),T(rF),T(yt,8),T($w,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,n){1&t&&dv("@transform.start",function(s){return n._animationStarted.next(s)})("@transform.done",function(s){return n._animationEnd.next(s)}),2&t&&(tn("align",null),_v("@transform",n._animationState),Lt("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:v_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){1&t&&(oi(),y(0,"div",0),Kt(1),v())},directives:[$g],encapsulation:2,data:{animation:[sL.transformDrawer]},changeDetection:0}),i})(),aL=(()=>{class i{constructor(t,n,r,s,o,a=!1,l){this._dir=t,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new Va,this.backdropClick=new $e,this._destroyed=new Ke,this._doCheckSubject=new Ke,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ke,t&&t.change.pipe(Qt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Qt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Wt(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Wt(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Or(this._allDrawers),Qt(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Or(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ew(10),Qt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,t-=r}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Ci(n=>n.fromState!==n.toState),Qt(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Qt(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(Qt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Lr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Qt(vs(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return i.\u0275fac=function(t){return new(t||i)(T(Gr,8),T(dt),T(rt),T(Vn),T(_l),T(ire),T(Ki,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(t,n,r){if(1&t&&(cn(r,b_,5),cn(r,oL,5)),2&t){let s;Ne(s=Be())&&(n._content=s.first),Ne(s=Be())&&(n._allDrawers=s)}},viewQuery:function(t,n){if(1&t&&Vt(b_,5),2&t){let r;Ne(r=Be())&&(n._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,n){2&t&&Lt("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ut([{provide:$w,useExisting:i}])],ngContentSelectors:Kie,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,n){1&t&&(oi(Zie),ze(0,Yie,1,2,"div",0),Kt(1),Kt(2,1),ze(3,Xie,2,0,"mat-drawer-content",1)),2&t&&(j("ngIf",n.hasBackdrop),$(3),j("ngIf",!n._content))},directives:[tr,b_],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),i})(),qw=(()=>{class i extends b_{constructor(t,n,r,s,o){super(t,n,r,s,o)}}return i.\u0275fac=function(t){return new(t||i)(T(Vn),T(qt(()=>cL)),T(dt),T(jg),T(rt))},i.\u0275cmp=kt({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,n){2&t&&Na("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[Je],ngContentSelectors:v_,decls:1,vars:0,template:function(t,n){1&t&&(oi(),Kt(0))},encapsulation:2,changeDetection:0}),i})(),lL=(()=>{class i extends oL{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Wt(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=yr(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=yr(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=wi(i)))(n||i)}}(),i.\u0275cmp=kt({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,n){2&t&&(tn("align",null),Na("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),Lt("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Je],ngContentSelectors:v_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){1&t&&(oi(),y(0,"div",0),Kt(1),v())},directives:[$g],encapsulation:2,data:{animation:[sL.transformDrawer]},changeDetection:0}),i})(),cL=(()=>{class i extends aL{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=wi(i)))(n||i)}}(),i.\u0275cmp=kt({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(t,n,r){if(1&t&&(cn(r,qw,5),cn(r,lL,5)),2&t){let s;Ne(s=Be())&&(n._content=s.first),Ne(s=Be())&&(n._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,n){2&t&&Lt("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ut([{provide:$w,useExisting:i}]),Je],ngContentSelectors:tre,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,n){1&t&&(oi(ere),ze(0,Qie,1,2,"div",0),Kt(1),Kt(2,1),ze(3,Jie,2,0,"mat-sidenav-content",1)),2&t&&(j("ngIf",n.hasBackdrop),$(3),j("ngIf",!n._content))},directives:[tr,qw,$g],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),i})(),sre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[fr,un,Hh,Wh],Wh,un]}),i})();const ore=["*"],lre=["text"];function cre(i,e){if(1&i&&be(0,"mat-pseudo-checkbox",5),2&i){const t=fe();j("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const ure=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],dre=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let hre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),fre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Te({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})();const pre=Hu(class{}),mre=Hu(class{}),gre={provide:pr,useExisting:qt(()=>Yw),multi:!0};class _re{constructor(e,t,n){this.source=e,this.option=t,this.options=n}}let uL=(()=>{class i extends mre{constructor(t,n,r){super(),this._element=t,this._changeDetector=n,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new $e,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const n=Wt(t);n!==this._disabled&&(this._disabled=n,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const n=Wt(t);n!==this._selected&&(this._setSelected(n),(n||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(r,this._value))&&this._setSelected(!0);const n=this._selected;Promise.resolve().then(()=>{(this._selected||n)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function(i,e,t="mat"){i.changes.pipe(Or(i)).subscribe(({length:n})=>{Jh(e,`${t}-2-line`,!1),Jh(e,`${t}-3-line`,!1),Jh(e,`${t}-multi-line`,!1),2===n||3===n?Jh(e,`${t}-${n}-line`,!0):n>3&&Jh(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,n=this.selectionList._removeOptionFromList(this);t&&n&&n.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(T(dt),T(Vn),T(qt(()=>Yw)))},i.\u0275cmp=kt({type:i,selectors:[["mat-list-option"]],contentQueries:function(t,n,r){if(1&t&&(cn(r,hre,5),cn(r,fre,5),cn(r,mee,5)),2&t){let s;Ne(s=Be())&&(n._avatar=s.first),Ne(s=Be())&&(n._icon=s.first),Ne(s=Be())&&(n._lines=s)}},viewQuery:function(t,n){if(1&t&&Vt(lre,5),2&t){let r;Ne(r=Be())&&(n._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,n){1&t&&ue("focus",function(){return n._handleFocus()})("blur",function(){return n._handleBlur()})("click",function(){return n._handleClick()}),2&t&&(tn("aria-selected",n.selected)("aria-disabled",n.disabled)("tabindex",-1),Lt("mat-list-item-disabled",n.disabled)("mat-list-item-with-avatar",n._avatar||n._icon)("mat-primary","primary"===n.color)("mat-accent","primary"!==n.color&&"warn"!==n.color)("mat-warn","warn"===n.color)("mat-list-single-selected-option",n.selected&&!n.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[Je],ngContentSelectors:dre,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,n){1&t&&(oi(ure),y(0,"div",0),be(1,"div",1),ze(2,cre,1,2,"mat-pseudo-checkbox",2),y(3,"div",3,4),Kt(5),v(),Kt(6,1),v()),2&t&&(Lt("mat-list-item-content-reverse","after"==n.checkboxPosition),$(1),j("matRippleTrigger",n._getHostElement())("matRippleDisabled",n._isRippleDisabled()),$(1),j("ngIf",n.selectionList.multiple))},directives:[Cl,tr,f2],encapsulation:2,changeDetection:0}),i})(),Yw=(()=>{class i extends pre{constructor(t,n,r,s){super(),this._element=t,this._changeDetector=r,this._focusMonitor=s,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new $e,this.tabIndex=0,this.color="accent",this.compareWith=(o,a)=>o===a,this._disabled=!1,this.selectedOptions=new Ww(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new Ke,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=Wt(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const n=Wt(t);n!==this._multiple&&(this._multiple=n,this.selectedOptions=new Ww(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new iF(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Qt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(Or(null),Qt(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Qt(this._destroyed)).subscribe(n=>{if(n.added)for(let r of n.added)r.selected=!0;if(n.removed)for(let r of n.removed)r.selected=!1}),null===(t=this._focusMonitor)||void 0===t||t.monitor(this._element).pipe(Qt(this._destroyed)).subscribe(n=>{var r;if("keyboard"===n||"program"===n){let s=0;for(let o=0;o<this.options.length;o++)if(null===(r=this.options.get(o))||void 0===r?void 0:r.selected){s=o;break}this._keyManager.setActiveItem(s)}})}ngOnChanges(t){const n=t.disableRipple,r=t.color;(n&&!n.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null===(t=this._focusMonitor)||void 0===t||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const n=this._getOptionIndex(t);return n>-1&&this._keyManager.activeItemIndex===n&&(n>0?this._keyManager.updateActiveItem(n-1):0===n&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(n+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const n=t.keyCode,r=this._keyManager,s=r.activeItemIndex,o=zs(t);switch(n){case 32:case 13:!o&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===n&&this.multiple&&zs(t,"ctrlKey")&&!r.isTyping()){const a=this.options.some(l=>!l.disabled&&!l.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===n||40===n)&&t.shiftKey&&r.activeItemIndex!==s&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new _re(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(n=>n._setSelected(!1)),t.forEach(n=>{const r=this.options.find(s=>!s.selected&&this.compareWith(s.value,n));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let n=this.options.toArray()[t];n&&!n.disabled&&(this._multiple||!n.selected)&&(n.toggle(),this._emitChangeEvent([n]))}}_setAllOptionsSelected(t,n,r){const s=[];return this.options.forEach(o=>{(!n||!o.disabled)&&o._setSelected(t)&&s.push(o)}),s.length&&(this._reportValueChange(),r&&this._emitChangeEvent(s)),s}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return i.\u0275fac=function(t){return new(t||i)(T(dt),ws("tabindex"),T(Vn),T(Ou))},i.\u0275cmp=kt({type:i,selectors:[["mat-selection-list"]],contentQueries:function(t,n,r){if(1&t&&cn(r,uL,5),2&t){let s;Ne(s=Be())&&(n.options=s)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,n){1&t&&ue("keydown",function(s){return n._keydown(s)}),2&t&&tn("aria-multiselectable",n.multiple)("aria-disabled",n.disabled.toString())("tabindex",n._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Ut([gre]),Je,ii],ngContentSelectors:ore,decls:1,vars:0,template:function(t,n){1&t&&(oi(),Kt(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),yre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=gt({imports:[[c2,ef,un,Lw,fr],c2,un,Lw,T2]}),i})();function vre(i,e){if(1&i&&(y(0,"mat-list-option",19),M(1),v()),2&i){const t=e.$implicit,n=fe();j("value",t.routeLink)("selected",n.activeRoute==t.routeLink)("routerLink",t.routeLink),$(1),oo(" ",t.name," ")}}let bre=(()=>{class i{constructor(t,n,r){this.router=t,this.titleService=n,this.metaService=r,this.navItems=[{name:"Image As Particles",routeLink:"image-as-particles"},{name:"Image Transition",routeLink:"image-transition"},{name:"Lightbox",routeLink:"lightbox"},{name:"Carousel",routeLink:"carousel"},{name:"Performance Monitor",routeLink:"performanceMonitor"}],this.activeRoute="",this.router.events.subscribe(s=>{if(s instanceof Fc){const o=s.url,a=this.navItems.findIndex(l=>o.includes(l.routeLink));this.activeRoute=-1!==a?this.navItems[a].routeLink:"",this.updateMetaTags(s.urlAfterRedirects)}})}updateMetaTags(t){t.includes("home")?(this.titleService.setTitle("ACUW - Library"),this.metaService.updateTag({name:"description",content:"ACUW is a collection of components for Angular made with the 3D library three.js."}),this.metaService.updateTag({name:"keywords",content:"three.js, threejs, angular, WEBGL, library"})):(this.titleService.setTitle("ACUW - Image As Particles"),this.metaService.updateTag({name:"description",content:"Objects in images shown as interactive particles using the three.js library."}),this.metaService.updateTag({name:"keywords",content:"three.js, threejs, angular, WEBGL, image as particles, interactive particles, particle effect"}))}}return i.\u0275fac=function(t){return new(t||i)(T(ci),T(dD),T(uD))},i.\u0275cmp=kt({type:i,selectors:[["app-root"]],decls:30,vars:2,consts:[["color","primary",1,"top-toolbar"],["mat-icon-button","","aria-label","menue icon",3,"click"],["routerLink","/home"],["src","./assets/acuw.svg","alt","acuw logo",1,"toolbar-logo"],[1,"spacer"],["href","https://github.com/windmichael/ngx-acuw","target","_blank"],["src","./assets/icons/GitHub-Mark-Light-64px.png",2,"width","35px"],[1,"content-container"],["mode","over","fixedInViewport","false",2,"min-width","220px"],["sidenav",""],[3,"multiple"],[3,"value","selected","routerLink",4,"ngFor","ngForOf"],["color","primary",1,"footer"],[1,"created-by-content"],["href","https://michael-wind.web.app/","target","_blank",1,"external-link"],["href","https://michael-wind.web.app/","target","_blank"],["src","./assets/icons/mw_logo.svg","alt","MW Logo"],["href","https://github.com/windmichael","target","_blank"],["src","./assets/icons/GitHub-Mark-Light-64px.png"],[3,"value","selected","routerLink"]],template:function(t,n){if(1&t){const r=ln();y(0,"mat-toolbar",0),y(1,"button",1),ue("click",function(){return Ye(r),Ar(13).toggle()}),y(2,"mat-icon"),M(3,"menu"),v(),v(),y(4,"a",2),be(5,"img",3),v(),y(6,"span"),M(7,"ACUW - Showcase"),v(),be(8,"span",4),y(9,"a",5),be(10,"img",6),v(),v(),y(11,"mat-sidenav-container",7),y(12,"mat-sidenav",8,9),y(14,"mat-selection-list",10),ze(15,vre,2,4,"mat-list-option",11),v(),v(),y(16,"mat-sidenav-content"),be(17,"router-outlet"),y(18,"mat-toolbar",12),y(19,"span"),M(20,"ACUW"),v(),y(21,"div",13),y(22,"span"),M(23,"Created by "),v(),y(24,"a",14),M(25," Michael Wind"),v(),y(26,"a",15),be(27,"img",16),v(),y(28,"a",17),be(29,"img",18),v(),v(),v(),v(),v()}2&t&&($(14),j("multiple",!1),$(1),j("ngForOf",n.navItems))},directives:[Wie,af,uf,lh,cL,lL,Yw,qo,qw,e0,uL,mm],styles:[".top-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:2}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.sidenav-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.toolbar-logo[_ngcontent-%COMP%]{height:48px}.content-container[_ngcontent-%COMP%]{position:absolute;top:55px;bottom:0;left:0;right:0}.nav-item[_ngcontent-%COMP%]{text-align:center}.active-nav-item[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.created-by-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;font-size:16px}.created-by-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.created-by-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;color:#fff}.created-by-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 5px}@media (min-width: 600px){.toolbar-logo[_ngcontent-%COMP%]{height:56px}.content-container[_ngcontent-%COMP%]{top:64px}}"]}),i})(),xre=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i,bootstrap:[bre]}),i.\u0275inj=gt({providers:[],imports:[[cD,Vie,t8,jie,Nte,yre,lee,gte,fie,sre,pne,Nne,T2,ate,Cne,vZ,gk,GK,nQ,Vh]]}),i})();yT=!1,X5().bootstrapModule(xre).catch(i=>console.error(i))},890:()=>{!function(sn){var Cn="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",Me={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},Pt={bash:Me,environment:{pattern:RegExp("\\$"+Cn),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+Cn),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};sn.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+Cn),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:Pt},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:Me}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:Pt},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:Pt.entity}}],environment:{pattern:RegExp("\\$?"+Cn),alias:"constant"},variable:Pt.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},Me.inside=sn.languages.bash;for(var gn=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],_n=Pt.variable[1].inside,Fn=0;Fn<gn.length;Fn++)_n[gn[Fn]]=sn.languages.bash[gn[Fn]];sn.languages.shell=sn.languages.bash}(Prism)},668:()=>{!function(sn){sn.languages.typescript=sn.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),sn.languages.typescript.keyword.push(/\b(?:abstract|as|declare|implements|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete sn.languages.typescript.parameter;var Cn=sn.languages.extend("typescript",{});delete Cn["class-name"],sn.languages.typescript["class-name"].inside=Cn,sn.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Cn}}}}),sn.languages.ts=sn.languages.typescript}(Prism)},83:sn=>{var Me=function(Pt){var gn=/\blang(?:uage)?-([\w-]+)\b/i,_n=0,Fn={},We={manual:Pt.Prism&&Pt.Prism.manual,disableWorkerMessageHandler:Pt.Prism&&Pt.Prism.disableWorkerMessageHandler,util:{encode:function he(oe){return oe instanceof Ln?new Ln(oe.type,he(oe.content),oe.alias):Array.isArray(oe)?oe.map(he):oe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(he){return Object.prototype.toString.call(he).slice(8,-1)},objId:function(he){return he.__id||Object.defineProperty(he,"__id",{value:++_n}),he.__id},clone:function he(oe,_e){var Ce,xe;switch(_e=_e||{},We.util.type(oe)){case"Object":if(xe=We.util.objId(oe),_e[xe])return _e[xe];for(var it in _e[xe]=Ce={},oe)oe.hasOwnProperty(it)&&(Ce[it]=he(oe[it],_e));return Ce;case"Array":return xe=We.util.objId(oe),_e[xe]?_e[xe]:(_e[xe]=Ce=[],oe.forEach(function(He,lt){Ce[lt]=he(He,_e)}),Ce);default:return oe}},getLanguage:function(he){for(;he&&!gn.test(he.className);)he=he.parentElement;return he?(he.className.match(gn)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(Ce){var he=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Ce.stack)||[])[1];if(he){var oe=document.getElementsByTagName("script");for(var _e in oe)if(oe[_e].src==he)return oe[_e]}return null}},isActive:function(he,oe,_e){for(var Ce="no-"+oe;he;){var xe=he.classList;if(xe.contains(oe))return!0;if(xe.contains(Ce))return!1;he=he.parentElement}return!!_e}},languages:{plain:Fn,plaintext:Fn,text:Fn,txt:Fn,extend:function(he,oe){var _e=We.util.clone(We.languages[he]);for(var Ce in oe)_e[Ce]=oe[Ce];return _e},insertBefore:function(he,oe,_e,Ce){var xe=(Ce=Ce||We.languages)[he],it={};for(var He in xe)if(xe.hasOwnProperty(He)){if(He==oe)for(var lt in _e)_e.hasOwnProperty(lt)&&(it[lt]=_e[lt]);_e.hasOwnProperty(He)||(it[He]=xe[He])}var bi=Ce[he];return Ce[he]=it,We.languages.DFS(We.languages,function(Tn,_s){_s===bi&&Tn!=he&&(this[Tn]=it)}),it},DFS:function he(oe,_e,Ce,xe){xe=xe||{};var it=We.util.objId;for(var He in oe)if(oe.hasOwnProperty(He)){_e.call(oe,He,oe[He],Ce||He);var lt=oe[He],bi=We.util.type(lt);"Object"!==bi||xe[it(lt)]?"Array"===bi&&!xe[it(lt)]&&(xe[it(lt)]=!0,he(lt,_e,He,xe)):(xe[it(lt)]=!0,he(lt,_e,null,xe))}}},plugins:{},highlightAll:function(he,oe){We.highlightAllUnder(document,he,oe)},highlightAllUnder:function(he,oe,_e){var Ce={callback:_e,container:he,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};We.hooks.run("before-highlightall",Ce),Ce.elements=Array.prototype.slice.apply(Ce.container.querySelectorAll(Ce.selector)),We.hooks.run("before-all-elements-highlight",Ce);for(var it,xe=0;it=Ce.elements[xe++];)We.highlightElement(it,!0===oe,Ce.callback)},highlightElement:function(he,oe,_e){var Ce=We.util.getLanguage(he),xe=We.languages[Ce];he.className=he.className.replace(gn,"").replace(/\s+/g," ")+" language-"+Ce;var it=he.parentElement;it&&"pre"===it.nodeName.toLowerCase()&&(it.className=it.className.replace(gn,"").replace(/\s+/g," ")+" language-"+Ce);var lt={element:he,language:Ce,grammar:xe,code:he.textContent};function bi(_s){lt.highlightedCode=_s,We.hooks.run("before-insert",lt),lt.element.innerHTML=lt.highlightedCode,We.hooks.run("after-highlight",lt),We.hooks.run("complete",lt),_e&&_e.call(lt.element)}if(We.hooks.run("before-sanity-check",lt),(it=lt.element.parentElement)&&"pre"===it.nodeName.toLowerCase()&&!it.hasAttribute("tabindex")&&it.setAttribute("tabindex","0"),!lt.code)return We.hooks.run("complete",lt),void(_e&&_e.call(lt.element));if(We.hooks.run("before-highlight",lt),lt.grammar)if(oe&&Pt.Worker){var Tn=new Worker(We.filename);Tn.onmessage=function(_s){bi(_s.data)},Tn.postMessage(JSON.stringify({language:lt.language,code:lt.code,immediateClose:!0}))}else bi(We.highlight(lt.code,lt.grammar,lt.language));else bi(We.util.encode(lt.code))},highlight:function(he,oe,_e){var Ce={code:he,grammar:oe,language:_e};return We.hooks.run("before-tokenize",Ce),Ce.tokens=We.tokenize(Ce.code,Ce.grammar),We.hooks.run("after-tokenize",Ce),Ln.stringify(We.util.encode(Ce.tokens),Ce.language)},tokenize:function(he,oe){var _e=oe.rest;if(_e){for(var Ce in _e)oe[Ce]=_e[Ce];delete oe.rest}var xe=new gs;return nt(xe,xe.head,he),Wu(he,xe,oe,xe.head,0),function(he){for(var oe=[],_e=he.head.next;_e!==he.tail;)oe.push(_e.value),_e=_e.next;return oe}(xe)},hooks:{all:{},add:function(he,oe){var _e=We.hooks.all;_e[he]=_e[he]||[],_e[he].push(oe)},run:function(he,oe){var _e=We.hooks.all[he];if(_e&&_e.length)for(var xe,Ce=0;xe=_e[Ce++];)xe(oe)}},Token:Ln};function Ln(he,oe,_e,Ce){this.type=he,this.content=oe,this.alias=_e,this.length=0|(Ce||"").length}function Xs(he,oe,_e,Ce){he.lastIndex=oe;var xe=he.exec(_e);if(xe&&Ce&&xe[1]){var it=xe[1].length;xe.index+=it,xe[0]=xe[0].slice(it)}return xe}function Wu(he,oe,_e,Ce,xe,it){for(var He in _e)if(_e.hasOwnProperty(He)&&_e[He]){var lt=_e[He];lt=Array.isArray(lt)?lt:[lt];for(var bi=0;bi<lt.length;++bi){if(it&&it.cause==He+","+bi)return;var Tn=lt[bi],_s=Tn.inside,ju=!!Tn.lookbehind,Ke=!!Tn.greedy,gf=Tn.alias;if(Ke&&!Tn.pattern.global){var Oo=Tn.pattern.toString().match(/[imsuy]*$/)[0];Tn.pattern=RegExp(Tn.pattern.source,Oo+"g")}for(var ft=Tn.pattern||Tn,pi=Ce.next,xr=xe;pi!==oe.tail&&!(it&&xr>=it.reach);xr+=pi.value.length,pi=pi.next){var Ks=pi.value;if(oe.length>he.length)return;if(!(Ks instanceof Ln)){var wr,Dl=1;if(Ke){if(!(wr=Xs(ft,xr,he,ju)))break;var Al=wr.index,ys=wr.index+wr[0].length,Qs=xr;for(Qs+=pi.value.length;Al>=Qs;)Qs+=(pi=pi.next).value.length;if(xr=Qs-=pi.value.length,pi.value instanceof Ln)continue;for(var Sa=pi;Sa!==oe.tail&&(Qs<ys||"string"==typeof Sa.value);Sa=Sa.next)Dl++,Qs+=Sa.value.length;Dl--,Ks=he.slice(xr,Qs),wr.index-=xr}else if(!(wr=Xs(ft,0,Ks,ju)))continue;var Ta=wr[0],Il=Ks.slice(0,Al=wr.index),Rl=Ks.slice(Al+Ta.length),$u=xr+Ks.length;it&&$u>it.reach&&(it.reach=$u);var Pl=pi.prev;if(Il&&(Pl=nt(oe,Pl,Il),xr+=Il.length),Ea(oe,Pl,Dl),pi=nt(oe,Pl,new Ln(He,_s?We.tokenize(Ta,_s):Ta,gf,Ta)),Rl&&nt(oe,pi,Rl),Dl>1){var Yu={cause:He+","+bi,reach:$u};Wu(he,oe,_e,pi.prev,xr,Yu),it&&Yu.reach>it.reach&&(it.reach=Yu.reach)}}}}}}function gs(){var he={value:null,prev:null,next:null},oe={value:null,prev:he,next:null};he.next=oe,this.head=he,this.tail=oe,this.length=0}function nt(he,oe,_e){var Ce=oe.next,xe={value:_e,prev:oe,next:Ce};return oe.next=xe,Ce.prev=xe,he.length++,xe}function Ea(he,oe,_e){for(var Ce=oe.next,xe=0;xe<_e&&Ce!==he.tail;xe++)Ce=Ce.next;oe.next=Ce,Ce.prev=oe,he.length-=xe}if(Pt.Prism=We,Ln.stringify=function he(oe,_e){if("string"==typeof oe)return oe;if(Array.isArray(oe)){var Ce="";return oe.forEach(function(bi){Ce+=he(bi,_e)}),Ce}var xe={type:oe.type,content:he(oe.content,_e),tag:"span",classes:["token",oe.type],attributes:{},language:_e},it=oe.alias;it&&(Array.isArray(it)?Array.prototype.push.apply(xe.classes,it):xe.classes.push(it)),We.hooks.run("wrap",xe);var He="";for(var lt in xe.attributes)He+=" "+lt+'="'+(xe.attributes[lt]||"").replace(/"/g,"&quot;")+'"';return"<"+xe.tag+' class="'+xe.classes.join(" ")+'"'+He+">"+xe.content+"</"+xe.tag+">"},!Pt.document)return Pt.addEventListener&&(We.disableWorkerMessageHandler||Pt.addEventListener("message",function(he){var oe=JSON.parse(he.data),_e=oe.language,xe=oe.immediateClose;Pt.postMessage(We.highlight(oe.code,We.languages[_e],_e)),xe&&Pt.close()},!1)),We;var hi=We.util.currentScript();function at(){We.manual||We.highlightAll()}if(hi&&(We.filename=hi.src,hi.hasAttribute("data-manual")&&(We.manual=!0)),!We.manual){var fi=document.readyState;"loading"===fi||"interactive"===fi&&hi&&hi.defer?document.addEventListener("DOMContentLoaded",at):window.requestAnimationFrame?window.requestAnimationFrame(at):window.setTimeout(at,16)}return We}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});sn.exports&&(sn.exports=Me),"undefined"!=typeof global&&(global.Prism=Me),Me.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Me.languages.markup.tag.inside["attr-value"].inside.entity=Me.languages.markup.entity,Me.languages.markup.doctype.inside["internal-subset"].inside=Me.languages.markup,Me.hooks.add("wrap",function(Pt){"entity"===Pt.type&&(Pt.attributes.title=Pt.content.replace(/&amp;/,"&"))}),Object.defineProperty(Me.languages.markup.tag,"addInlined",{value:function(gn,_n){var Fn={};Fn["language-"+_n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Me.languages[_n]},Fn.cdata=/^<!\[CDATA\[|\]\]>$/i;var We={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Fn}};We["language-"+_n]={pattern:/[\s\S]+/,inside:Me.languages[_n]};var Ln={};Ln[gn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return gn}),"i"),lookbehind:!0,greedy:!0,inside:We},Me.languages.insertBefore("markup","cdata",Ln)}}),Object.defineProperty(Me.languages.markup.tag,"addAttribute",{value:function(Pt,gn){Me.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Pt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[gn,"language-"+gn],inside:Me.languages[gn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Me.languages.html=Me.languages.markup,Me.languages.mathml=Me.languages.markup,Me.languages.svg=Me.languages.markup,Me.languages.xml=Me.languages.extend("markup",{}),Me.languages.ssml=Me.languages.xml,Me.languages.atom=Me.languages.xml,Me.languages.rss=Me.languages.xml,function(Pt){var gn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Pt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+gn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+gn.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+gn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:gn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Pt.languages.css.atrule.inside.rest=Pt.languages.css;var _n=Pt.languages.markup;_n&&(_n.tag.addInlined("style","css"),_n.tag.addAttribute("style","css"))}(Me),Me.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Me.languages.javascript=Me.languages.extend("clike",{"class-name":[Me.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Me.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Me.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Me.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Me.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Me.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Me.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Me.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Me.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Me.languages.javascript}},string:/[\s\S]+/}}}),Me.languages.markup&&(Me.languages.markup.tag.addInlined("script","javascript"),Me.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Me.languages.js=Me.languages.javascript,function(){if(void 0!==Me&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var Fn={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},We="data-src-status",Ln="loading",gs="pre[data-src]:not(["+We+'="loaded"]):not(['+We+'="'+Ln+'"])',nt=/\blang(?:uage)?-([\w-]+)\b/i;Me.hooks.add("before-highlightall",function(hi){hi.selector+=", "+gs}),Me.hooks.add("before-sanity-check",function(hi){var at=hi.element;if(at.matches(gs)){hi.code="",at.setAttribute(We,Ln);var fi=at.appendChild(document.createElement("CODE"));fi.textContent="Loading\u2026";var he=at.getAttribute("data-src"),oe=hi.language;if("none"===oe){var _e=(/\.(\w+)$/.exec(he)||[,"none"])[1];oe=Fn[_e]||_e}Ea(fi,oe),Ea(at,oe);var Ce=Me.plugins.autoloader;Ce&&Ce.loadLanguages(oe);var xe=new XMLHttpRequest;xe.open("GET",he,!0),xe.onreadystatechange=function(){4==xe.readyState&&(xe.status<400&&xe.responseText?(at.setAttribute(We,"loaded"),fi.textContent=xe.responseText,Me.highlightElement(fi)):(at.setAttribute(We,"failed"),fi.textContent=xe.status>=400?function(hi,at){return"\u2716 Error "+hi+" while fetching file: "+at}(xe.status,xe.statusText):"\u2716 Error: File does not exist or is empty"))},xe.send(null)}}),Me.plugins.fileHighlight={highlight:function(at){for(var oe,fi=(at||document).querySelectorAll(gs),he=0;oe=fi[he++];)Me.highlightElement(oe)}};var Zs=!1;Me.fileHighlight=function(){Zs||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),Zs=!0),Me.plugins.fileHighlight.highlight.apply(this,arguments)}}function Ea(hi,at){var fi=hi.className;fi=fi.replace(nt," ")+" language-"+at,hi.className=fi.replace(/\s+/g," ").trim()}}()}},sn=>{sn(sn.s=186)}]);