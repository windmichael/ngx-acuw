var QO=Math.pow;(self.webpackChunkng_acuw_showcase=self.webpackChunkng_acuw_showcase||[]).push([[179],{564:(Mn,er,Fe)=>{"use strict";function Pt(i){return"function"==typeof i}let bn=!1;const pn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(i){if(i){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else bn&&console.log("RxJS: Back to a better error behavior. Thank you. <3");bn=i},get useDeprecatedSynchronousErrorHandling(){return bn}};function In(i){setTimeout(()=>{throw i},0)}const Ge={closed:!0,next(i){},error(i){if(pn.useDeprecatedSynchronousErrorHandling)throw i;In(i)},complete(){}},Pn=Array.isArray||(i=>i&&"number"==typeof i.length);function Ys(i){return null!==i&&"object"==typeof i}const bs=(()=>{function i(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,n)=>`${n+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return i.prototype=Object.create(Error.prototype),i})();class at{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof at)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(Pt(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof bs?wl(o.errors):[o]}}if(Pn(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(Ys(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof bs?e=e.concat(wl(c.errors)):e.push(c)}}}if(e)throw new bs(e)}add(e){let t=e;if(!e)return at.EMPTY;switch(typeof e){case"function":t=new at(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof at)){const s=t;t=new at,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof at){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var i;function wl(i){return i.reduce((e,t)=>e.concat(t instanceof bs?t.errors:t),[])}at.EMPTY=((i=new at).closed=!0,i);const Zs="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ye extends at{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ge;break;case 1:if(!e){this.destination=Ge;break}if("object"==typeof e){e instanceof Ye?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Gn(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Gn(this,e,t,n)}}[Zs](){return this}static create(e,t,n){const r=new Ye(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Gn extends Ye{constructor(e,t,n,r){super(),this._parentSubscriber=e;let s,o=this;Pt(t)?s=t:t&&(s=t.next,n=t.error,r=t.complete,t!==Ge&&(o=Object.create(t),Pt(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;pn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=pn;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):In(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;In(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);pn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),pn.useDeprecatedSynchronousErrorHandling)throw n;In(n)}}__tryOrSetError(e,t,n){if(!pn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return pn.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(In(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const be="function"==typeof Symbol&&Symbol.observable||"@@observable";function Me(i){return i}let Le=(()=>{class i{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,r){const{operator:s}=this,o=function(i,e,t){if(i){if(i instanceof Ye)return i;if(i[Zs])return i[Zs]()}return i||e||t?new Ye(i,e,t):new Ye(Ge)}(t,n,r);if(o.add(s?s.call(o,this.source):this.source||pn.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),pn.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){pn.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),function(i){for(;i;){const{closed:e,destination:t,isStopped:n}=i;if(e||n)return!1;i=t&&t instanceof Ye?t:null}return!0}(t)?t.error(n):console.warn(n)}}forEach(t,n){return new(n=Ke(n))((r,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:n}=this;return n&&n.subscribe(t)}[be](){return this}pipe(...t){return 0===t.length?this:function(i){return 0===i.length?Me:1===i.length?i[0]:function(t){return i.reduce((n,r)=>r(n),t)}}(t)(this)}toPromise(t){return new(t=Ke(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return i.create=e=>new i(e),i})();function Ke(i){if(i||(i=pn.Promise||Promise),!i)throw new Error("no Promise impl found");return i}const Sn=(()=>{function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return i.prototype=Object.create(Error.prototype),i})();class xs extends at{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class Hu extends Ye{constructor(e){super(e),this.destination=e}}let Qe=(()=>{class i extends Le{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Zs](){return new Hu(this)}lift(t){const n=new uf(this,this);return n.operator=t,n}next(t){if(this.closed)throw new Sn;if(!this.isStopped){const{observers:n}=this,r=n.length,s=n.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new Sn;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:n}=this,r=n.length,s=n.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Sn;this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Sn;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Sn;return this.hasError?(t.error(this.thrownError),at.EMPTY):this.isStopped?(t.complete(),at.EMPTY):(this.observers.push(t),new xs(this,t))}asObservable(){const t=new Le;return t.source=this,t}}return i.create=(e,t)=>new uf(e,t),i})();class uf extends Qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):at.EMPTY}}function Po(i){return i&&"function"==typeof i.schedule}function mt(i,e){return function(n){if("function"!=typeof i)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new fi(i,e))}}class fi{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new Cr(e,this.project,this.thisArg))}}class Cr extends Ye{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Ks=i=>e=>{for(let t=0,n=i.length;t<n&&!e.closed;t++)e.next(i[t]);e.complete()},ws="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",_a=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Sl(i){return!!i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}const El=i=>{if(i&&"function"==typeof i[be])return(i=>e=>{const t=i[be]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(i);if(_a(i))return Ks(i);if(Sl(i))return(i=>e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,In),e))(i);if(i&&"function"==typeof i[ws])return(i=>e=>{const t=i[ws]();for(;;){let n;try{n=t.next()}catch(r){return e.error(r),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(i);{const t=`You provided ${Ys(i)?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Wu(i,e){return new Le(t=>{const n=new at;let r=0;return n.add(e.schedule(function(){r!==i.length?(t.next(i[r++]),t.closed||n.add(this.schedule())):t.complete()})),n})}function Ti(i,e){return e?function(i,e){if(null!=i){if(function(i){return i&&"function"==typeof i[be]}(i))return function(i,e){return new Le(t=>{const n=new at;return n.add(e.schedule(()=>{const r=i[be]();n.add(r.subscribe({next(s){n.add(e.schedule(()=>t.next(s)))},error(s){n.add(e.schedule(()=>t.error(s)))},complete(){n.add(e.schedule(()=>t.complete()))}}))})),n})}(i,e);if(Sl(i))return function(i,e){return new Le(t=>{const n=new at;return n.add(e.schedule(()=>i.then(r=>{n.add(e.schedule(()=>{t.next(r),n.add(e.schedule(()=>t.complete()))}))},r=>{n.add(e.schedule(()=>t.error(r)))}))),n})}(i,e);if(_a(i))return Wu(i,e);if(function(i){return i&&"function"==typeof i[ws]}(i)||"string"==typeof i)return function(i,e){if(!i)throw new Error("Iterable cannot be null");return new Le(t=>{const n=new at;let r;return n.add(()=>{r&&"function"==typeof r.return&&r.return()}),n.add(e.schedule(()=>{r=i[ws](),n.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=r.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),n})}(i,e)}throw new TypeError((null!==i&&typeof i||i)+" is not observable")}(i,e):i instanceof Le?i:new Le(El(i))}class Tl extends Ye{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Al extends Ye{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Il(i,e){if(e.closed)return;if(i instanceof Le)return i.subscribe(e);let t;try{t=El(i)(e)}catch(n){e.error(n)}return t}function yi(i,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(yi((r,s)=>Ti(i(r,s)).pipe(mt((o,a)=>e(r,o,s,a))),t)):("number"==typeof e&&(t=e),n=>n.lift(new nF(i,t)))}class nF{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new iF(e,this.project,this.concurrent))}}class iF extends Al{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new Tl(this),n=this.destination;n.add(t);const r=Il(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $u(i=Number.POSITIVE_INFINITY){return yi(Me,i)}function df(i,e){return e?Wu(i,e):new Le(Ks(i))}function Ms(...i){let e=Number.POSITIVE_INFINITY,t=null,n=i[i.length-1];return Po(n)?(t=i.pop(),i.length>1&&"number"==typeof i[i.length-1]&&(e=i.pop())):"number"==typeof n&&(e=i.pop()),null===t&&1===i.length&&i[0]instanceof Le?i[0]:$u(e)(df(i,t))}function h_(){return function(e){return e.lift(new rF(e))}}class rF{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new sF(e,n),s=t.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class sF extends Ye{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}class Lw extends Le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new at,e.add(this.source.subscribe(new aF(this.getSubject(),this))),e.closed&&(this._connection=null,e=at.EMPTY)),e}refCount(){return h_()(this)}}const oF=(()=>{const i=Lw.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:i._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}}})();class aF extends Hu{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function dF(){return new Qe}function Nw(){return i=>h_()(function(i,e){return function(n){let r;r="function"==typeof i?i:function(){return i};const s=Object.create(n,oF);return s.source=n,s.subjectFactory=r,s}}(dF)(i))}function hn(i){for(let e in i)if(i[e]===hn)return e;throw Error("Could not find renamed property on target object.")}function f_(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function $t(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map($t).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function p_(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const hF=hn({__forward_ref__:hn});function qt(i){return i.__forward_ref__=qt,i.toString=function(){return $t(this())},i}function Dt(i){return Bw(i)?i():i}function Bw(i){return"function"==typeof i&&i.hasOwnProperty(hF)&&i.__forward_ref__===qt}class nr extends Error{constructor(e,t){super(function(i,e){return`${i?`NG0${i}: `:""}${e}`}(e,t)),this.code=e}}function _t(i){return"string"==typeof i?i:null==i?"":String(i)}function Li(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():_t(i)}function hf(i,e){const t=e?` in ${e}`:"";throw new nr("201",`No provider for ${Li(i)} found${t}`)}function rr(i,e){null==i&&function(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}(e,i,null,"!=")}function Ve(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function vt(i){return{providers:i.providers||[],imports:i.imports||[]}}function g_(i){return Vw(i,ff)||Vw(i,Uw)}function Vw(i,e){return i.hasOwnProperty(e)?i[e]:null}function zw(i){return i&&(i.hasOwnProperty(__)||i.hasOwnProperty(yF))?i[__]:null}const ff=hn({\u0275prov:hn}),__=hn({\u0275inj:hn}),Uw=hn({ngInjectableDef:hn}),yF=hn({ngInjectorDef:hn});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let v_;function Ro(i){const e=v_;return v_=i,e}function Hw(i,e,t){const n=g_(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&Mt.Optional?null:void 0!==e?e:void hf($t(i),"Injector")}function ko(i){return{toString:i}.toString()}var Zr=(()=>((Zr=Zr||{})[Zr.OnPush=0]="OnPush",Zr[Zr.Default=1]="Default",Zr))(),Kr=(()=>(function(i){i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom"}(Kr||(Kr={})),Kr))();const xF="undefined"!=typeof globalThis&&globalThis,wF="undefined"!=typeof window&&window,MF="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,un=xF||"undefined"!=typeof global&&global||wF||MF,Pl={},fn=[],pf=hn({\u0275cmp:hn}),y_=hn({\u0275dir:hn}),b_=hn({\u0275pipe:hn}),Gw=hn({\u0275mod:hn}),eo=hn({\u0275fac:hn}),qu=hn({__NG_ELEMENT_ID__:hn});let CF=0;function Rt(i){return ko(()=>{const t={},n={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Zr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||fn,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Kr.Emulated,id:"c",styles:i.styles||fn,_:null,setInput:null,schemas:i.schemas||null,tView:null},r=i.directives,s=i.features,o=i.pipes;return n.id+=CF++,n.inputs=qw(i.inputs,t),n.outputs=qw(i.outputs),s&&s.forEach(a=>a(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ww):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(jw):null,n})}function Ww(i){return Ai(i)||function(i){return i[y_]||null}(i)}function jw(i){return function(i){return i[b_]||null}(i)}const $w={};function Ct(i){return ko(()=>{const e={type:i.type,bootstrap:i.bootstrap||fn,declarations:i.declarations||fn,imports:i.imports||fn,exports:i.exports||fn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&($w[i.id]=i.type),e})}function qw(i,e){if(null==i)return Pl;const t={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=n,e&&(e[r]=s)}return t}const De=Rt;function Yi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ai(i){return i[pf]||null}function Sr(i,e){const t=i[Gw]||null;if(!t&&!0===e)throw new Error(`Type ${$t(i)} does not have '\u0275mod' property.`);return t}function Cs(i){return Array.isArray(i)&&"object"==typeof i[1]}function Jr(i){return Array.isArray(i)&&!0===i[1]}function M_(i){return 0!=(8&i.flags)}function vf(i){return 2==(2&i.flags)}function yf(i){return 1==(1&i.flags)}function es(i){return null!==i.template}function IF(i){return 0!=(512&i[2])}function wa(i,e){return i.hasOwnProperty(eo)?i[eo]:null}class kF{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ri(){return Yw}function Yw(i){return i.type.prototype.ngOnChanges&&(i.setInput=FF),OF}function OF(){const i=Kw(this),e=null==i?void 0:i.current;if(e){const t=i.previous;if(t===Pl)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function FF(i,e,t,n){const r=Kw(i)||function(i,e){return i[Zw]=e}(i,{previous:Pl,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new kF(l&&l.currentValue,e,o===Pl),i[n]=e}ri.ngInherit=!0;const Zw="__ngSimpleChanges__";function Kw(i){return i[Zw]||null}const Qw="http://www.w3.org/2000/svg";let E_;function Rn(i){return!!i.listen}const eM={createRenderer:(i,e)=>void 0!==E_?E_:"undefined"!=typeof document?document:void 0};function Yn(i){for(;Array.isArray(i);)i=i[0];return i}function bf(i,e){return Yn(e[i])}function Tr(i,e){return Yn(e[i.index])}function T_(i,e){return i.data[e]}function Ll(i,e){return i[e]}function or(i,e){const t=e[i];return Cs(t)?t:t[0]}function tM(i){return 4==(4&i[2])}function A_(i){return 128==(128&i[2])}function Fo(i,e){return null==e?null:i[e]}function nM(i){i[18]=0}function I_(i,e){i[5]+=e;let t=i,n=i[3];for(;null!==n&&(1===e&&1===t[5]||-1===e&&0===t[5]);)n[5]+=e,t=n,n=n[3]}const ht={lFrame:uM(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function iM(){return ht.bindingsEnabled}function ce(){return ht.lFrame.lView}function Xt(){return ht.lFrame.tView}function Ze(i){return ht.lFrame.contextLView=i,i[8]}function si(){let i=rM();for(;null!==i&&64===i.type;)i=i.parent;return i}function rM(){return ht.lFrame.currentTNode}function Ss(i,e){const t=ht.lFrame;t.currentTNode=i,t.isParent=e}function P_(){return ht.lFrame.isParent}function R_(){ht.lFrame.isParent=!1}function xf(){return ht.isInCheckNoChangesMode}function wf(i){ht.isInCheckNoChangesMode=i}function Ni(){const i=ht.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function Nl(){return ht.lFrame.bindingIndex++}function no(i){const e=ht.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function ZF(i,e){const t=ht.lFrame;t.bindingIndex=t.bindingRootIndex=i,k_(e)}function k_(i){ht.lFrame.currentDirectiveIndex=i}function O_(i){const e=ht.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function aM(){return ht.lFrame.currentQueryIndex}function F_(i){ht.lFrame.currentQueryIndex=i}function QF(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function lM(i,e,t){if(t&Mt.SkipSelf){let r=e,s=i;for(;!(r=r.parent,null!==r||t&Mt.Host||(r=QF(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,i=s}const n=ht.lFrame=cM();return n.currentTNode=e,n.lView=i,!0}function Mf(i){const e=cM(),t=i[1];ht.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function cM(){const i=ht.lFrame,e=null===i?null:i.child;return null===e?uM(i):e}function uM(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function dM(){const i=ht.lFrame;return ht.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const hM=dM;function Cf(){const i=dM();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Bi(){return ht.lFrame.selectedIndex}function Lo(i){ht.lFrame.selectedIndex=i}function kn(){const i=ht.lFrame;return T_(i.tView,i.selectedIndex)}function Sf(){ht.lFrame.currentNamespace=Qw}function Ef(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){const s=i.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(i.contentHooks||(i.contentHooks=[])).push(-t,o),a&&((i.contentHooks||(i.contentHooks=[])).push(t,a),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,a)),l&&(i.viewHooks||(i.viewHooks=[])).push(-t,l),c&&((i.viewHooks||(i.viewHooks=[])).push(t,c),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,c)),null!=u&&(i.destroyHooks||(i.destroyHooks=[])).push(t,u)}}function Df(i,e,t){pM(i,e,3,t)}function Tf(i,e,t,n){(3&i[2])===t&&pM(i,e,t,n)}function L_(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function pM(i,e,t,n){const s=null!=n?n:-1,o=e.length-1;let a=0;for(let l=void 0!==n?65535&i[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=n&&a>=n)break}else e[l]<0&&(i[18]+=65536),(a<s||-1==s)&&(sL(i,t,e,l),i[18]=(4294901760&i[18])+l+2),l++}function sL(i,e,t,n){const r=t[n]<0,s=t[n+1],a=i[r?-t[n]:t[n]];if(r){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Qu{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Af(i,e,t){const n=Rn(i);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];n?i.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];B_(o)?n&&i.setProperty(e,o,a):n?i.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function mM(i){return 3===i||4===i||6===i}function B_(i){return 64===i.charCodeAt(0)}function If(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r?t=r:0===t||gM(i,t,r,null,-1===t||2===t?e[++n]:null)}}return i}function gM(i,e,t,n,r){let s=0,o=i.length;if(-1===e)o=-1;else for(;s<i.length;){const a=i[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<i.length;){const a=i[s];if("number"==typeof a)break;if(a===t){if(null===n)return void(null!==r&&(i[s+1]=r));if(n===i[s+1])return void(i[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(i.splice(o,0,e),s=o+1),i.splice(s++,0,t),null!==n&&i.splice(s++,0,n),null!==r&&i.splice(s++,0,r)}function _M(i){return-1!==i}function Bl(i){return 32767&i}function Vl(i,e){let t=function(i){return i>>16}(i),n=e;for(;t>0;)n=n[15],t--;return n}let V_=!0;function Pf(i){const e=V_;return V_=i,e}let dL=0;function ed(i,e){const t=U_(i,e);if(-1!==t)return t;const n=e[1];n.firstCreatePass&&(i.injectorIndex=e.length,z_(n.data,i),z_(e,null),z_(n.blueprint,null));const r=Rf(i,e),s=i.injectorIndex;if(_M(r)){const o=Bl(r),a=Vl(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function z_(i,e){i.push(0,0,0,0,0,0,0,0,e)}function U_(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function Rf(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,n=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(n=2===o?s.declTNode:1===o?r[6]:null,null===n)return-1;if(t++,r=r[15],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return-1}function kf(i,e,t){!function(i,e,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(qu)&&(n=t[qu]),null==n&&(n=t[qu]=dL++);const r=255&n;e.data[i+(r>>5)]|=1<<r}(i,e,t)}function bM(i,e,t){if(t&Mt.Optional)return i;hf(e,"NodeInjector")}function xM(i,e,t,n){if(t&Mt.Optional&&void 0===n&&(n=null),0==(t&(Mt.Self|Mt.Host))){const r=i[9],s=Ro(void 0);try{return r?r.get(e,n,t&Mt.Optional):Hw(e,n,t&Mt.Optional)}finally{Ro(s)}}return bM(n,e,t)}function wM(i,e,t,n=Mt.Default,r){if(null!==i){const s=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(qu)?i[qu]:void 0;return"number"==typeof e?e>=0?255&e:pL:e}(t);if("function"==typeof s){if(!lM(e,i,n))return n&Mt.Host?bM(r,t,n):xM(e,t,n,r);try{const o=s(n);if(null!=o||n&Mt.Optional)return o;hf(t)}finally{hM()}}else if("number"==typeof s){let o=null,a=U_(i,e),l=-1,c=n&Mt.Host?e[16][6]:null;for((-1===a||n&Mt.SkipSelf)&&(l=-1===a?Rf(i,e):e[a+8],-1!==l&&SM(n,!1)?(o=e[1],a=Bl(l),e=Vl(l,e)):a=-1);-1!==a;){const u=e[1];if(CM(s,a,u.data)){const d=mL(a,e,t,o,n,c);if(d!==MM)return d}l=e[a+8],-1!==l&&SM(n,e[1].data[a+8]===c)&&CM(s,a,e)?(o=u,a=Bl(l),e=Vl(l,e)):a=-1}}}return xM(e,t,n,r)}const MM={};function pL(){return new zl(si(),ce())}function mL(i,e,t,n,r,s){const o=e[1],a=o.data[i+8],u=Of(a,o,t,null==n?vf(a)&&V_:n!=o&&0!=(3&a.type),r&Mt.Host&&s===a);return null!==u?td(e,o,u,a):MM}function Of(i,e,t,n,r){const s=i.providerIndexes,o=e.data,a=1048575&s,l=i.directiveStart,u=s>>20,h=r?a+u:i.directiveEnd;for(let f=n?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&es(f)&&f.type===t)return l}return null}function td(i,e,t,n){let r=i[t];const s=e.data;if(function(i){return i instanceof Qu}(r)){const o=r;o.resolving&&function(i,e){throw new nr("200",`Circular dependency in DI detected for ${i}`)}(Li(s[t]));const a=Pf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ro(o.injectImpl):null;lM(i,n,Mt.Default);try{r=i[t]=o.factory(void 0,s,i,n),e.firstCreatePass&&t>=n.directiveStart&&function(i,e,t){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){const o=Yw(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,s))}(t,s[t],e)}finally{null!==l&&Ro(l),Pf(a),o.resolving=!1,hM()}}return r}function CM(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function SM(i,e){return!(i&Mt.Self||i&Mt.Host&&e)}class zl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return wM(this._tNode,this._lView,e,n,t)}}function bi(i){return ko(()=>{const e=i.prototype.constructor,t=e[eo]||H_(e),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const s=r[eo]||H_(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function H_(i){return Bw(i)?()=>{const e=H_(Dt(i));return e&&e()}:wa(i)}function Es(i){return function(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const n=t.length;let r=0;for(;r<n;){const s=t[r];if(mM(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(si(),i)}const Hl="__parameters__";function Wl(i,e,t){return ko(()=>{const n=function(i){return function(...t){if(i){const n=i(...t);for(const r in n)this[r]=n[r]}}}(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Hl)?l[Hl]:Object.defineProperty(l,Hl,{value:[]})[Hl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}class Ce{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ve({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vL=new Ce("AnalyzeForEntryComponents");function Ar(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let n=i[t];Array.isArray(n)?(e===i&&(e=i.slice(0,t)),Ar(n,e)):e!==i&&e.push(n)}return e}function Ds(i,e){i.forEach(t=>Array.isArray(t)?Ds(t,e):e(t))}function DM(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function Ff(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function rd(i,e){const t=[];for(let n=0;n<i;n++)t.push(e);return t}function ar(i,e,t){let n=jl(i,e);return n>=0?i[1|n]=t:(n=~n,function(i,e,t,n){let r=i.length;if(r==e)i.push(t,n);else if(1===r)i.push(n,i[0]),i[0]=t;else{for(r--,i.push(i[r-1],i[r]);r>e;)i[r]=i[r-2],r--;i[e]=t,i[e+1]=n}}(i,n,e,t)),n}function j_(i,e){const t=jl(i,e);if(t>=0)return i[1|t]}function jl(i,e){return function(i,e,t){let n=0,r=i.length>>t;for(;r!==n;){const s=n+(r-n>>1),o=i[s<<t];if(e===o)return s<<t;o>e?r=s:n=s+1}return~(r<<t)}(i,e,1)}const sd={},q_="__NG_DI_FLAG__",Nf="ngTempTokenPath",TL=/\n/gm,RM="__source",IL=hn({provide:String,useValue:hn});let od;function kM(i){const e=od;return od=i,e}function PL(i,e=Mt.Default){if(void 0===od)throw new Error("inject() must be called from an injection context");return null===od?Hw(i,void 0,e):od.get(i,e&Mt.Optional?null:void 0,e)}function Y(i,e=Mt.Default){return(v_||PL)(Dt(i),e)}const X_=Y;function Y_(i){const e=[];for(let t=0;t<i.length;t++){const n=Dt(i[t]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let r,s=Mt.Default;for(let o=0;o<n.length;o++){const a=n[o],l=RL(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(Y(r,s))}else e.push(Y(n))}return e}function ad(i,e){return i[q_]=e,i.prototype[q_]=e,i}function RL(i){return i[q_]}const ld=ad(Wl("Inject",i=>({token:i})),-1),lr=ad(Wl("Optional"),8),Ma=ad(Wl("SkipSelf"),4);let Vf;function ql(i){var e;return(null===(e=function(){if(void 0===Vf&&(Vf=null,un.trustedTypes))try{Vf=un.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Vf}())||void 0===e?void 0:e.createHTML(i))||i}class Ca{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jL extends Ca{getTypeName(){return"HTML"}}class $L extends Ca{getTypeName(){return"Style"}}class qL extends Ca{getTypeName(){return"Script"}}class XL extends Ca{getTypeName(){return"URL"}}class YL extends Ca{getTypeName(){return"ResourceURL"}}function cr(i){return i instanceof Ca?i.changingThisBreaksApplicationSecurity:i}function Ts(i,e){const t=HM(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function HM(i){return i instanceof Ca&&i.getTypeName()||null}class tN{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ql(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class nN{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const n=this.inertDocument.createElement("body");t.appendChild(n)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ql(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=ql(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const rN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ud(i){return(i=String(i)).match(rN)||i.match(sN)?i:"unsafe:"+i}function WM(i){return(i=String(i)).split(",").map(e=>ud(e.trim())).join(", ")}function As(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function dd(...i){const e={};for(const t of i)for(const n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}const jM=As("area,br,col,hr,img,wbr"),$M=As("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qM=As("rp,rt"),J_=dd(jM,dd($M,As("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dd(qM,As("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dd(qM,$M)),ev=As("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tv=As("srcset"),XM=dd(ev,tv,As("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),As("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oN=As("script,style,template");class aN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!J_.hasOwnProperty(t))return this.sanitizedSomething=!0,!oN.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,a=o.toLowerCase();if(!XM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;ev[a]&&(l=ud(l)),tv[a]&&(l=WM(l)),this.buf.push(" ",o,'="',YM(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();J_.hasOwnProperty(t)&&!jM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(YM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const lN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cN=/([^\#-~ |!])/g;function YM(i){return i.replace(/&/g,"&amp;").replace(lN,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(cN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uf;function ZM(i,e){let t=null;try{Uf=Uf||function(i){const e=new nN(i);return function(){try{return!!(new window.DOMParser).parseFromString(ql(""),"text/html")}catch(i){return!1}}()?new tN(e):e}(i);let n=e?String(e):"";t=Uf.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=t.innerHTML,t=Uf.getInertBodyElement(n)}while(n!==s);return ql((new aN).sanitizeChildren(nv(t)||t))}finally{if(t){const n=nv(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function nv(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function Bo(i){const e=function(){const i=ce();return i&&i[12]}();return e?e.sanitize(en.URL,i)||"":Ts(i,"URL")?cr(i):ud(_t(i))}const JM="__ngContext__";function Pi(i,e){i[JM]=e}function rv(i){const e=function(i){return i[JM]||null}(i);return e?Array.isArray(e)?e:e.lView:null}function ov(i){return i.ngOriginalError}function TN(i,...e){i.error(...e)}class io{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=function(i){return i&&i.ngErrorLogger||TN}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ov(e);for(;t&&ov(t);)t=ov(t);return t||null}}const rC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(un))();function Xl(i){return i.ownerDocument.defaultView}function Is(i){return i instanceof Function?i():i}var ur=(()=>((ur=ur||{})[ur.Important=1]="Important",ur[ur.DashCase=2]="DashCase",ur))();function lv(i,e){return undefined(i,e)}function pd(i){const e=i[3];return Jr(e)?e[3]:e}function cv(i){return cC(i[13])}function uv(i){return cC(i[4])}function cC(i){for(;null!==i&&!Jr(i);)i=i[4];return i}function Zl(i,e,t,n,r){if(null!=n){let s,o=!1;Jr(n)?s=n:Cs(n)&&(o=!0,n=n[0]);const a=Yn(n);0===i&&null!==t?null==r?mC(e,t,a):Sa(e,t,a,r||null,!0):1===i&&null!==t?Sa(e,t,a,r||null,!0):2===i?function(i,e,t){const n=Hf(i,e);n&&function(i,e,t,n){Rn(i)?i.removeChild(e,t,n):e.removeChild(t)}(i,n,e,t)}(e,a,o):3===i&&e.destroyNode(a),null!=s&&function(i,e,t,n,r){const s=t[7];s!==Yn(t)&&Zl(e,i,n,s,r);for(let a=10;a<t.length;a++){const l=t[a];md(l[1],l,i,e,n,s)}}(e,i,s,t,r)}}function hv(i,e,t){return Rn(i)?i.createElement(e,t):null===t?i.createElement(e):i.createElementNS(t,e)}function dC(i,e){const t=i[9],n=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,I_(r,-1)),t.splice(n,1)}function fv(i,e){if(i.length<=10)return;const t=10+e,n=i[t];if(n){const r=n[17];null!==r&&r!==i&&dC(r,n),e>0&&(i[t-1][4]=n[4]);const s=Ff(i,10+e);!function(i,e){md(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(n[1],n);const o=s[19];null!==o&&o.detachView(s[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function hC(i,e){if(!(256&e[2])){const t=e[11];Rn(t)&&t.destroyNode&&md(i,e,t,3,null,null),function(i){let e=i[13];if(!e)return pv(i[1],i);for(;e;){let t=null;if(Cs(e))t=e[13];else{const n=e[10];n&&(t=n)}if(!t){for(;e&&!e[4]&&e!==i;)Cs(e)&&pv(e[1],e),e=e[3];null===e&&(e=i),Cs(e)&&pv(e[1],e),t=e&&e[4]}e=t}}(e)}}function pv(i,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let n=0;n<t.length;n+=2){const r=e[t[n]];if(!(r instanceof Qu)){const s=t[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(i,e),function(i,e){const t=i.cleanup,n=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Yn(e[o]),l=n[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?n[r=c]():n[r=-c].unsubscribe(),s+=2}else{const o=n[r=t[s+1]];t[s].call(o)}if(null!==n){for(let s=r+1;s<n.length;s++)n[s]();e[7]=null}}(i,e),1===e[1].type&&Rn(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Jr(e[3])){t!==e[3]&&dC(t,e);const n=e[19];null!==n&&n.detachView(i)}}}function fC(i,e,t){return function(i,e,t){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return t[0];if(2&n.flags){const r=i.data[n.directiveStart].encapsulation;if(r===Kr.None||r===Kr.Emulated)return null}return Tr(n,t)}(i,e.parent,t)}function Sa(i,e,t,n,r){Rn(i)?i.insertBefore(e,t,n,r):e.insertBefore(t,n,r)}function mC(i,e,t){Rn(i)?i.appendChild(e,t):e.appendChild(t)}function gC(i,e,t,n,r){null!==n?Sa(i,e,t,n,r):mC(i,e,t)}function Hf(i,e){return Rn(i)?i.parentNode(e):e.parentNode}function _C(i,e,t){return yC(i,e,t)}let yC=function(i,e,t){return 40&i.type?Tr(i,t):null};function Gf(i,e,t,n){const r=fC(i,n,e),s=e[11],a=_C(n.parent||e[6],n,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)gC(s,r,t[l],a,!1);else gC(s,r,t,a,!1)}function Wf(i,e){if(null!==e){const t=e.type;if(3&t)return Tr(e,i);if(4&t)return gv(-1,i[e.index]);if(8&t){const n=e.child;if(null!==n)return Wf(i,n);{const r=i[e.index];return Jr(r)?gv(-1,r):Yn(r)}}if(32&t)return lv(e,i)()||Yn(i[e.index]);{const n=xC(i,e);return null!==n?Array.isArray(n)?n[0]:Wf(pd(i[16]),n):Wf(i,e.next)}}return null}function xC(i,e){return null!==e?i[16][6].projection[e.projection]:null}function gv(i,e){const t=10+i+1;if(t<e.length){const n=e[t],r=n[1].firstChild;if(null!==r)return Wf(n,r)}return e[7]}function _v(i,e,t,n,r,s,o){for(;null!=t;){const a=n[t.index],l=t.type;if(o&&0===e&&(a&&Pi(Yn(a),n),t.flags|=4),64!=(64&t.flags))if(8&l)_v(i,e,t.child,n,r,s,!1),Zl(e,i,r,a,s);else if(32&l){const c=lv(t,n);let u;for(;u=c();)Zl(e,i,r,u,s);Zl(e,i,r,a,s)}else 16&l?MC(i,e,n,t,r,s):Zl(e,i,r,a,s);t=o?t.projectionNext:t.next}}function md(i,e,t,n,r,s){_v(t,n,i.firstChild,e,r,s,!1)}function MC(i,e,t,n,r,s){const o=t[16],l=o[6].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Zl(e,i,r,l[c],s);else _v(i,e,l,o[3],r,s,!0)}function CC(i,e,t){Rn(i)?i.setAttribute(e,"style",t):e.style.cssText=t}function vv(i,e,t){Rn(i)?""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t):e.className=t}function SC(i,e,t){let n=i.length;for(;;){const r=i.indexOf(e,t);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const s=e.length;if(r+s===n||i.charCodeAt(r+s)<=32)return r}t=r+1}}const EC="ng-template";function t3(i,e,t){let n=0;for(;n<i.length;){let r=i[n++];if(t&&"class"===r){if(r=i[n],-1!==SC(r.toLowerCase(),e,0))return!0}else if(1===r){for(;n<i.length&&"string"==typeof(r=i[n++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function DC(i){return 4===i.type&&i.value!==EC}function n3(i,e,t){return e===(4!==i.type||t?i.value:EC)}function r3(i,e,t){let n=4;const r=i.attrs||[],s=function(i){for(let e=0;e<i.length;e++)if(mM(i[e]))return e;return i.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!n3(i,l,t)||""===l&&1===e.length){if(ts(n))return!1;o=!0}}else{const c=8&n?l:e[++a];if(8&n&&null!==i.attrs){if(!t3(i.attrs,c,t)){if(ts(n))return!1;o=!0}continue}const d=s3(8&n?"class":l,r,DC(i),t);if(-1===d){if(ts(n))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&n?h:null;if(f&&-1!==SC(f,c,0)||2&n&&c!==h){if(ts(n))return!1;o=!0}}}}else{if(!o&&!ts(n)&&!ts(l))return!1;if(o&&ts(l))continue;o=!1,n=l|1&n}}return ts(n)||o}function ts(i){return 0==(1&i)}function s3(i,e,t,n){if(null===e)return-1;let r=0;if(n||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===i)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const n=i[t];if("number"==typeof n)return-1;if(n===e)return t;t++}return-1}(e,i)}function TC(i,e,t=!1){for(let n=0;n<e.length;n++)if(r3(i,e[n],t))return!0;return!1}function c3(i,e){e:for(let t=0;t<e.length;t++){const n=e[t];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function AC(i,e){return i?":not("+e.trim()+")":e}function u3(i){let e=i[0],t=1,n=2,r="",s=!1;for(;t<i.length;){let o=i[t];if("string"==typeof o)if(2&n){const a=i[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!ts(o)&&(e+=AC(s,r),r=""),n=o,s=s||!ts(n);t++}return""!==r&&(e+=AC(s,r)),e}const yt={};function q(i){IC(Xt(),ce(),Bi()+i,xf())}function IC(i,e,t,n){if(!n)if(3==(3&e[2])){const s=i.preOrderCheckHooks;null!==s&&Df(e,s,t)}else{const s=i.preOrderHooks;null!==s&&Tf(e,s,0,t)}Lo(t)}function jf(i,e){return i<<17|e<<2}function ns(i){return i>>17&32767}function yv(i){return 2|i}function ro(i){return(131068&i)>>2}function bv(i,e){return-131069&i|e<<2}function xv(i){return 1|i}function UC(i,e){const t=i.contentQueries;if(null!==t)for(let n=0;n<t.length;n+=2){const r=t[n],s=t[n+1];if(-1!==s){const o=i.data[s];F_(r),o.contentQueries(2,e[s],s)}}}function gd(i,e,t,n,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|n,nM(u),u[3]=u[15]=i,u[8]=t,u[10]=o||i&&i[10],u[11]=a||i&&i[11],u[12]=l||i&&i[12]||null,u[9]=c||i&&i[9]||null,u[6]=s,u[16]=2==e.type?i[16]:u,u}function Kl(i,e,t,n,r){let s=i.data[e];if(null===s)s=function(i,e,t,n,r){const s=rM(),o=P_(),l=i.data[e]=function(i,e,t,n,r,s){return{type:t,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,n,r);return null===i.firstChild&&(i.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(i,e,t,n,r),ht.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=n,s.attrs=r;const o=function(){const i=ht.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ss(s,!0),s}function Ql(i,e,t,n){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(n),i.blueprint.push(n),i.data.push(null);return r}function _d(i,e,t){Mf(e);try{const n=i.viewQuery;null!==n&&Vv(1,n,t);const r=i.template;null!==r&&HC(i,e,r,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&UC(i,e),i.staticViewQueries&&Vv(2,i.viewQuery,t);const s=i.components;null!==s&&function(i,e){for(let t=0;t<e.length;t++)$3(i,e[t])}(e,s)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[2]&=-5,Cf()}}function Jl(i,e,t,n){const r=e[2];if(256==(256&r))return;Mf(e);const s=xf();try{nM(e),function(i){ht.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&HC(i,e,t,2,n);const o=3==(3&r);if(!s)if(o){const c=i.preOrderCheckHooks;null!==c&&Df(e,c,null)}else{const c=i.preOrderHooks;null!==c&&Tf(e,c,0,null),L_(e,0)}if(function(i){for(let e=cv(i);null!==e;e=uv(e)){if(!e[2])continue;const t=e[9];for(let n=0;n<t.length;n++){const r=t[n],s=r[3];0==(1024&r[2])&&I_(s,1),r[2]|=1024}}}(e),function(i){for(let e=cv(i);null!==e;e=uv(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];A_(n)&&Jl(r,n,r.template,n[8])}}(e),null!==i.contentQueries&&UC(i,e),!s)if(o){const c=i.contentCheckHooks;null!==c&&Df(e,c)}else{const c=i.contentHooks;null!==c&&Tf(e,c,1),L_(e,1)}!function(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const r=t[n];if(r<0)Lo(~r);else{const s=r,o=t[++n],a=t[++n];ZF(o,s),a(2,e[s])}}}finally{Lo(-1)}}(i,e);const a=i.components;null!==a&&function(i,e){for(let t=0;t<e.length;t++)j3(i,e[t])}(e,a);const l=i.viewQuery;if(null!==l&&Vv(2,l,n),!s)if(o){const c=i.viewCheckHooks;null!==c&&Df(e,c)}else{const c=i.viewHooks;null!==c&&Tf(e,c,2),L_(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,I_(e[3],-1))}finally{Cf()}}function E3(i,e,t,n){const r=e[10],s=!xf(),o=tM(e);try{s&&!o&&r.begin&&r.begin(),o&&_d(i,e,n),Jl(i,e,t,n)}finally{s&&!o&&r.end&&r.end()}}function HC(i,e,t,n,r){const s=Bi(),o=2&n;try{Lo(-1),o&&e.length>20&&IC(i,e,20,xf()),t(n,r)}finally{Lo(s)}}function GC(i,e,t){if(M_(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=i.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Pv(i,e,t){!iM()||(function(i,e,t,n){const r=t.directiveStart,s=t.directiveEnd;i.firstCreatePass||ed(t,e),Pi(n,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=i.data[a],c=es(l);c&&z3(e,t,l);const u=td(e,i,a,t);Pi(u,e),null!==o&&U3(0,a-r,u,l,0,o),c&&(or(t.index,e)[8]=u)}}(i,e,t,Tr(t,e)),128==(128&t.flags)&&function(i,e,t){const n=t.directiveStart,r=t.directiveEnd,o=t.index,a=ht.lFrame.currentDirectiveIndex;try{Lo(o);for(let l=n;l<r;l++){const c=i.data[l],u=e[l];k_(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&KC(c,u)}}finally{Lo(-1),k_(a)}}(i,e,t))}function Rv(i,e,t=Tr){const n=e.localNames;if(null!==n){let r=e.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?t(e,i):i[o];i[r++]=a}}}function WC(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=Xf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function Xf(i,e,t,n,r,s,o,a,l,c){const u=20+n,d=u+r,h=function(i,e){const t=[];for(let n=0;n<e;n++)t.push(n<i?null:yt);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:i,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function qC(i,e,t,n){const r=r1(e);null===t?r.push(n):(r.push(t),i.firstCreatePass&&s1(i).push(n,r.length-1))}function XC(i,e,t){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];(t=null===t?{}:t).hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}return t}function dr(i,e,t,n,r,s,o,a){const l=Tr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[n])?(l1(i,t,u,n,r),vf(e)&&function(i,e){const t=or(e,i);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(n=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=o?o(r,e.value||"",n):r,Rn(s)?s.setProperty(l,n,r):B_(n)||(l.setProperty?l.setProperty(n,r):l[n]=r))}function kv(i,e,t,n){let r=!1;if(iM()){const s=function(i,e,t){const n=i.directiveRegistry;let r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];TC(t,o.selectors,!1)&&(r||(r=[]),kf(ed(t,e),i,o.type),es(o)?(QC(i,t),r.unshift(o)):r.push(o))}return r}(i,e,t),o=null===n?null:{"":-1};if(null!==s){r=!0,JC(t,i.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Ql(i,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=If(t.mergedAttrs,d.hostAttrs),e1(i,t,e,c,d),V3(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(i,e){const n=e.directiveEnd,r=i.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<n;c++){const u=r[c],d=u.inputs,h=null===s||DC(e)?null:H3(d,s);o.push(h),a=XC(d,c,a),l=XC(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(i,t)}o&&function(i,e,t){if(e){const n=i.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new nr("301",`Export of name '${e[r+1]}' not found!`);n.push(e[r],s)}}}(t,n,o)}return t.mergedAttrs=If(t.mergedAttrs,t.attrs),r}function ZC(i,e,t,n,r,s){const o=s.hostBindings;if(o){let a=i.hostBindingOpCodes;null===a&&(a=i.hostBindingOpCodes=[]);const l=~e.index;(function(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(n,r,o)}}function KC(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function QC(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function V3(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;es(e)&&(t[""]=i)}}function JC(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function e1(i,e,t,n,r){i.data[n]=r;const s=r.factory||(r.factory=wa(r.type)),o=new Qu(s,es(r),null);i.blueprint[n]=o,t[n]=o,ZC(i,e,0,n,Ql(i,t,r.hostVars,yt),r)}function z3(i,e,t){const n=Tr(e,i),r=WC(t),s=i[10],o=Yf(i,gd(i,r,null,t.onPush?64:16,n,e,s,s.createRenderer(n,t),null,null));i[e.index]=o}function Ps(i,e,t,n,r,s){const o=Tr(i,e);!function(i,e,t,n,r,s,o){if(null==s)Rn(i)?i.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?_t(s):o(s,n||"",r);Rn(i)?i.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,i.value,t,n,r)}function U3(i,e,t,n,r,s){const o=s[e];if(null!==o){const a=n.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?n.setInput(t,d,c,u):t[u]=d}}}function H3(i,e){let t=null,n=0;for(;n<e.length;){const r=e[n];if(0!==r)if(5!==r){if("number"==typeof r)break;i.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,i[r],e[n+1])),n+=2}else n+=2;else n+=4}return t}function t1(i,e,t,n){return new Array(i,!0,!1,e,null,0,n,t,null,null)}function j3(i,e){const t=or(e,i);if(A_(t)){const n=t[1];80&t[2]?Jl(n,t,n.template,t[8]):t[5]>0&&Fv(t)}}function Fv(i){for(let n=cv(i);null!==n;n=uv(n))for(let r=10;r<n.length;r++){const s=n[r];if(1024&s[2]){const o=s[1];Jl(o,s,o.template,s[8])}else s[5]>0&&Fv(s)}const t=i[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=or(t[n],i);A_(r)&&r[5]>0&&Fv(r)}}function $3(i,e){const t=or(e,i),n=t[1];(function(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(n,t),_d(n,t,t[8])}function Yf(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function Lv(i){for(;i;){i[2]|=64;const e=pd(i);if(IF(i)&&!e)return i;i=e}return null}function Bv(i,e,t){const n=e[10];n.begin&&n.begin();try{Jl(i,e,i.template,t)}catch(r){throw a1(e,r),r}finally{n.end&&n.end()}}function n1(i){!function(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],n=rv(t),r=n[1];E3(r,n,r.template,t)}}(i[8])}function Vv(i,e,t){F_(0),e(i,t)}const K3=(()=>Promise.resolve(null))();function r1(i){return i[7]||(i[7]=[])}function s1(i){return i.cleanup||(i.cleanup=[])}function o1(i,e,t){return(null===i||es(i))&&(t=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(t[e.index])),t[11]}function a1(i,e){const t=i[9],n=t?t.get(io,null):null;n&&n.handleError(e)}function l1(i,e,t,n,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=i.data[o];null!==c.setInput?c.setInput(l,r,n,a):l[a]=r}}function so(i,e,t){const n=bf(e,i);!function(i,e,t){Rn(i)?i.setValue(e,t):e.textContent=t}(i[11],n,t)}function Zf(i,e,t){let n=t?i.styles:null,r=t?i.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=p_(r,a):2==s&&(n=p_(n,a+": "+e[++o]+";"))}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=r:i.classesWithoutHost=r}const zv=new Ce("INJECTOR",-1);class c1{get(e,t=sd){if(t===sd){const n=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw n.name="NullInjectorError",n}return t}}const Uv=new Ce("Set Injector scope."),vd={},eB={};let Hv;function u1(){return void 0===Hv&&(Hv=new c1),Hv}function d1(i,e=null,t=null,n){const r=h1(i,e,t,n);return r._resolveInjectorDefTypes(),r}function h1(i,e=null,t=null,n){return new tB(i,t,e||u1(),n)}class tB{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Ds(t,a=>this.processProvider(a,e,t)),Ds([e],a=>this.processInjectorType(a,[],s)),this.records.set(zv,ec(void 0,this));const o=this.records.get(Uv);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:$t(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=sd,n=Mt.Default){this.assertNotDestroyed();const r=kM(this),s=Ro(void 0);try{if(!(n&Mt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ce}(e)&&g_(e);a=l&&this.injectableDefInScope(l)?ec(Gv(e),vd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&Mt.Self?u1():this.parent).get(e,t=n&Mt.Optional&&t===sd?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Nf]=o[Nf]||[]).unshift($t(e)),r)throw o;return function(i,e,t,n){const r=i[Nf];throw e[RM]&&r.unshift(e[RM]),i.message=function(i,e,t,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let r=$t(e);if(Array.isArray(e))r=e.map($t).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):$t(a)))}r=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${i.replace(TL,"\n  ")}`}("\n"+i.message,r,t,n),i.ngTokenPath=r,i[Nf]=null,i}(o,e,"R3InjectorError",this.source)}throw o}finally{Ro(s),kM(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((n,r)=>e.push($t(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=Dt(e)))return!1;let r=zw(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==n.indexOf(o);if(void 0!==s&&(r=zw(s)),null==r)return!1;if(null!=r.imports&&!a){let u;n.push(o);try{Ds(r.imports,d=>{this.processInjectorType(d,t,n)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Ds(f,p=>this.processProvider(p,h,f||fn))}}this.injectorDefTypes.add(o);const l=wa(o)||(()=>new o);this.records.set(o,ec(l,vd));const c=r.providers;if(null!=c&&!a){const u=e;Ds(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,n){let r=tc(e=Dt(e))?e:Dt(e&&e.provide);const s=function(i,e,t){return p1(i)?ec(void 0,i.useValue):ec(f1(i),vd)}(e);if(tc(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=ec(void 0,vd,!0),o.factory=()=>Y_(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===vd&&(t.value=eB,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Dt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Gv(i){const e=g_(i),t=null!==e?e.factory:wa(i);if(null!==t)return t;if(i instanceof Ce)throw new Error(`Token ${$t(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const e=i.length;if(e>0){const n=rd(e,"?");throw new Error(`Can't resolve all parameters for ${$t(i)}: (${n.join(", ")}).`)}const t=function(i){const e=i&&(i[ff]||i[Uw]);if(e){const t=function(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Error("unreachable")}function f1(i,e,t){let n;if(tc(i)){const r=Dt(i);return wa(r)||Gv(r)}if(p1(i))n=()=>Dt(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...Y_(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))n=()=>Y(Dt(i.useExisting));else{const r=Dt(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return wa(r)||Gv(r);n=()=>new r(...Y_(i.deps))}return n}function ec(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function p1(i){return null!==i&&"object"==typeof i&&IL in i}function tc(i){return"function"==typeof i}let mi=(()=>{class i{static create(t,n){var r;if(Array.isArray(t))return d1({name:""},n,t,"");{const s=null!==(r=t.name)&&void 0!==r?r:"";return d1({name:s},t.parent,t.providers,s)}}}return i.THROW_IF_NOT_FOUND=sd,i.NULL=new c1,i.\u0275prov=Ve({token:i,providedIn:"any",factory:()=>Y(zv)}),i.__NG_ELEMENT_ID__=-1,i})();function _B(i,e){Ef(rv(i)[1],si())}function nt(i){let e=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const n=[i];for(;e;){let r;if(es(i))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){n.push(r);const o=i;o.inputs=$v(i.inputs),o.declaredInputs=$v(i.declaredInputs),o.outputs=$v(i.outputs);const a=r.hostBindings;a&&xB(i,a);const l=r.viewQuery,c=r.contentQueries;if(l&&yB(i,l),c&&bB(i,c),f_(i.inputs,r.inputs),f_(i.declaredInputs,r.declaredInputs),f_(i.outputs,r.outputs),es(r)&&r.data.animation){const u=i.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(i),a===nt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=e+=r.hostVars,r.hostAttrs=If(r.hostAttrs,t=If(t,r.hostAttrs))}}(n)}function $v(i){return i===Pl?{}:i===fn?[]:i}function yB(i,e){const t=i.viewQuery;i.viewQuery=t?(n,r)=>{e(n,r),t(n,r)}:e}function bB(i,e){const t=i.contentQueries;i.contentQueries=t?(n,r,s)=>{e(n,r,s),t(n,r,s)}:e}function xB(i,e){const t=i.hostBindings;i.hostBindings=t?(n,r)=>{e(n,r),t(n,r)}:e}let Kf=null;function nc(){if(!Kf){const i=un.Symbol;if(i&&i.iterator)Kf=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Kf=n)}}}return Kf}function yd(i){return!!qv(i)&&(Array.isArray(i)||!(i instanceof Map)&&nc()in i)}function qv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Rs(i,e,t){return i[e]=t}function Ri(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function tn(i,e,t,n){const r=ce();return Ri(r,Nl(),e)&&(Xt(),Ps(kn(),r,i,e,t,n)),tn}function rc(i,e,t,n){return Ri(i,Nl(),t)?e+_t(t)+n:yt}function je(i,e,t,n,r,s,o,a){const l=ce(),c=Xt(),u=i+20,d=c.firstCreatePass?function(i,e,t,n,r,s,o,a,l){const c=e.consts,u=Kl(e,i,4,o||null,Fo(c,a));kv(e,t,u,Fo(c,l)),Ef(e,u);const d=u.tViews=Xf(2,u,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,n,r,s,o):c.data[u];Ss(d,!1);const h=l[11].createComment("");Gf(c,l,h,d),Pi(h,l),Yf(l,l[u]=t1(h,l,h,d)),yf(d)&&Pv(c,l,d),null!=o&&Rv(l,d,a)}function Pr(i){return Ll(ht.lFrame.contextLView,20+i)}function A(i,e=Mt.Default){const t=ce();return null===t?Y(i,e):wM(si(),t,Dt(i),e)}function ep(){throw new Error("invalid")}function $(i,e,t){const n=ce();return Ri(n,Nl(),e)&&dr(Xt(),kn(),n,i,e,n[11],t,!1),$}function Qv(i,e,t,n,r){const o=r?"class":"style";l1(i,t,e.inputs[o],o,n)}function _(i,e,t,n){const r=ce(),s=Xt(),o=20+i,a=r[11],l=r[o]=hv(a,e,ht.lFrame.currentNamespace),c=s.firstCreatePass?function(i,e,t,n,r,s,o){const a=e.consts,c=Kl(e,i,2,r,Fo(a,s));return kv(e,t,c,Fo(a,o)),null!==c.attrs&&Zf(c,c.attrs,!1),null!==c.mergedAttrs&&Zf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,n):s.data[o];Ss(c,!0);const u=c.mergedAttrs;null!==u&&Af(a,l,u);const d=c.classes;null!==d&&vv(a,l,d);const h=c.styles;null!==h&&CC(a,l,h),64!=(64&c.flags)&&Gf(s,r,l,c),0===ht.lFrame.elementDepthCount&&Pi(l,r),ht.lFrame.elementDepthCount++,yf(c)&&(Pv(s,r,c),GC(s,c,r)),null!==n&&Rv(r,c)}function v(){let i=si();P_()?R_():(i=i.parent,Ss(i,!1));const e=i;ht.lFrame.elementDepthCount--;const t=Xt();t.firstCreatePass&&(Ef(t,i),M_(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(e)&&Qv(t,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(e)&&Qv(t,e,ce(),e.stylesWithoutHost,!1)}function xe(i,e,t,n){_(i,e,t,n),v()}function Rr(i,e,t){const n=ce(),r=Xt(),s=i+20,o=r.firstCreatePass?function(i,e,t,n,r){const s=e.consts,o=Fo(s,n),a=Kl(e,i,8,"ng-container",o);return null!==o&&Zf(a,o,!0),kv(e,t,a,Fo(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,n,e,t):r.data[s];Ss(o,!0);const a=n[s]=n[11].createComment("");Gf(r,n,a,o),Pi(a,n),yf(o)&&(Pv(r,n,o),GC(r,o,n)),null!=t&&Rv(n,o)}function kr(){let i=si();const e=Xt();P_()?R_():(i=i.parent,Ss(i,!1)),e.firstCreatePass&&(Ef(e,i),M_(i)&&e.queries.elementEnd(i))}function on(){return ce()}function xd(i){return!!i&&"function"==typeof i.then}function $1(i){return!!i&&"function"==typeof i.subscribe}const Jv=$1;function he(i,e,t,n){const r=ce(),s=Xt(),o=si();return q1(s,r,r[11],o,i,e,!!t,n),he}function ey(i,e){const t=si(),n=ce(),r=Xt();return q1(r,n,o1(O_(r.data),t,n),t,i,e,!1),ey}function q1(i,e,t,n,r,s,o,a){const l=yf(n),u=i.firstCreatePass&&s1(i),d=e[8],h=r1(e);let f=!0;if(3&n.type||a){const g=Tr(n,e),b=a?a(g):g,y=h.length,w=a?x=>a(Yn(x[n.index])):n.index;if(Rn(t)){let x=null;if(!a&&l&&(x=function(i,e,t,n){const r=i.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===n){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(i,e,r,n.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1;else{s=ty(n,e,d,s,!1);const S=t.listen(b,r,s);h.push(s,S),u&&u.push(r,w,y,y+1)}}else s=ty(n,e,d,s,!0),b.addEventListener(r,s,o),h.push(s),u&&u.push(r,w,y,o)}else s=ty(n,e,d,s,!1);const p=n.outputs;let m;if(f&&null!==p&&(m=p[r])){const g=m.length;if(g)for(let b=0;b<g;b+=2){const E=e[m[b]][m[b+1]].subscribe(s),O=h.length;h.push(s,E),u&&u.push(r,n.index,O,-(O+1))}}}function X1(i,e,t,n){try{return!1!==t(n)}catch(r){return a1(i,r),!1}}function ty(i,e,t,n,r){return function s(o){if(o===Function)return n;const a=2&i.flags?or(i.index,e):e;0==(32&e[2])&&Lv(a);let l=X1(e,0,n,o),c=s.__ngNextListenerFn__;for(;c;)l=X1(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function fe(i=1){return function(i){return(ht.lFrame.contextLView=function(i,e){for(;i>0;)e=e[15],i--;return e}(i,ht.lFrame.contextLView))[8]}(i)}function JB(i,e){let t=null;const n=function(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===n?TC(i,s,!0):c3(n,s))return r}else t=r}return t}function ai(i){const e=ce()[16][6];if(!e.projection){const n=e.projection=rd(i?i.length:1,null),r=n.slice();let s=e.child;for(;null!==s;){const o=i?JB(s,i):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function Yt(i,e=0,t){const n=ce(),r=Xt(),s=Kl(r,20+i,16,null,t||null);null===s.projection&&(s.projection=e),R_(),64!=(64&s.flags)&&function(i,e,t){MC(e[11],0,e,t,fC(i,t,e),_C(t.parent||e[6],t,e))}(r,n,s)}function ny(i,e,t){return iy(i,"",e,"",t),ny}function iy(i,e,t,n,r){const s=ce(),o=rc(s,e,t,n);return o!==yt&&dr(Xt(),kn(),s,i,o,s[11],r,!1),iy}function iS(i,e,t,n,r){const s=i[t+1],o=null===e;let a=n?ns(s):ro(s),l=!1;for(;0!==a&&(!1===l||o);){const u=i[a+1];nV(i[a],e)&&(l=!0,i[a+1]=n?xv(u):yv(u)),a=n?ns(u):ro(u)}l&&(i[t+1]=n?yv(s):xv(s))}function nV(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&jl(i,e)>=0}const li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rS(i){return i.substring(li.key,li.keyEnd)}function sS(i,e){const t=li.textEnd;return t===e?-1:(e=li.keyEnd=function(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}(i,li.key=e,t),fc(i,e,t))}function fc(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function Da(i,e,t){return rs(i,e,t,!1),Da}function Ft(i,e){return rs(i,e,null,!0),Ft}function Os(i,e){for(let t=function(i){return function(i){li.key=0,li.keyEnd=0,li.value=0,li.valueEnd=0,li.textEnd=i.length}(i),sS(i,fc(i,0,li.textEnd))}(e);t>=0;t=sS(e,t))ar(i,rS(e),!0)}function rs(i,e,t,n){const r=ce(),s=Xt(),o=no(2);s.firstUpdatePass&&dS(s,i,o,n),e!==yt&&Ri(r,o,e)&&fS(s,s.data[Bi()],r,r[11],i,r[o+1]=function(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=$t(cr(i)))),i}(e,t),n,o)}function uS(i,e){return e>=i.expandoStartIndex}function dS(i,e,t,n){const r=i.data;if(null===r[t+1]){const s=r[Bi()],o=uS(i,t);mS(s,n)&&null===e&&!o&&(e=!1),e=function(i,e,t,n){const r=O_(i);let s=n?e.residualClasses:e.residualStyles;if(null===r)0===(n?e.classBindings:e.styleBindings)&&(t=wd(t=ry(null,i,e,t,n),e.attrs,n),s=null);else{const o=e.directiveStylingLast;if(-1===o||i[o]!==r)if(t=ry(r,i,e,t,n),null===s){let l=function(i,e,t){const n=t?e.classBindings:e.styleBindings;if(0!==ro(n))return i[ns(n)]}(i,e,n);void 0!==l&&Array.isArray(l)&&(l=ry(null,i,e,l[1],n),l=wd(l,e.attrs,n),function(i,e,t,n){i[ns(t?e.classBindings:e.styleBindings)]=n}(i,e,n,l))}else s=function(i,e,t){let n;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)n=wd(n,i[s].hostAttrs,t);return wd(n,e.attrs,t)}(i,e,n)}return void 0!==s&&(n?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,n),function(i,e,t,n,r,s){let o=s?e.classBindings:e.styleBindings,a=ns(o),l=ro(o);i[n]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||jl(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=ns(i[a+1]);i[n+1]=jf(h,a),0!==h&&(i[h+1]=bv(i[h+1],n)),i[a+1]=function(i,e){return 131071&i|e<<17}(i[a+1],n)}else i[n+1]=jf(a,0),0!==a&&(i[a+1]=bv(i[a+1],n)),a=n;else i[n+1]=jf(l,0),0===a?a=n:i[l+1]=bv(i[l+1],n),l=n;c&&(i[n+1]=yv(i[n+1])),iS(i,u,n,!0),iS(i,u,n,!1),function(i,e,t,n,r){const s=r?i.residualClasses:i.residualStyles;null!=s&&"string"==typeof e&&jl(s,e)>=0&&(t[n+1]=xv(t[n+1]))}(e,u,i,n,s),o=jf(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,n)}}function ry(i,e,t,n,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],n=wd(n,s.hostAttrs,r),s!==i);)a++;return null!==i&&(t.directiveStylingLast=a),n}function wd(i,e,t){const n=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ar(i,o,!!t||e[++s]))}return void 0===i?null:i}function fS(i,e,t,n,r,s,o,a){if(!(3&e.type))return;const l=i.data,c=l[a+1];tp(function(i){return 1==(1&i)}(c)?pS(l,e,t,r,ro(c),o):void 0)||(tp(s)||function(i){return 2==(2&i)}(c)&&(s=pS(l,null,t,r,a,o)),function(i,e,t,n,r){const s=Rn(i);if(e)r?s?i.addClass(t,n):t.classList.add(n):s?i.removeClass(t,n):t.classList.remove(n);else{let o=-1===n.indexOf("-")?void 0:ur.DashCase;if(null==r)s?i.removeStyle(t,n,o):t.style.removeProperty(n);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=ur.Important),s?i.setStyle(t,n,r,o):t.style.setProperty(n,r,a?"important":"")}}}(n,o,bf(Bi(),t),r,s))}function pS(i,e,t,n,r,s){const o=null===e;let a;for(;r>0;){const l=i[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===yt&&(h=d?fn:void 0);let f=d?j_(h,n):u===n?h:void 0;if(c&&!tp(f)&&(f=j_(l,n)),tp(f)&&(a=f,o))return a;const p=i[r+1];r=o?ns(p):ro(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=j_(l,n))}return a}function tp(i){return void 0!==i}function mS(i,e){return 0!=(i.flags&(e?16:32))}function M(i,e=""){const t=ce(),n=Xt(),r=i+20,s=n.firstCreatePass?Kl(n,r,1,e,null):n.data[r],o=t[r]=function(i,e){return Rn(i)?i.createText(e):i.createTextNode(e)}(t[11],e);Gf(n,t,o,s),Ss(s,!1)}function gn(i){return oo("",i,""),gn}function oo(i,e,t){const n=ce(),r=rc(n,i,e,t);return r!==yt&&so(n,Bi(),r),oo}function sy(i,e,t){!function(i,e,t,n){const r=Xt(),s=no(2);r.firstUpdatePass&&dS(r,null,s,n);const o=ce();if(t!==yt&&Ri(o,s,t)){const a=r.data[Bi()];if(mS(a,n)&&!uS(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=p_(l,t||"")),Qv(r,a,o,t,n)}else!function(i,e,t,n,r,s,o,a){r===yt&&(r=fn);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&fS(i,e,t,n,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(i,e,t){if(null==t||""===t)return fn;const n=[],r=cr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)i(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&i(n,s,r[s]);else"string"==typeof r&&e(n,r);return n}(i,e,t),n,s)}}(ar,Os,rc(ce(),i,e,t),!0)}function pc(i,e,t){const n=ce();return Ri(n,Nl(),e)&&dr(Xt(),kn(),n,i,e,n[11],t,!0),pc}function oy(i,e,t){const n=ce();if(Ri(n,Nl(),e)){const s=Xt(),o=kn();dr(s,o,n,i,e,o1(O_(s.data),o,n),t,!0)}return oy}const Ta=void 0;var LV=["en",[["a","p"],["AM","PM"],Ta],[["AM","PM"],Ta,Ta],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ta,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ta,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ta,"{1} 'at' {0}",Ta],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let mc={};function zi(i){const e=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=OS(e);if(t)return t;const n=e.split("-")[0];if(t=OS(n),t)return t;if("en"===n)return LV;throw new Error(`Missing locale data for the locale "${i}".`)}function OS(i){return i in mc||(mc[i]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[i]),mc[i]}var ke=(()=>((ke=ke||{})[ke.LocaleId=0]="LocaleId",ke[ke.DayPeriodsFormat=1]="DayPeriodsFormat",ke[ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",ke[ke.DaysFormat=3]="DaysFormat",ke[ke.DaysStandalone=4]="DaysStandalone",ke[ke.MonthsFormat=5]="MonthsFormat",ke[ke.MonthsStandalone=6]="MonthsStandalone",ke[ke.Eras=7]="Eras",ke[ke.FirstDayOfWeek=8]="FirstDayOfWeek",ke[ke.WeekendRange=9]="WeekendRange",ke[ke.DateFormat=10]="DateFormat",ke[ke.TimeFormat=11]="TimeFormat",ke[ke.DateTimeFormat=12]="DateTimeFormat",ke[ke.NumberSymbols=13]="NumberSymbols",ke[ke.NumberFormats=14]="NumberFormats",ke[ke.CurrencyCode=15]="CurrencyCode",ke[ke.CurrencySymbol=16]="CurrencySymbol",ke[ke.CurrencyName=17]="CurrencyName",ke[ke.Currencies=18]="Currencies",ke[ke.Directionality=19]="Directionality",ke[ke.PluralCase=20]="PluralCase",ke[ke.ExtraData=21]="ExtraData",ke))();const np="en-US";let FS=np;function cy(i,e,t,n,r){if(i=Dt(i),Array.isArray(i))for(let s=0;s<i.length;s++)cy(i[s],e,t,n,r);else{const s=Xt(),o=ce();let a=tc(i)?i:Dt(i.provide),l=f1(i);const c=si(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(tc(i)||!i.multi){const f=new Qu(l,r,A),p=dy(a,e,r?u:u+h,d);-1===p?(kf(ed(c,o),s,a),uy(s,i,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=dy(a,e,u+h,d),p=dy(a,e,u,u+h),m=f>=0&&t[f],g=p>=0&&t[p];if(r&&!g||!r&&!m){kf(ed(c,o),s,a);const b=function(i,e,t,n,r){const s=new Qu(i,t,A);return s.multi=[],s.index=e,s.componentProviders=0,sE(s,r,n&&!t),s}(r?Oz:kz,t.length,r,n,l);!r&&g&&(t[p].providerFactory=b),uy(s,i,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else uy(s,i,f>-1?f:p,sE(t[r?p:f],l,!r&&n));!r&&n&&g&&t[p].componentProviders++}}}function uy(i,e,t,n){const r=tc(e),s=function(i){return!!i.useClass}(e);if(r||s){const l=(s?Dt(e.useClass):e).prototype.ngOnDestroy;if(l){const c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[n,l]):c[u+1].push(n,l)}else c.push(t,l)}}}function sE(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function dy(i,e,t,n){for(let r=t;r<n;r++)if(e[r]===i)return r;return-1}function kz(i,e,t,n){return hy(this.multi,[])}function Oz(i,e,t,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=td(t,t[1],this.providerFactory.index,n);s=a.slice(0,o),hy(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],hy(r,s);return s}function hy(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function Ht(i,e=[]){return t=>{t.providersResolver=(n,r)=>function(i,e,t){const n=Xt();if(n.firstCreatePass){const r=es(i);cy(t,n.data,n.blueprint,r,!0),cy(e,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,e)}}class oE{}class Bz{resolveComponentFactory(e){throw function(i){const e=Error(`No component factory found for ${$t(i)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=i,e}(e)}}let ao=(()=>{class i{}return i.NULL=new Bz,i})();function Vz(){return _c(si(),ce())}function _c(i,e){return new ft(Tr(i,e))}let ft=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=Vz,i})();function zz(i){return i instanceof ft?i.nativeElement:i}class Dd{}let lo=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function(){const i=ce(),t=or(si().index,i);return function(i){return i[11]}(Cs(t)?t:i)}(),i})(),Gz=(()=>{class i{}return i.\u0275prov=Ve({token:i,providedIn:"root",factory:()=>null}),i})();class Uo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Wz=new Uo("13.1.1"),fy={};function ap(i,e,t,n,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&n.push(Yn(s)),Jr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&ap(l[1],l,c,n)}const o=t.type;if(8&o)ap(i,e,t.child,n);else if(32&o){const a=lv(t,e);let l;for(;l=a();)n.push(l)}else if(16&o){const a=xC(e,t);if(Array.isArray(a))n.push(...a);else{const l=pd(e[16]);ap(l[1],l,a,n,!0)}}t=r?t.projectionNext:t.next}return n}class Td{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ap(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Jr(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(fv(e,n),Ff(t,n))}this._attachedToViewContainer=!1}hC(this._lView[1],this._lView)}onDestroy(e){qC(this._lView[1],this._lView,null,e)}markForCheck(){Lv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,e,t){wf(!0);try{Bv(i,e,t)}finally{wf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(i,e){md(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class jz extends Td{constructor(e){super(e),this._view=e}detectChanges(){n1(this._view)}checkNoChanges(){!function(i){wf(!0);try{n1(i)}finally{wf(!1)}}(this._view)}get context(){return null}}class lE extends ao{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ai(e);return new py(t,this.ngModule)}}function cE(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}const qz=new Ce("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rC});class py extends oE{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(i){return i.map(u3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return cE(this.componentDef.inputs)}get outputs(){return cE(this.componentDef.outputs)}create(e,t,n,r){const s=(r=r||this.ngModule)?function(i,e){return{get:(t,n,r)=>{const s=i.get(t,fy,r);return s!==fy||n===fy?s:e.get(t,n,r)}}}(e,r.injector):e,o=s.get(Dd,eM),a=s.get(Gz,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(i,e,t){if(Rn(i))return i.selectRootElement(e,t===Kr.ShadowDom);let n="string"==typeof e?i.querySelector(e):e;return n.textContent="",n}(l,n,this.componentDef.encapsulation):hv(o.createRenderer(null,this.componentDef),c,function(i){const e=i.toLowerCase();return"svg"===e?Qw:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(i,e){return{components:[],scheduler:i||rC,clean:K3,playerHandler:e||null,flags:0}}(),f=Xf(0,null,null,1,0,null,null,null,null,null),p=gd(null,f,h,d,null,null,o,l,a,s);let m,g;Mf(p);try{const b=function(i,e,t,n,r,s){const o=t[1];t[20]=i;const l=Kl(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Zf(l,c,!0),null!==i&&(Af(r,i,c),null!==l.classes&&vv(r,i,l.classes),null!==l.styles&&CC(r,i,l.styles)));const u=n.createRenderer(i,e),d=gd(t,WC(e),null,e.onPush?64:16,t[20],l,n,u,s||null,null);return o.firstCreatePass&&(kf(ed(l,t),o,e.type),QC(o,l),JC(l,t.length,1)),Yf(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(n)Af(l,u,["ng-version",Wz.full]);else{const{attrs:y,classes:w}=function(i){const e=[],t=[];let n=1,r=2;for(;n<i.length;){let s=i[n];if("string"==typeof s)2===r?""!==s&&e.push(s,i[++n]):8===r&&t.push(s);else{if(!ts(r))break;r=s}n++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&Af(l,u,y),w&&w.length>0&&vv(l,u,w.join(" "))}if(g=T_(f,20),void 0!==t){const y=g.projection=[];for(let w=0;w<this.ngContentSelectors.length;w++){const x=t[w];y.push(null!=x?Array.from(x):null)}}m=function(i,e,t,n,r){const s=t[1],o=function(i,e,t){const n=si();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),e1(i,n,e,Ql(i,e,1,null),t));const r=td(e,i,n.directiveStart,n);Pi(r,e);const s=Tr(n,e);return s&&Pi(s,e),r}(s,t,e);if(n.components.push(o),i[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=si();e.contentQueries(1,o,l.directiveStart)}const a=si();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Lo(a.index),ZC(t[1],a,0,a.directiveStart,a.directiveEnd,e),KC(e,o)),o}(b,this.componentDef,p,h,[_B]),_d(f,p,null)}finally{Cf()}return new Zz(this.componentType,m,_c(g,p),p,g)}}class Zz extends class{}{constructor(e,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new jz(r),this.componentType=e}get injector(){return new zl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class co{}class uE{}const vc=new Map;class fE extends co{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lE(this);const n=Sr(e);this._bootstrapComponents=Is(n.bootstrap),this._r3Injector=h1(e,t,[{provide:co,useValue:this},{provide:ao,useValue:this.componentFactoryResolver}],$t(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=mi.THROW_IF_NOT_FOUND,n=Mt.Default){return e===mi||e===co||e===zv?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class my extends uE{constructor(e){super(),this.moduleType=e,null!==Sr(e)&&function(i){const e=new Set;!function t(n){const r=Sr(n,!0),s=r.id;null!==s&&(function(i,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${i} - ${$t(e)} vs ${$t(e.name)}`)}(s,vc.get(s),n),vc.set(s,n));const o=Is(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(i)}(e)}create(e){return new fE(this.moduleType,e)}}function Fs(i,e,t,n){return pE(ce(),Ni(),i,e,t,n)}function lp(i,e,t,n,r){return mE(ce(),Ni(),i,e,t,n,r)}function Ad(i,e){const t=i[e];return t===yt?void 0:t}function pE(i,e,t,n,r,s){const o=e+t;return Ri(i,o,r)?Rs(i,o+1,s?n.call(s,r):n(r)):Ad(i,o+1)}function mE(i,e,t,n,r,s,o){const a=e+t;return function(i,e,t,n){const r=Ri(i,e,t);return Ri(i,e+1,n)||r}(i,a,r,s)?Rs(i,a+2,o?n.call(o,r,s):n(r,s)):Ad(i,a+2)}function Id(i,e){const t=Xt();let n;const r=i+20;t.firstCreatePass?(n=function(i,e){if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];if(i===n.name)return n}}(e,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,n.onDestroy)):n=t.data[r];const s=n.factory||(n.factory=wa(n.type)),o=Ro(A);try{const a=Pf(!1),l=s();return Pf(a),function(i,e,t,n){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=n}(t,ce(),r,l),l}finally{Ro(o)}}function cp(i,e,t,n){const r=i+20,s=ce(),o=Ll(s,r);return Pd(s,r)?mE(s,Ni(),e,o.transform,t,n,o):o.transform(t,n)}function Pd(i,e){return i[1].data[e].pure}function gy(i){return e=>{setTimeout(i,void 0,e)}}const qe=class extends Qe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=gy(l),a&&(a=gy(a)),c&&(c=gy(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof at&&e.add(u),u}};function hU(){return this._results[nc()]()}class Aa{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=nc(),n=Aa.prototype;n[t]||(n[t]=hU)}get changes(){return this._changes||(this._changes=new qe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Ar(e);(this._changesDetected=!function(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],s=e[n];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hr=(()=>{class i{}return i.__NG_ELEMENT_ID__=mU,i})();const fU=hr,pU=class extends fU{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=gd(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(n[19]=s.createEmbeddedView(t)),_d(t,n,e),new Td(n)}};function mU(){return up(si(),ce())}function up(i,e){return 4&i.type?new pU(e,i,_c(i,e)):null}let Ui=(()=>{class i{}return i.__NG_ELEMENT_ID__=gU,i})();function gU(){return wE(si(),ce())}const _U=Ui,bE=class extends _U{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new zl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Rf(this._hostTNode,this._hostLView);if(_M(e)){const t=Vl(e,this._hostLView),n=Bl(e);return new zl(t[1].data[n+8],t)}return new zl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=xE(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,s){const o=e&&!function(i){return"function"==typeof i}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,n=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new py(Ai(e)),c=n||this.parentInjector;if(!s&&null==l.ngModule&&c){const d=c.get(co,null);d&&(s=d)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const n=e._lView,r=n[1];if(function(i){return Jr(i[3])}(n)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=n[3],h=new bE(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(i,e,t,n){const r=10+n,s=t.length;n>0&&(t[r-1][4]=e),n<s-10?(e[4]=t[r],DM(t,10+n,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(i),e[2]|=128}(r,n,o,s);const a=gv(s,o),l=n[11],c=Hf(l,o[7]);return null!==c&&function(i,e,t,n,r,s){n[0]=r,n[6]=e,md(i,n,t,1,r,s)}(r,o[6],l,n,c,a),e.attachToViewContainerRef(),DM(_y(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=xE(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=fv(this._lContainer,t);n&&(Ff(_y(this._lContainer),t),hC(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=fv(this._lContainer,t);return n&&null!=Ff(_y(this._lContainer),t)?new Td(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function xE(i){return i[8]}function _y(i){return i[8]||(i[8]=[])}function wE(i,e){let t;const n=e[i.index];if(Jr(n))t=n;else{let r;if(8&i.type)r=Yn(n);else{const s=e[11];r=s.createComment("");const o=Tr(i,e);Sa(s,Hf(s,o),r,function(i,e){return Rn(i)?i.nextSibling(e):e.nextSibling}(s,o),!1)}e[i.index]=t=t1(n,e,r,i),Yf(e,t)}return new bE(t,i,e)}class vy{constructor(e){this.queryList=e,this.matches=null}clone(){return new vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class yy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<n;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new yy(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==DE(e,t).matches&&this.queries[t].setDirty()}}class ME{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class by{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new by(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class xy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new xy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(e,t,bU(t,s)),this.matchTNodeWithReadOption(e,t,Of(t,e,s,!1,!1))}else n===hr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Of(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ft||r===Ui||r===hr&&4&t.type)this.addMatch(t.index,-2);else{const s=Of(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function bU(i,e){const t=i.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1];return null}function wU(i,e,t,n){return-1===t?function(i,e){return 11&i.type?_c(i,e):4&i.type?up(i,e):null}(e,i):-2===t?function(i,e,t){return t===ft?_c(e,i):t===hr?up(e,i):t===Ui?wE(e,i):void 0}(i,e,n):td(i,i[1],t,e)}function CE(i,e,t,n){const r=e[19].queries[n];if(null===r.matches){const s=i.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:wU(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function wy(i,e,t,n){const r=i.queries.getByIndex(t),s=r.matches;if(null!==s){const o=CE(i,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&wy(h[1],h,c,n)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];wy(f[1],f,c,n)}}}}}return n}function ze(i){const e=ce(),t=Xt(),n=aM();F_(n+1);const r=DE(t,n);if(i.dirty&&tM(e)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const s=r.crossesNgTemplate?wy(t,e,n,[]):CE(t,e,r,n);i.reset(s,zz),i.notifyOnChanges()}return!0}return!1}function Vt(i,e,t){const n=Xt();n.firstCreatePass&&(EE(n,new ME(i,e,t),-1),2==(2&e)&&(n.staticViewQueries=!0)),SE(n,ce(),e)}function an(i,e,t,n){const r=Xt();if(r.firstCreatePass){const s=si();EE(r,new ME(e,t,n),s.index),function(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(r,i),2==(2&t)&&(r.staticContentQueries=!0)}SE(r,ce(),t)}function Ue(){return function(i,e){return i[19].queries[e].queryList}(ce(),aM())}function SE(i,e,t){const n=new Aa(4==(4&t));qC(i,e,n,n.destroy),null===e[19]&&(e[19]=new yy),e[19].queries.push(new vy(n))}function EE(i,e,t){null===i.queries&&(i.queries=new by),i.queries.track(new xy(e,t))}function DE(i,e){return i.queries.getByIndex(e)}function fp(...i){}const pp=new Ce("Application Initializer");let bc=(()=>{class i{constructor(t){this.appInits=t,this.resolve=fp,this.reject=fp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(xd(s))t.push(s);else if(Jv(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{n()}).catch(r=>{this.reject(r)}),0===t.length&&n(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(Y(pp,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const kd=new Ce("AppId"),WU={provide:kd,useFactory:function(){return`${Ty()}${Ty()}${Ty()}`},deps:[]};function Ty(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WE=new Ce("Platform Initializer"),mp=new Ce("Platform ID"),jE=new Ce("appBootstrapListener");let $E=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const uo=new Ce("LocaleId"),qE=new Ce("DefaultCurrencyCode");class jU{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let gp=(()=>{class i{compileModuleSync(t){return new my(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=Is(Sr(t).declarations).reduce((o,a)=>{const l=Ai(a);return l&&o.push(new py(l)),o},[]);return new jU(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const qU=(()=>Promise.resolve(0))();function Ay(i){"undefined"==typeof Zone?qU.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class lt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let i=un.requestAnimationFrame,e=un.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(i){const e=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(un,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Py(i),i.isCheckStableRunning=!0,Iy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Py(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,s,o,a)=>{try{return XE(i),t.invokeTask(r,s,o,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||i.shouldCoalesceRunChangeDetection)&&e(),YE(i)}},onInvoke:(t,n,r,s,o,a,l)=>{try{return XE(i),t.invoke(r,s,o,a,l)}finally{i.shouldCoalesceRunChangeDetection&&e(),YE(i)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(i._hasPendingMicrotasks=s.microTask,Py(i),Iy(i)):"macroTask"==s.change&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,YU,fp,fp);try{return s.runTask(o,t,n)}finally{s.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const YU={};function Iy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Py(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function XE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function YE(i){i._nesting--,Iy(i)}class QU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Ry=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lt.assertNotInAngularZone(),Ay(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ay(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,n,r){return[]}}return i.\u0275fac=function(t){return new(t||i)(Y(lt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})(),ZE=(()=>{class i{constructor(){this._applications=new Map,ky.addToWindow(this)}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return ky.findTestabilityInTree(this,t,n)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();class JU{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let os,ky=new JU;const KE=new Ce("AllowMultipleToken");class QE{constructor(e,t){this.name=e,this.token=t}}function JE(i,e,t=[]){const n=`Platform: ${e}`,r=new Ce(n);return(s=[])=>{let o=eD();if(!o||o.injector.get(KE,!1))if(i)i(t.concat(s).concat({provide:r,useValue:!0}));else{const a=t.concat(s).concat({provide:r,useValue:!0},{provide:Uv,useValue:"platform"});!function(i){if(os&&!os.destroyed&&!os.injector.get(KE,!1))throw new nr("400","");os=i.get(tD);const e=i.get(WE,null);e&&e.forEach(t=>t())}(mi.create({providers:a,name:n}))}return function(i){const e=eD();if(!e)throw new nr("401","");return e}()}}function eD(){return os&&!os.destroyed?os:null}let tD=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const a=function(i,e){let t;return t="noop"===i?new QU:("zone.js"===i?void 0:i)||new lt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(n?n.ngZone:void 0,{ngZoneEventCoalescing:n&&n.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:n&&n.ngZoneRunCoalescing||!1}),l=[{provide:lt,useValue:a}];return a.run(()=>{const c=mi.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(io,null);if(!d)throw new nr("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{Oy(this._modules,u),h.unsubscribe()})}),function(i,e,t){try{const n=t();return xd(n)?n.catch(r=>{throw e.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}(d,a,()=>{const h=u.injector.get(bc);return h.runInitializers(),h.donePromise.then(()=>(function(i){rr(i,"Expected localeId to be defined"),"string"==typeof i&&(FS=i.toLowerCase().replace(/_/g,"-"))}(u.injector.get(uo,np)||np),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,n=[]){const r=nD({},n);return function(i,e,t){const n=new my(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const n=t.injector.get(xc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new nr("403","");t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nr("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(Y(mi))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();function nD(i,e){return Array.isArray(e)?e.reduce(nD,i):Object.assign(Object.assign({},i),e)}let xc=(()=>{class i{constructor(t,n,r,s,o){this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Le(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Le(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{lt.assertNotInAngularZone(),Ay(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=Ms(a,l.pipe(Nw()))}bootstrap(t,n){if(!this._initStatus.done)throw new nr("405","");let r;r=t instanceof oE?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function(i){return i.isBoundToModule}(r)?void 0:this._injector.get(co),a=r.create(mi.NULL,[],n||r.selector,s),l=a.location.nativeElement,c=a.injector.get(Ry,null),u=c&&a.injector.get(ZE);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Oy(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new nr("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;Oy(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jE,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(Y(lt),Y(mi),Y(io),Y(ao),Y(bc))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();function Oy(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let rD=!0,Fn=(()=>{class i{}return i.__NG_ELEMENT_ID__=d4,i})();function d4(i){return function(i,e,t){if(vf(i)&&!t){const n=or(i.index,e);return new Td(n,n)}return 47&i.type?new Td(e[16],e):null}(si(),ce(),16==(16&i))}class dD{constructor(){}supports(e){return yd(e)}create(e){return new v4(e)}}const _4=(i,e)=>e;class v4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_4}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const o=!n||t&&t.currentIndex<fD(n,r,s)?t:n,a=fD(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!yd(e))throw new Error(`Error trying to diff '${$t(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),n=!0),t=t._next}else r=0,function(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[nc()]();let n;for(;!(n=t.next()).done;)e(n.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),n=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new y4(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hD),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hD),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class y4{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class b4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class hD{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new b4,this.map.set(t,n)),n.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fD(i,e,t){const n=i.previousIndex;if(null===n)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+e+r}class pD{constructor(){}supports(e){return e instanceof Map||qv(e)}create(){return new x4}}class x4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||qv(e)))throw new Error(`Error trying to diff '${$t(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new w4(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class w4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mD(){return new Od([new dD])}let Od=(()=>{class i{constructor(t){this.factories=t}static create(t,n){if(null!=n){const r=n.factories.slice();t=t.concat(r)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||mD()),deps:[[i,new Ma,new lr]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(null!=n)return n;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'`)}}return i.\u0275prov=Ve({token:i,providedIn:"root",factory:mD}),i})();function gD(){return new wc([new pD])}let wc=(()=>{class i{constructor(t){this.factories=t}static create(t,n){if(n){const r=n.factories.slice();t=t.concat(r)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||gD()),deps:[[i,new Ma,new lr]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(n)return n;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return i.\u0275prov=Ve({token:i,providedIn:"root",factory:gD}),i})();const C4=[new pD],E4=new Od([new dD]),D4=new wc(C4),T4=JE(null,"core",[{provide:mp,useValue:"unknown"},{provide:tD,deps:[mi]},{provide:ZE,deps:[]},{provide:$E,deps:[]}]),k4=[{provide:xc,useClass:xc,deps:[lt,mi,io,ao,bc]},{provide:qz,deps:[lt],useFactory:function(i){let e=[];return i.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:bc,useClass:bc,deps:[[new lr,pp]]},{provide:gp,useClass:gp,deps:[]},WU,{provide:Od,useFactory:function(){return E4},deps:[]},{provide:wc,useFactory:function(){return D4},deps:[]},{provide:uo,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||np},deps:[[new ld(uo),new lr,new Ma]]},{provide:qE,useValue:"USD"}];let F4=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(Y(xc))},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({providers:k4}),i})(),vp=null;function as(){return vp}const bt=new Ce("DocumentToken");let Pa=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:function(){return Y(_D)},providedIn:"platform"}),i})();const z4=new Ce("Location Initialized");let _D=(()=>{class i extends Pa{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return as().getBaseHref(this._doc)}onPopState(t){const n=as().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=as().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,n,r){vD()?this._history.pushState(t,n,r):this.location.hash=r}replaceState(t,n,r){vD()?this._history.replaceState(t,n,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:function(){return new _D(Y(bt))},providedIn:"platform"}),i})();function vD(){return!!window.history.pushState}function Vy(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function yD(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function ho(i){return i&&"?"!==i[0]?"?"+i:i}let Mc=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:function(){return function(i){const e=Y(bt).location;return new bD(Y(Pa),e&&e.origin||"")}()},providedIn:"root"}),i})();const zy=new Ce("appBaseHref");let bD=(()=>{class i extends Mc{constructor(t,n){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==n&&(n=this._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vy(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+ho(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${n}${r}`:n}pushState(t,n,r,s){const o=this.prepareExternalUrl(r+ho(s));this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){const o=this.prepareExternalUrl(r+ho(s));this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformLocation).historyGo)||void 0===r||r.call(n,t)}}return i.\u0275fac=function(t){return new(t||i)(Y(Pa),Y(zy,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})(),G4=(()=>{class i extends Mc{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=Vy(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,r,s){let o=this.prepareExternalUrl(r+ho(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){let o=this.prepareExternalUrl(r+ho(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformLocation).historyGo)||void 0===r||r.call(n,t)}}return i.\u0275fac=function(t){return new(t||i)(Y(Pa),Y(zy,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})(),yp=(()=>{class i{constructor(t,n){this._subject=new qe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=yD(xD(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+ho(n))}normalize(t){return i.stripTrailingSlash(function(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,xD(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,n="",r=null){this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ho(n)),r)}replaceState(t,n="",r=null){this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ho(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var n,r;null===(r=(n=this._platformStrategy).historyGo)||void 0===r||r.call(n,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}))}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(r=>r(t,n))}subscribe(t,n,r){return this._subject.subscribe({next:t,error:n,complete:r})}}return i.normalizeQueryParams=ho,i.joinWithSlash=Vy,i.stripTrailingSlash=yD,i.\u0275fac=function(t){return new(t||i)(Y(Mc),Y(Pa))},i.\u0275prov=Ve({token:i,factory:function(){return new yp(Y(Mc),Y(Pa))},providedIn:"root"}),i})();function xD(i){return i.replace(/\/index.html$/,"")}var Ki=(()=>((Ki=Ki||{})[Ki.Decimal=0]="Decimal",Ki[Ki.Percent=1]="Percent",Ki[Ki.Currency=2]="Currency",Ki[Ki.Scientific=3]="Scientific",Ki))(),Zn=(()=>((Zn=Zn||{})[Zn.Zero=0]="Zero",Zn[Zn.One=1]="One",Zn[Zn.Two=2]="Two",Zn[Zn.Few=3]="Few",Zn[Zn.Many=4]="Many",Zn[Zn.Other=5]="Other",Zn))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function Or(i,e){const t=zi(i),n=t[ke.NumberSymbols][e];if(void 0===n){if(e===ot.CurrencyDecimal)return t[ke.NumberSymbols][ot.Decimal];if(e===ot.CurrencyGroup)return t[ke.NumberSymbols][ot.Group]}return n}const Q4=function(i){return zi(i)[ke.PluralCase]},_H=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Xy(i){const e=parseInt(i);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+i);return e}class Ap{}let DH=(()=>{class i extends Ap{constructor(t){super(),this.locale=t}getPluralCategory(t,n){switch(Q4(n||this.locale)(t)){case Zn.Zero:return"zero";case Zn.One:return"one";case Zn.Two:return"two";case Zn.Few:return"few";case Zn.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(Y(uo))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})(),Cc=(()=>{class i{constructor(t,n,r,s){this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(yd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${$t(n.item)}`);this._toggleClass(n.item,!0)}),t.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!0)):Object.keys(t).forEach(n=>this._toggleClass(n,!!t[n])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!1)):Object.keys(t).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(t,n){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return i.\u0275fac=function(t){return new(t||i)(A(Od),A(wc),A(ft),A(lo))},i.\u0275dir=De({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class IH{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ho=(()=>{class i{constructor(t,n,r){this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new IH(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const a=n.get(s);n.move(a,o),ID(a,r)}});for(let r=0,s=n.length;r<s;r++){const a=n.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ID(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,n){return!0}}return i.\u0275fac=function(t){return new(t||i)(A(Ui),A(hr),A(Od))},i.\u0275dir=De({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function ID(i,e){i.context.$implicit=e.item}let Qi=(()=>{class i{constructor(t,n){this._viewContainer=t,this._context=new PH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}}return i.\u0275fac=function(t){return new(t||i)(A(Ui),A(hr))},i.\u0275dir=De({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class PH{constructor(){this.$implicit=null,this.ngIf=null}}function PD(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${$t(e)}'.`)}class Yy{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Nd=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const n=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let n=0;n<this._defaultViews.length;n++)this._defaultViews[n].enforceState(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),Zy=(()=>{class i{constructor(t,n,r){this.ngSwitch=r,r._addCase(),this._view=new Yy(t,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(t){return new(t||i)(A(Ui),A(hr),A(Nd,9))},i.\u0275dir=De({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),RD=(()=>{class i{constructor(t,n,r){r._addDefault(new Yy(t,n))}}return i.\u0275fac=function(t){return new(t||i)(A(Ui),A(hr),A(Nd,9))},i.\u0275dir=De({type:i,selectors:[["","ngSwitchDefault",""]]}),i})(),Ky=(()=>{class i{constructor(t,n,r){this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[r,s]=t.split(".");null!=(n=null!=n&&s?`${n}${s}`:n)?this._renderer.setStyle(this._ngEl.nativeElement,r,n):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(wc),A(lo))},i.\u0275dir=De({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();function cs(i,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${$t(i)}'`)}class OH{createSubscription(e,t){return e.subscribe({next:t,error:n=>{throw n}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class FH{createSubscription(e,t){return e.then(t,n=>{throw n})}dispose(e){}onDestroy(e){}}const LH=new FH,NH=new OH;let OD=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(xd(t))return LH;if($1(t))return NH;throw cs(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(A(Fn,16))},i.\u0275pipe=Yi({name:"async",type:i,pure:!1}),i})(),LD=(()=>{class i{constructor(t){this._locale=t}transform(t,n,r){if(!function(i){return!(null==i||""===i||i!=i)}(t))return null;r=r||this._locale;try{return function(i,e,t){return function(i,e,t,n,r,s,o=!1){let a="",l=!1;if(isFinite(i)){let c=function(i){let n,r,s,o,a,e=Math.abs(i)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))n=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(e.charAt(s))}return r>22&&(n=n.splice(0,21),t=r-1,r=1),{digits:n,exponent:t,integerLen:r}}(i);o&&(c=function(i){if(0===i.digits[0])return i;const e=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===e?i.digits.push(0,0):1===e&&i.digits.push(0),i.integerLen+=2),i}(c));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const y=s.match(_H);if(null===y)throw new Error(`${s} is not a valid digit info`);const w=y[1],x=y[3],S=y[5];null!=w&&(u=Xy(w)),null!=x&&(d=Xy(x)),null!=S?h=Xy(S):null!=x&&d>h&&(h=d)}!function(i,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let n=i.digits,r=n.length-i.integerLen;const s=Math.min(Math.max(e,r),t);let o=s+i.integerLen,a=n[o];if(o>0){n.splice(Math.max(i.integerLen,o));for(let d=o;d<n.length;d++)n[d]=0}else{r=Math.max(0,r),i.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let d=1;d<o;d++)n[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)n.unshift(0),i.integerLen++;n.unshift(1),i.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let l=0!==s;const c=e+i.integerLen,u=n.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(n.unshift(u),i.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(l=f.every(y=>!y);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(Or(t,n)),g.length&&(a+=Or(t,r)+g.join("")),m&&(a+=Or(t,ot.Exponential)+"+"+m)}else a=Or(t,ot.Infinity);return a=i<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(i,function(i,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=i.split(";"),r=n[0],s=n[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substr(0,d).replace(/'/g,""),t.negSuf=s.substr(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(i,e){return zi(i)[ke.NumberFormats][e]}(e,Ki.Decimal),Or(e,ot.MinusSign)),e,ot.Group,ot.Decimal,t)}(function(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(t),r,n)}catch(s){throw cs(i,s.message)}}}return i.\u0275fac=function(t){return new(t||i)(A(uo,16))},i.\u0275pipe=Yi({name:"number",type:i,pure:!0}),i})();let fr=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({providers:[{provide:Ap,useClass:DH}]}),i})();const ND="browser";let r5=(()=>{class i{}return i.\u0275prov=Ve({token:i,providedIn:"root",factory:()=>new s5(Y(bt),window)}),i})();class s5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=BD(this.window.history)||BD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function BD(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class eb extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(i){vp||(vp=i)}(new eb)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Bd=Bd||document.querySelector("base"),Bd?Bd.getAttribute("href"):null);return null==t?null:function(i){Ip=Ip||document.createElement("a"),Ip.setAttribute("href",i);const e=Ip.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const n=t.indexOf("="),[r,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ip,Bd=null;const VD=new Ce("TRANSITION_ID"),h5=[{provide:pp,useFactory:function(i,e,t){return()=>{t.get(bc).donePromise.then(()=>{const n=as(),r=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let s=0;s<r.length;s++)n.remove(r[s])})}},deps:[VD,bt,mi],multi:!0}];class tb{static init(){!function(i){ky=i}(new tb)}addToWindow(e){un.getAngularTestability=(n,r=!0)=>{const s=e.findTestabilityInTree(n,r);if(null==s)throw new Error("Could not find testability for element.");return s},un.getAllAngularTestabilities=()=>e.getAllTestabilities(),un.getAllAngularRootElements=()=>e.getAllRootElements(),un.frameworkStabilizers||(un.frameworkStabilizers=[]),un.frameworkStabilizers.push(n=>{const r=un.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&n(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?as().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let f5=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const Pp=new Ce("EventManagerPlugins");let Rp=(()=>{class i{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,n,r){return this._findPluginFor(n).addEventListener(t,n,r)}addGlobalEventListener(t,n,r){return this._findPluginFor(n).addGlobalEventListener(t,n,r)}getZone(){return this._zone}_findPluginFor(t){const n=this._eventNameToPlugin.get(t);if(n)return n;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(Y(Pp),Y(lt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();class zD{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=as().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let UD=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const n=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),n.add(r))}),this.onStylesAdded(n)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})(),Vd=(()=>{class i extends UD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,n,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(n.appendChild(o))})}addHost(t){const n=[];this._addStylesToHost(this._stylesSet,t,n),this._hostNodes.set(t,n)}removeHost(t){const n=this._hostNodes.get(t);n&&n.forEach(HD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((n,r)=>{this._addStylesToHost(t,r,n)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(HD))}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();function HD(i){as().remove(i)}const nb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ib=/%COMP%/g;function kp(i,e,t){for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?kp(i,r,t):(r=r.replace(ib,i),t.push(r))}return t}function jD(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let Op=(()=>{class i{constructor(t,n,r){this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new rb(t)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;switch(n.encapsulation){case Kr.Emulated:{let r=this.rendererByCompId.get(n.id);return r||(r=new y5(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,r)),r.applyToHost(t),r}case 1:case Kr.ShadowDom:return new b5(this.eventManager,this.sharedStylesHost,t,n);default:if(!this.rendererByCompId.has(n.id)){const r=kp(n.id,n.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(Y(Rp),Y(Vd),Y(kd))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();class rb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(nb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=nb[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=nb[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(ur.DashCase|ur.Important)?e.style.setProperty(t,n,r&ur.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jD(n)):this.eventManager.addEventListener(e,t,jD(n))}}class y5 extends rb{constructor(e,t,n,r){super(e),this.component=n;const s=kp(r+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr=function(i){return"_ngcontent-%COMP%".replace(ib,i)}(r+"-"+n.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(ib,i)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class b5 extends rb{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=kp(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let x5=(()=>{class i extends zD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,r){return t.addEventListener(n,r,!1),()=>this.removeEventListener(t,n,r)}removeEventListener(t,n,r){return t.removeEventListener(n,r)}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const qD=["alt","control","meta","shift"],M5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XD={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},C5={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let S5=(()=>{class i extends zD{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,n,r){const s=i.parseEventName(n),o=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=i._normalizeKey(n.pop());let o="";if(qD.forEach(l=>{const c=n.indexOf(l);c>-1&&(n.splice(c,1),o+=l+".")}),o+=s,0!=n.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let n="",r=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&XD.hasOwnProperty(e)&&(e=XD[e]))}return M5[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qD.forEach(s=>{s!=r&&C5[s](t)&&(n+=s+".")}),n+=r,n}static eventCallback(t,n,r){return s=>{i.getEventFullKey(s)===t&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const I5=JE(T4,"browser",[{provide:mp,useValue:ND},{provide:WE,useValue:function(){eb.makeCurrent(),tb.init()},multi:!0},{provide:bt,useFactory:function(){return function(i){E_=i}(document),document},deps:[]}]),P5=[{provide:Uv,useValue:"root"},{provide:io,useFactory:function(){return new io},deps:[]},{provide:Pp,useClass:x5,multi:!0,deps:[bt,lt,mp]},{provide:Pp,useClass:S5,multi:!0,deps:[bt]},{provide:Op,useClass:Op,deps:[Rp,Vd,kd]},{provide:Dd,useExisting:Op},{provide:UD,useExisting:Vd},{provide:Vd,useClass:Vd,deps:[bt]},{provide:Ry,useClass:Ry,deps:[lt]},{provide:Rp,useClass:Rp,deps:[Pp,lt]},{provide:class{},useClass:f5,deps:[]}];let YD=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:kd,useValue:t.appId},{provide:VD,useExisting:kd},h5]}}}return i.\u0275fac=function(t){return new(t||i)(Y(i,12))},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({providers:P5,imports:[fr,F4]}),i})(),ZD=(()=>{class i{constructor(t){this._doc=t,this._dom=as()}addTag(t,n=!1){return t?this._getOrCreateElement(t,n):null}addTags(t,n=!1){return t?t.reduce((r,s)=>(s&&r.push(this._getOrCreateElement(s,n)),r),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const n=this._doc.querySelectorAll(`meta[${t}]`);return n?[].slice.call(n):[]}updateTag(t,n){if(!t)return null;n=n||this._parseSelector(t);const r=this.getTag(n);return r?this._setMetaElementAttributes(t,r):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,n=!1){if(!n){const o=this._parseSelector(t),a=this.getTags(o).filter(l=>this._containsAttributes(t,l))[0];if(void 0!==a)return a}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(t,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(t,n){return Object.keys(t).forEach(r=>n.setAttribute(this._getMetaKeyMap(r),t[r])),n}_parseSelector(t){const n=t.name?"name":"property";return`${n}="${t[n]}"`}_containsAttributes(t,n){return Object.keys(t).every(r=>n.getAttribute(this._getMetaKeyMap(r))===t[r])}_getMetaKeyMap(t){return k5[t]||t}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:function(t){let n=null;return n=t?new t:new ZD(Y(bt)),n},providedIn:"root"}),i})();const k5={httpEquiv:"http-equiv"};let KD=(()=>{class i{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:function(t){let n=null;return n=t?new t:new KD(Y(bt)),n},providedIn:"root"}),i})();"undefined"!=typeof window&&window;let ob=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:function(t){let n=null;return n=t?new(t||i):Y(eT),n},providedIn:"root"}),i})(),eT=(()=>{class i extends ob{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case en.NONE:return n;case en.HTML:return Ts(n,"HTML")?cr(n):ZM(this._doc,String(n)).toString();case en.STYLE:return Ts(n,"Style")?cr(n):n;case en.SCRIPT:if(Ts(n,"Script"))return cr(n);throw new Error("unsafe value used in a script context");case en.URL:return HM(n),Ts(n,"URL")?cr(n):ud(String(n));case en.RESOURCE_URL:if(Ts(n,"ResourceURL"))return cr(n);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(i){return new jL(i)}(t)}bypassSecurityTrustStyle(t){return function(i){return new $L(i)}(t)}bypassSecurityTrustScript(t){return function(i){return new qL(i)}(t)}bypassSecurityTrustUrl(t){return function(i){return new XL(i)}(t)}bypassSecurityTrustResourceUrl(t){return function(i){return new YL(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:function(t){let n=null;return n=t?new t:function(i){return new eT(i.get(bt))}(Y(mi)),n},providedIn:"root"}),i})();function tT(...i){if(1===i.length){const e=i[0];if(Pn(e))return Fp(e,null);if(Ys(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Fp(t.map(n=>e[n]),t)}}if("function"==typeof i[i.length-1]){const e=i.pop();return Fp(i=1===i.length&&Pn(i[0])?i[0]:i,null).pipe(mt(t=>e(...t)))}return Fp(i,null)}function Fp(i,e){return new Le(t=>{const n=i.length;if(0===n)return void t.complete();const r=new Array(n);let s=0,o=0;for(let a=0;a<n;a++){const l=Ti(i[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,o++),r[a]=u},error:u=>t.error(u),complete:()=>{s++,(s===n||!c)&&(o===n&&t.next(e?e.reduce((u,d,h)=>(u[d]=r[h],u),{}):r),t.complete())}}))}})}let nT=(()=>{class i{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(A(lo),A(ft))},i.\u0275dir=De({type:i}),i})(),Ra=(()=>{class i extends nT{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=bi(i)))(n||i)}}(),i.\u0275dir=De({type:i,features:[nt]}),i})();const pr=new Ce("NgValueAccessor"),W5={provide:pr,useExisting:qt(()=>ka),multi:!0},$5=new Ce("CompositionEventMode");let ka=(()=>{class i extends nT{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=as()?as().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(A(lo),A(ft),A($5,8))},i.\u0275dir=De({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,n){1&t&&he("input",function(s){return n._handleInput(s.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(s){return n._compositionEnd(s.target.value)})},features:[Ht([W5]),nt]}),i})();function Wo(i){return null==i||0===i.length}function rT(i){return null!=i&&"number"==typeof i.length}const xi=new Ce("NgValidators"),jo=new Ce("NgAsyncValidators"),q5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sT{static min(e){return oT(e)}static max(e){return aT(e)}static required(e){return function(i){return Wo(i.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return function(i){return Wo(i.value)||q5.test(i.value)?null:{email:!0}}(e)}static minLength(e){return function(i){return e=>Wo(e.value)||!rT(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(i){return e=>rT(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(i){if(!i)return zd;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),n=>{if(Wo(n.value))return null;const r=n.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return yT(e)}static composeAsync(e){return bT(e)}}function oT(i){return e=>{if(Wo(e.value)||Wo(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}function aT(i){return e=>{if(Wo(e.value)||Wo(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}function zd(i){return null}function pT(i){return null!=i}function mT(i){const e=xd(i)?Ti(i):i;return Jv(e),e}function gT(i){let e={};return i.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _T(i,e){return e.map(t=>t(i))}function vT(i){return i.map(e=>function(i){return!i.validate}(e)?e:t=>e.validate(t))}function yT(i){if(!i)return null;const e=i.filter(pT);return 0==e.length?null:function(t){return gT(_T(t,e))}}function ab(i){return null!=i?yT(vT(i)):null}function bT(i){if(!i)return null;const e=i.filter(pT);return 0==e.length?null:function(t){return tT(_T(t,e).map(mT)).pipe(mt(gT))}}function lb(i){return null!=i?bT(vT(i)):null}function xT(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function wT(i){return i._rawValidators}function MT(i){return i._rawAsyncValidators}function cb(i){return i?Array.isArray(i)?i:[i]:[]}function Lp(i,e){return Array.isArray(i)?i.includes(e):i===e}function CT(i,e){const t=cb(e);return cb(i).forEach(r=>{Lp(t,r)||t.push(r)}),t}function ST(i,e){return cb(e).filter(t=>!Lp(i,t))}class ET{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ab(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ls extends ET{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gi extends ET{get formDirective(){return null}get path(){return null}}let Ud=(()=>{class i extends class{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(A(Ls,2))},i.\u0275dir=De({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,n){2&t&&Ft("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[nt]}),i})();function Hd(i,e){hb(i,e),e.valueAccessor.writeValue(i.value),function(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&TT(i,e)})}(i,e),function(i,e){const t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&TT(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function(i,e){if(e.valueAccessor.setDisabledState){const t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function Vp(i,e,t=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Up(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function zp(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hb(i,e){const t=wT(i);null!==e.validator?i.setValidators(xT(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const n=MT(i);null!==e.asyncValidator?i.setAsyncValidators(xT(n,e.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();zp(e._rawValidators,r),zp(e._rawAsyncValidators,r)}function Up(i,e){let t=!1;if(null!==i){if(null!==e.validator){const r=wT(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,i.setValidators(s))}}if(null!==e.asyncValidator){const r=MT(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,i.setAsyncValidators(s))}}}const n=()=>{};return zp(e._rawValidators,n),zp(e._rawAsyncValidators,n),t}function TT(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function AT(i,e){hb(i,e)}function IT(i,e){i._syncPendingControls(),e.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Hp(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Gd="VALID",Gp="INVALID",Sc="PENDING",Wd="DISABLED";function mb(i){return(_b(i)?i.validators:i)||null}function PT(i){return Array.isArray(i)?ab(i):i||null}function gb(i,e){return(_b(e)?e.asyncValidators:i)||null}function RT(i){return Array.isArray(i)?lb(i):i||null}function _b(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class vb{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=PT(this._rawValidators),this._composedAsyncValidatorFn=RT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gd}get invalid(){return this.status===Gp}get pending(){return this.status==Sc}get disabled(){return this.status===Wd}get enabled(){return this.status!==Wd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=PT(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=RT(e)}addValidators(e){this.setValidators(CT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ST(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ST(e,this._rawAsyncValidators))}hasValidator(e){return Lp(this._rawValidators,e)}hasAsyncValidator(e){return Lp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wd,this.errors=null,this._forEachChild(n=>{n.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gd,this._forEachChild(n=>{n.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gd||this.status===Sc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wd:Gd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sc,this._hasOwnPendingAsyncValidator=!0;const t=mT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(i,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let n=i;return e.forEach(r=>{n=n instanceof yb?n.controls.hasOwnProperty(r)?n.controls[r]:null:n instanceof a8&&n.at(r)||null}),n}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Wd:this.errors?Gp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sc)?Sc:this._anyControlsHaveStatus(Gp)?Gp:Gd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_b(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Wp extends vb{constructor(e=null,t,n){super(mb(t),gb(n,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Hp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Hp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class yb extends vb{constructor(e,t,n){super(mb(t),gb(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Wp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((r,s)=>{n=t(n,r,s)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class a8 extends vb{constructor(e,t,n){super(mb(t),gb(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((n,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Wp?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const l8={provide:Gi,useExisting:qt(()=>$d)},jd=(()=>Promise.resolve(null))();let $d=(()=>{class i extends Gi{constructor(t,n){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new qe,this.form=new yb({},ab(t),lb(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){jd.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Hd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){jd.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),Hp(this._directives,t)})}addFormGroup(t){jd.then(()=>{const n=this._findContainer(t.path),r=new yb({});AT(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){jd.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){jd.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,IT(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return i.\u0275fac=function(t){return new(t||i)(A(xi,10),A(jo,10))},i.\u0275dir=De({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,n){1&t&&he("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ht([l8]),nt]}),i})();const u8={provide:Ls,useExisting:qt(()=>Ec)},FT=(()=>Promise.resolve(null))();let Ec=(()=>{class i extends Ls{constructor(t,n,r,s){super(),this.control=new Wp,this._registered=!1,this.update=new qe,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function(i,e){if(!e)return null;let t,n,r;return Array.isArray(e),e.forEach(s=>{s.constructor===ka?t=s:function(i){return Object.getPrototypeOf(i.constructor)===Ra}(s)?n=s:r=s}),r||n||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,e){return[...e.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){FT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;FT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(t){return new(t||i)(A(Gi,9),A(xi,10),A(jo,10),A(pr,10))},i.\u0275dir=De({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ht([u8]),nt,ri]}),i})();const h8={provide:pr,useExisting:qt(()=>qd),multi:!0};let qd=(()=>{class i extends Ra{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=bi(i)))(n||i)}}(),i.\u0275dir=De({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,n){1&t&&he("input",function(s){return n.onChange(s.target.value)})("blur",function(){return n.onTouched()})},features:[Ht([h8]),nt]}),i})(),LT=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({}),i})();const _8={provide:Gi,useExisting:qt(()=>Xd)};let Xd=(()=>{class i extends Gi{constructor(t,n){super(),this.validators=t,this.asyncValidators=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Up(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return Hd(n,t),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){Vp(t.control||null,t,!1),Hp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,IT(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,r=this.form.get(t.path);n!==r&&(Vp(n||null,t),r instanceof Wp&&(Hd(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);AT(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function(i,e){return Up(i,e)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hb(this.form,this),this._oldForm&&Up(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(A(xi,10),A(jo,10))},i.\u0275dir=De({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,n){1&t&&he("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ht([_8]),nt,ri]}),i})();function $T(i){return"number"==typeof i?i:parseFloat(i)}let jp=(()=>{class i{constructor(){this._validator=zd}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(n):zd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(){return null!=this[this.inputName]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i,features:[ri]}),i})();const D8={provide:xi,useExisting:qt(()=>Cb),multi:!0};let Cb=(()=>{class i extends jp{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>$T(t),this.createValidator=t=>aT(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=bi(i)))(n||i)}}(),i.\u0275dir=De({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,n){2&t&&tn("max",n.enabled()?n.max:null)},inputs:{max:"max"},features:[Ht([D8]),nt]}),i})();const T8={provide:xi,useExisting:qt(()=>Sb),multi:!0};let Sb=(()=>{class i extends jp{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>$T(t),this.createValidator=t=>oT(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=bi(i)))(n||i)}}(),i.\u0275dir=De({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,n){2&t&&tn("min",n.enabled()?n.min:null)},inputs:{min:"min"},features:[Ht([T8]),nt]}),i})(),F8=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[LT]]}),i})(),L8=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[F8]}),i})();function Je(...i){let e=i[i.length-1];return Po(e)?(i.pop(),Wu(i,e)):df(i)}class Lr extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Sn;return this._value}next(e){super.next(this._value=e)}}class N8 extends Ye{notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class B8 extends Ye{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function V8(i,e,t,n,r=new B8(i,t,n)){if(!r.closed)return e instanceof Le?e.subscribe(r):El(e)(r)}const KT={};class U8{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new H8(e,this.resultSelector))}}class H8 extends N8{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(KT),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(V8(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,o=this.toRespond?r[n]===KT?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const $p=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function Tb(...i){return $u(1)(Je(...i))}const Oa=new Le(i=>i.complete());function qp(i){return i?function(i){return new Le(e=>i.schedule(()=>e.complete()))}(i):Oa}function Ab(i){return new Le(e=>{let t;try{t=i()}catch(r){return void e.error(r)}return(t?Ti(t):qp()).subscribe(e)})}function us(i,e){return"function"==typeof e?t=>t.pipe(us((n,r)=>Ti(i(n,r)).pipe(mt((s,o)=>e(n,s,r,o))))):t=>t.lift(new j8(i))}class j8{constructor(e){this.project=e}call(e,t){return t.subscribe(new $8(e,this.project))}}class $8 extends Al{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Tl(this),r=this.destination;r.add(n),this.innerSubscription=Il(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const QT=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Nr(i){return e=>0===i?qp():e.lift(new q8(i))}class q8{constructor(e){if(this.total=e,this.total<0)throw new QT}call(e,t){return t.subscribe(new X8(e,this.total))}}class X8 extends Ye{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Br(...i){const e=i[i.length-1];return Po(e)?(i.pop(),t=>Tb(i,t,e)):t=>Tb(i,t)}function JT(i,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new Y8(i,e,t))}}class Y8{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Z8(e,this.accumulator,this.seed,this.hasSeed))}}class Z8 extends Ye{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function wi(i,e){return function(n){return n.lift(new K8(i,e))}}class K8{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Q8(e,this.predicate,this.thisArg))}}class Q8 extends Ye{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function $o(i){return function(t){const n=new J8(i),r=t.lift(n);return n.caught=r}}class J8{constructor(e){this.selector=e}call(e,t){return t.subscribe(new e6(e,this.selector,this.caught))}}class e6 extends Al{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const n=new Tl(this);this.add(n);const r=Il(t,n);r!==n&&this.add(r)}}}function Dc(i,e){return yi(i,e,1)}function Ib(i){return function(t){return 0===i?qp():t.lift(new t6(i))}}class t6{constructor(e){if(this.total=e,this.total<0)throw new QT}call(e,t){return t.subscribe(new n6(e,this.total))}}class n6 extends Ye{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const o=t++%n;e.next(r[o])}}e.complete()}}function eA(i=s6){return e=>e.lift(new i6(i))}class i6{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new r6(e,this.errorFactory))}}class r6 extends Ye{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function s6(){return new $p}function tA(i=null){return e=>e.lift(new o6(i))}class o6{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new a6(e,this.defaultValue))}}class a6 extends Ye{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Tc(i,e){const t=arguments.length>=2;return n=>n.pipe(i?wi((r,s)=>i(r,s,n)):Me,Nr(1),t?tA(e):eA(()=>new $p))}function po(){}function Dn(i,e,t){return function(r){return r.lift(new c6(i,e,t))}}class c6{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new u6(e,this.nextOrObserver,this.error,this.complete))}}class u6 extends Ye{constructor(e,t,n,r){super(e),this._tapNext=po,this._tapError=po,this._tapComplete=po,this._tapError=n||po,this._tapComplete=r||po,Pt(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||po,this._tapError=t.error||po,this._tapComplete=t.complete||po)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function nA(i){return e=>e.lift(new d6(i))}class d6{constructor(e){this.callback=e}call(e,t){return t.subscribe(new h6(e,this.callback))}}class h6 extends Ye{constructor(e,t){super(e),this.add(new at(t))}}class mo{constructor(e,t){this.id=e,this.url=t}}class Pb extends mo{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ac extends mo{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iA extends mo{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class f6 extends mo{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class p6 extends mo{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m6 extends mo{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g6 extends mo{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _6 extends mo{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v6 extends mo{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rA{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sA{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class y6{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b6{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x6{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oA{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class M6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ic(i){return new M6(i)}const aA="ngNavigationCancelingError";function Rb(i){const e=Error("NavigationCancelingError: "+i);return e[aA]=!0,e}function S6(i,e,t){const n=t.path.split("/");if(n.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||n.length<i.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],a=i[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function Ns(i,e){const t=i?Object.keys(i):void 0,n=e?Object.keys(e):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!lA(i[r],e[r]))return!1;return!0}function lA(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),n=[...e].sort();return t.every((r,s)=>n[s]===r)}return i===e}function cA(i){return Array.prototype.concat.apply([],i)}function uA(i){return i.length>0?i[i.length-1]:null}function Mi(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function Bs(i){return Jv(i)?i:xd(i)?Ti(Promise.resolve(i)):Je(i)}const T6={exact:function fA(i,e,t){if(!La(i.segments,e.segments)||!Xp(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!i.children[n]||!fA(i.children[n],e.children[n],t))return!1;return!0},subset:pA},dA={exact:function(i,e){return Ns(i,e)},subset:function(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>lA(i[t],e[t]))},ignored:()=>!0};function hA(i,e,t){return T6[t.paths](i.root,e.root,t.matrixParams)&&dA[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function pA(i,e,t){return mA(i,e,e.segments,t)}function mA(i,e,t,n){if(i.segments.length>t.length){const r=i.segments.slice(0,t.length);return!(!La(r,t)||e.hasChildren()||!Xp(r,t,n))}if(i.segments.length===t.length){if(!La(i.segments,t)||!Xp(i.segments,t,n))return!1;for(const r in e.children)if(!i.children[r]||!pA(i.children[r],e.children[r],n))return!1;return!0}{const r=t.slice(0,i.segments.length),s=t.slice(i.segments.length);return!!(La(i.segments,r)&&Xp(i.segments,r,n)&&i.children[Lt])&&mA(i.children[Lt],e,s,n)}}function Xp(i,e,t){return e.every((n,r)=>dA[t](i[r].parameters,n.parameters))}class Fa{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap}toString(){return k6.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mi(t,(n,r)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yp(this)}}class Yd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ic(this.parameters)),this._parameterMap}toString(){return bA(this)}}function La(i,e){return i.length===e.length&&i.every((t,n)=>t.path===e[n].path)}class gA{}class _A{parse(e){const t=new H6(e);return new Fa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zd(e.root,!0)}`,n=function(i){const e=Object.keys(i).map(t=>{const n=i[t];return Array.isArray(n)?n.map(r=>`${Zp(t)}=${Zp(r)}`).join("&"):`${Zp(t)}=${Zp(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function(i){return encodeURI(i)}(e.fragment)}`:"";return`${t}${n}${r}`}}const k6=new _A;function Yp(i){return i.segments.map(e=>bA(e)).join("/")}function Zd(i,e){if(!i.hasChildren())return Yp(i);if(e){const t=i.children[Lt]?Zd(i.children[Lt],!1):"",n=[];return Mi(i.children,(r,s)=>{s!==Lt&&n.push(`${s}:${Zd(r,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(i,e){let t=[];return Mi(i.children,(n,r)=>{r===Lt&&(t=t.concat(e(n,r)))}),Mi(i.children,(n,r)=>{r!==Lt&&(t=t.concat(e(n,r)))}),t}(i,(n,r)=>r===Lt?[Zd(i.children[Lt],!1)]:[`${r}:${Zd(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Lt]?`${Yp(i)}/${t[0]}`:`${Yp(i)}/(${t.join("//")})`}}function vA(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zp(i){return vA(i).replace(/%3B/gi,";")}function kb(i){return vA(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kp(i){return decodeURIComponent(i)}function yA(i){return Kp(i.replace(/\+/g,"%20"))}function bA(i){return`${kb(i.path)}${function(i){return Object.keys(i).map(e=>`;${kb(e)}=${kb(i[e])}`).join("")}(i.parameters)}`}const N6=/^[^\/()?;=#]+/;function Qp(i){const e=i.match(N6);return e?e[0]:""}const B6=/^[^=?&#]+/,z6=/^[^&#]+/;class H6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Lt]=new Gt(e,t)),n}parseSegment(){const e=Qp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Yd(Kp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Qp(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=Qp(this.remaining);r&&(n=r,this.capture(n))}e[Kp(t)]=Kp(n)}parseQueryParam(e){const t=function(i){const e=i.match(B6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function(i){const e=i.match(z6);return e?e[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=yA(t),s=yA(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Qp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Lt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Lt]:new Gt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ob(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){const t=Ob(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Fb(e,this._root).map(t=>t.value)}}function Ob(i,e){if(i===e.value)return e;for(const t of e.children){const n=Ob(i,t);if(n)return n}return null}function Fb(i,e){if(i===e.value)return[e];for(const t of e.children){const n=Fb(i,t);if(n.length)return n.unshift(e),n}return[]}class go{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pc(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class wA extends xA{constructor(e,t){super(e),this.snapshot=t,Lb(this,e)}toString(){return this.snapshot.toString()}}function MA(i,e){const t=function(i,e){const o=new Jp([],{},{},"",{},Lt,e,null,i.root,-1,{});return new SA("",new go(o,[]))}(i,e),n=new Lr([new Yd("",{})]),r=new Lr({}),s=new Lr({}),o=new Lr({}),a=new Lr(""),l=new ds(n,r,o,a,s,Lt,e,t.root);return l.snapshot=t.root,new wA(new go(l,[]),t)}class ds{constructor(e,t,n,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(mt(e=>Ic(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(mt(e=>Ic(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CA(i,e="emptyOnly"){const t=i.pathFromRoot;let n=0;if("always"!==e)for(n=t.length-1;n>=1;){const r=t[n],s=t[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(n))}class Jp{constructor(e,t,n,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ic(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SA extends xA{constructor(e,t){super(t),this.url=e,Lb(this,t)}toString(){return EA(this._root)}}function Lb(i,e){e.value._routerState=i,e.children.forEach(t=>Lb(i,t))}function EA(i){const e=i.children.length>0?` { ${i.children.map(EA).join(", ")} } `:"";return`${i.value}${e}`}function Nb(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Ns(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),Ns(e.params,t.params)||i.params.next(t.params),function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Ns(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),Ns(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Bb(i,e){const t=Ns(i.params,e.params)&&function(i,e){return La(i,e)&&i.every((t,n)=>Ns(t.parameters,e[n].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||Bb(i.parent,e.parent))}function Kd(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=e.value;const r=function(i,e,t){return e.children.map(n=>{for(const r of t.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Kd(i,n,r);return Kd(i,n)})}(i,e,t);return new go(n,r)}{if(i.shouldAttach(e.value)){const s=i.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Kd(i,a)),o}}const n=function(i){return new ds(new Lr(i.url),new Lr(i.params),new Lr(i.queryParams),new Lr(i.fragment),new Lr(i.data),i.outlet,i.component,i)}(e.value),r=e.children.map(s=>Kd(i,s));return new go(n,r)}}function em(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Qd(i){return"object"==typeof i&&null!=i&&i.outlets}function Vb(i,e,t,n,r){let s={};return n&&Mi(n,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Fa(t.root===i?e:DA(t.root,i,e),s,r)}function DA(i,e,t){const n={};return Mi(i.children,(r,s)=>{n[s]=r===e?t:DA(r,e,t)}),new Gt(i.segments,n)}class TA{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&em(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Qd);if(r&&r!==uA(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zb{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function AA(i,e,t){if(i||(i=new Gt([],{})),0===i.segments.length&&i.hasChildren())return tm(i,e,t);const n=function(i,e,t){let n=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=t.length)return s;const o=i.segments[r],a=t[n];if(Qd(a))break;const l=`${a}`,c=n<t.length-1?t[n+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!PA(l,c,o))return s;n+=2}else{if(!PA(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const s=new Gt(i.segments.slice(0,n.pathIndex),{});return s.children[Lt]=new Gt(i.segments.slice(n.pathIndex),i.children),tm(s,0,r)}return n.match&&0===r.length?new Gt(i.segments,{}):n.match&&!i.hasChildren()?Ub(i,e,t):n.match?tm(i,0,r):Ub(i,e,t)}function tm(i,e,t){if(0===t.length)return new Gt(i.segments,{});{const n=function(i){return Qd(i[0])?i[0].outlets:{[Lt]:i}}(t),r={};return Mi(n,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=AA(i.children[o],e,s))}),Mi(i.children,(s,o)=>{void 0===n[o]&&(r[o]=s)}),new Gt(i.segments,r)}}function Ub(i,e,t){const n=i.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Qd(s)){const l=eG(s.outlets);return new Gt(n,l)}if(0===r&&em(t[0])){n.push(new Yd(i.segments[e].path,IA(t[0]))),r++;continue}const o=Qd(s)?s.outlets[Lt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&em(a)?(n.push(new Yd(o,IA(a))),r+=2):(n.push(new Yd(o,{})),r++)}return new Gt(n,{})}function eG(i){const e={};return Mi(i,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Ub(new Gt([],{}),0,t))}),e}function IA(i){const e={};return Mi(i,(t,n)=>e[n]=`${t}`),e}function PA(i,e,t){return i==t.path&&Ns(e,t.parameters)}class nG{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Nb(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Pc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Mi(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=Pc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=Pc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Pc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new w6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new b6(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(Nb(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Nb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}class Hb{constructor(e,t){this.routes=e,this.module=t}}function qo(i){return"function"==typeof i}function Na(i){return i instanceof Fa}const Jd=Symbol("INITIAL_VALUE");function eh(){return us(i=>function(...i){let e,t;return Po(i[i.length-1])&&(t=i.pop()),"function"==typeof i[i.length-1]&&(e=i.pop()),1===i.length&&Pn(i[0])&&(i=i[0]),df(i,t).lift(new U8(e))}(i.map(e=>e.pipe(Nr(1),Br(Jd)))).pipe(JT((e,t)=>{let n=!1;return t.reduce((r,s,o)=>r!==Jd?r:(s===Jd&&(n=!0),n||!1!==s&&o!==t.length-1&&!Na(s)?r:s),e)},Jd),wi(e=>e!==Jd),mt(e=>Na(e)?e:!0===e),Nr(1)))}class cG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new th,this.attachRef=null}}class th{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new cG,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Gb=(()=>{class i{constructor(t,n,r,s,o){this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.name=s||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(n=n||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new uG(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(A(th),A(Ui),A(ao),Es("name"),A(Fn))},i.\u0275dir=De({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class uG{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===ds?this.route:e===th?this.childContexts:this.parent.get(e,t)}}let RA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=Rt({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,n){1&t&&xe(0,"router-outlet")},directives:[Gb],encapsulation:2}),i})();function kA(i,e=""){for(let t=0;t<i.length;t++){const n=i[t];dG(n,hG(e,n))}}function dG(i,e){i.children&&kA(i.children,e)}function hG(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function Wb(i){const e=i.children&&i.children.map(Wb),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=RA),t}function Vr(i){return i.outlet||Lt}function OA(i,e){const t=i.filter(n=>Vr(n)===e);return t.push(...i.filter(n=>Vr(n)!==e)),t}const FA={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function nm(i,e,t){var n;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},FA):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||S6)(t,i,e);if(!s)return Object.assign({},FA);const o={};Mi(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(n=s.posParams)&&void 0!==n?n:{}}}function im(i,e,t,n,r="corrected"){if(t.length>0&&function(i,e,t){return t.some(n=>rm(i,e,n)&&Vr(n)!==Lt)}(i,t,n)){const o=new Gt(e,function(i,e,t,n){const r={};r[Lt]=n,n._sourceSegment=i,n._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Vr(s)!==Lt){const o=new Gt([],{});o._sourceSegment=i,o._segmentIndexShift=e.length,r[Vr(s)]=o}return r}(i,e,n,new Gt(t,i.children)));return o._sourceSegment=i,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(i,e,t){return t.some(n=>rm(i,e,n))}(i,t,n)){const o=new Gt(i.segments,function(i,e,t,n,r,s){const o={};for(const a of n)if(rm(i,t,a)&&!r[Vr(a)]){const l=new Gt([],{});l._sourceSegment=i,l._segmentIndexShift="legacy"===s?i.segments.length:e.length,o[Vr(a)]=l}return Object.assign(Object.assign({},r),o)}(i,e,t,n,i.children,r));return o._sourceSegment=i,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Gt(i.segments,i.children);return s._sourceSegment=i,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function rm(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function LA(i,e,t,n){return!!(Vr(i)===n||n!==Lt&&rm(e,t,i))&&("**"===i.path||nm(e,i,t).matched)}function NA(i,e,t){return 0===e.length&&!i.children[t]}class nh{constructor(e){this.segmentGroup=e||null}}class BA{constructor(e){this.urlTree=e}}function sm(i){return new Le(e=>e.error(new nh(i)))}function VA(i){return new Le(e=>e.error(new BA(i)))}function _G(i){return new Le(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class bG{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(co)}apply(){const e=im(this.urlTree.root,[],[],this.config).segmentGroup,t=new Gt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Lt).pipe(mt(s=>this.createUrlTree(jb(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe($o(s=>{if(s instanceof BA)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof nh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Lt).pipe(mt(r=>this.createUrlTree(jb(r),e.queryParams,e.fragment))).pipe($o(r=>{throw r instanceof nh?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Gt([],{[Lt]:e}):e;return new Fa(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(mt(s=>new Gt([],s))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return Ti(r).pipe(Dc(s=>{const o=n.children[s],a=OA(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(mt(l=>({segment:l,outlet:s})))}),JT((s,o)=>(s[o.outlet]=o.segment,s),{}),function(i,e){const t=arguments.length>=2;return n=>n.pipe(i?wi((r,s)=>i(r,s,n)):Me,Ib(1),t?tA(e):eA(()=>new $p))}())}expandSegment(e,t,n,r,s,o){return Ti(n).pipe(Dc(a=>this.expandSegmentAgainstRoute(e,t,n,a,r,s,o).pipe($o(c=>{if(c instanceof nh)return Je(null);throw c}))),Tc(a=>!!a),$o((a,l)=>{if(a instanceof $p||"EmptyError"===a.name){if(NA(t,r,s))return Je(new Gt([],{}));throw new nh(t)}throw a}))}expandSegmentAgainstRoute(e,t,n,r,s,o,a){return LA(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o):sm(t):sm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?VA(s):this.lineralizeSegments(n,s).pipe(yi(o=>{const a=new Gt(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=nm(t,r,s);if(!a)return sm(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?VA(d):this.lineralizeSegments(r,d).pipe(yi(h=>this.expandSegment(e,t,n,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Je(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(mt(h=>(n._loadedConfig=h,new Gt(r,{})))):Je(new Gt(r,{}));const{matched:o,consumedSegments:a,lastChild:l}=nm(t,n,r);if(!o)return sm(t);const c=r.slice(l);return this.getChildConfig(e,n,r).pipe(yi(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=im(t,a,c,f),g=new Gt(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(mt(x=>new Gt(a,x)));if(0===f.length&&0===m.length)return Je(new Gt(a,{}));const b=Vr(n)===s;return this.expandSegment(h,g,f,m,b?Lt:s,!0).pipe(mt(w=>new Gt(a.concat(w.segments),w.children)))}))}getChildConfig(e,t,n){return t.children?Je(new Hb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Je(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(yi(r=>r?this.configLoader.load(e.injector,t).pipe(mt(s=>(t._loadedConfig=s,s))):function(i){return new Le(e=>e.error(Rb(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(t))):Je(new Hb([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return Je(!0);const s=r.map(o=>{const a=e.get(o);let l;if(function(i){return i&&qo(i.canLoad)}(a))l=a.canLoad(t,n);else{if(!qo(a))throw new Error("Invalid CanLoad guard");l=a(t,n)}return Bs(l)});return Je(s).pipe(eh(),Dn(o=>{if(!Na(o))return;const a=Rb(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),mt(o=>!0===o))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Je(n);if(r.numberOfChildren>1||!r.children[Lt])return _G(e.redirectTo);r=r.children[Lt]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new Fa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Mi(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);n[s]=t[a]}else n[s]=r}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let o={};return Mi(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,n,r)}),new Gt(s,o)}createSegments(e,t,n,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function jb(i){const e={};for(const n of Object.keys(i.children)){const s=jb(i.children[n]);(s.segments.length>0||s.hasChildren())&&(e[n]=s)}return function(i){if(1===i.numberOfChildren&&i.children[Lt]){const e=i.children[Lt];return new Gt(i.segments.concat(e.segments),e.children)}return i}(new Gt(i.segments,e))}class zA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class om{constructor(e,t){this.component=e,this.route=t}}function MG(i,e,t){const n=i._root;return ih(n,e?e._root:null,t,[n.value])}function am(i,e,t){const n=function(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:t).get(i)}function ih(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Pc(e);return i.children.forEach(o=>{(function(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,o=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!La(i.url,e.url);case"pathParamsOrQueryParamsChange":return!La(i.url,e.url)||!Ns(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bb(i,e)||!Ns(i.queryParams,e.queryParams);default:return!Bb(i,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new zA(n)):(s.data=o.data,s._resolvedData=o._resolvedData),ih(i,e,s.component?a?a.children:null:t,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new om(a.outlet.component,o))}else o&&rh(e,a,r),r.canActivateChecks.push(new zA(n)),ih(i,null,s.component?a?a.children:null:t,n,r)})(o,s[o.value.outlet],t,n.concat([o.value]),r),delete s[o.value.outlet]}),Mi(s,(o,a)=>rh(o,t.getContext(a),r)),r}function rh(i,e,t){const n=Pc(i),r=i.value;Mi(n,(s,o)=>{rh(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new om(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class LG{}function UA(i){return new Le(e=>e.error(i))}class BG{constructor(e,t,n,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=im(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Lt);if(null===t)return null;const n=new Jp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new go(n,t),s=new SA(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,n=CA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=OA(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;n.push(...l)}const r=HA(n);return function(i){i.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,n,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,n,r);if(null!==o)return o}return NA(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!LA(e,t,n,r))return null;let s,o=[],a=[];if("**"===e.path){const f=n.length>0?uA(n).parameters:{};s=new Jp(n,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jA(e),Vr(e),e.component,e,GA(t),WA(t)+n.length,$A(e))}else{const f=nm(t,e,n);if(!f.matched)return null;o=f.consumedSegments,a=n.slice(f.lastChild),s=new Jp(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jA(e),Vr(e),e.component,e,GA(t),WA(t)+o.length,$A(e))}const l=function(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=im(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new go(s,f)]}if(0===l.length&&0===u.length)return[new go(s,[])];const d=Vr(e)===r,h=this.processSegment(l,c,u,d?Lt:r);return null===h?null:[new go(s,h)]}}function UG(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function HA(i){const e=[],t=new Set;for(const n of i){if(!UG(n)){e.push(n);continue}const r=e.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),t.add(r)):e.push(n)}for(const n of t){const r=HA(n.children);e.push(new go(n.value,r))}return e.filter(n=>!t.has(n))}function GA(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function WA(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function jA(i){return i.data||{}}function $A(i){return i.resolve||{}}function $b(i){return us(e=>{const t=i(e);return t?Ti(t).pipe(mt(()=>e)):Je(e)})}class YG extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const qb=new Ce("ROUTES");class qA{constructor(e,t,n,r){this.injector=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(mt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Hb(cA(o.injector.get(qb,void 0,Mt.Self|Mt.Optional)).map(Wb),o)}),$o(s=>{throw t._loader$=void 0,s}));return t._loader$=new Lw(r,()=>new Qe).pipe(h_()),t._loader$}loadModuleFactory(e){return Bs(e()).pipe(yi(t=>t instanceof uE?Je(t):Ti(this.compiler.compileModuleAsync(t))))}}class KG{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function QG(i){throw i}function JG(i,e,t){return e.parse("/")}function XA(i,e){return Je(null)}const eW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ui=(()=>{class i{constructor(t,n,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qe,this.errorHandler=QG,this.malformedUriErrorHandler=JG,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:XA,afterPreactivation:XA},this.urlHandlingStrategy=new KG,this.routeReuseStrategy=new YG,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(co),this.console=o.get($E);const d=o.get(lt);this.isNgZoneEnabled=d instanceof lt&&lt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Fa(new Gt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qA(o,a,h=>this.triggerEvent(new rA(h)),h=>this.triggerEvent(new sA(h))),this.routerState=MA(this.currentUrlTree,this.rootComponentType),this.transitions=new Lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const n=this.events;return t.pipe(wi(r=>0!==r.id),mt(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),us(r=>{let s=!1,o=!1;return Je(r).pipe(Dn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),us(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return lm(a.source)&&(this.browserUrlTree=a.extractedUrl),Je(a).pipe(us(d=>{const h=this.transitions.getValue();return n.next(new Pb(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Oa:Promise.resolve(d)}),function(i,e,t,n){return us(r=>function(i,e,t,n,r){return new bG(i,e,t,n,r).apply()}(i,e,t,r.extractedUrl,n).pipe(mt(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Dn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(i,e,t,n,r){return yi(s=>function(i,e,t,n,r="emptyOnly",s="legacy"){try{const o=new BG(i,e,t,n,r,s).recognize();return null===o?UA(new LG):Je(o)}catch(o){return UA(o)}}(i,e,s.urlAfterRedirects,t(s.urlAfterRedirects),n,r).pipe(mt(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Dn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new p6(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);n.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,b=new Pb(h,this.serializeUrl(f),p,m);n.next(b);const y=MA(f,this.rootComponentType).snapshot;return Je(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Oa}),$b(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Dn(a=>{const l=new m6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),mt(a=>Object.assign(Object.assign({},a),{guards:MG(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(i,e){return yi(t=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Je(Object.assign(Object.assign({},t),{guardsResult:!0})):function(i,e,t,n){return Ti(i).pipe(yi(r=>function(i,e,t,n,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Je(s.map(a=>{const l=am(a,e,r);let c;if(function(i){return i&&qo(i.canDeactivate)}(l))c=Bs(l.canDeactivate(i,e,t,n));else{if(!qo(l))throw new Error("Invalid CanDeactivate guard");c=Bs(l(i,e,t,n))}return c.pipe(Tc())})).pipe(eh()):Je(!0)}(r.component,r.route,t,e,n)),Tc(r=>!0!==r,!0))}(o,n,r,i).pipe(yi(a=>a&&function(i){return"boolean"==typeof i}(a)?function(i,e,t,n){return Ti(e).pipe(Dc(r=>Tb(function(i,e){return null!==i&&e&&e(new y6(i)),Je(!0)}(r.route.parent,n),function(i,e){return null!==i&&e&&e(new x6(i)),Je(!0)}(r.route,n),function(i,e,t){const n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Ab(()=>Je(o.guards.map(l=>{const c=am(l,o.node,t);let u;if(function(i){return i&&qo(i.canActivateChild)}(c))u=Bs(c.canActivateChild(n,i));else{if(!qo(c))throw new Error("Invalid CanActivateChild guard");u=Bs(c(n,i))}return u.pipe(Tc())})).pipe(eh())));return Je(s).pipe(eh())}(i,r.path,t),function(i,e,t){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return Je(!0);const r=n.map(s=>Ab(()=>{const o=am(s,e,t);let a;if(function(i){return i&&qo(i.canActivate)}(o))a=Bs(o.canActivate(e,i));else{if(!qo(o))throw new Error("Invalid CanActivate guard");a=Bs(o(e,i))}return a.pipe(Tc())}));return Je(r).pipe(eh())}(i,r.route,t))),Tc(r=>!0!==r,!0))}(n,s,i,e):Je(a)),mt(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Dn(a=>{if(Na(a.guardsResult)){const c=Rb(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new g6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),wi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),$b(a=>{if(a.guards.canActivateChecks.length)return Je(a).pipe(Dn(l=>{const c=new _6(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),us(l=>{let c=!1;return Je(l).pipe(function(i,e){return yi(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return Je(t);let s=0;return Ti(r).pipe(Dc(o=>function(i,e,t,n){return function(i,e,t,n){const r=Object.keys(i);if(0===r.length)return Je({});const s={};return Ti(r).pipe(yi(o=>function(i,e,t,n){const r=am(i,e,n);return Bs(r.resolve?r.resolve(e,t):r(e,t))}(i[o],e,t,n).pipe(Dn(a=>{s[o]=a}))),Ib(1),yi(()=>Object.keys(s).length===r.length?Je(s):Oa))}(i._resolve,i,e,n).pipe(mt(s=>(i._resolvedData=s,i.data=Object.assign(Object.assign({},i.data),CA(i,t).resolve),null)))}(o.route,n,i,e)),Dn(()=>s++),Ib(1),yi(o=>s===r.length?Je(t):Oa))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Dn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Dn(l=>{const c=new v6(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),$b(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),mt(a=>{const l=function(i,e,t){const n=Kd(i,e._root,t?t._root:void 0);return new wA(n,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Dn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((i,e,t)=>mt(n=>(new nG(e,n.targetRouterState,n.currentRouterState,t).activate(i),n)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Dn({next(){s=!0},complete(){s=!0}}),nA(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),$o(a=>{if(o=!0,function(i){return i&&i[aA]}(a)){const l=Na(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new iA(r.id,this.serializeUrl(r.extractedUrl),a.message);n.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lm(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new f6(r.id,this.serializeUrl(r.extractedUrl),a);n.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Oa}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const n="popstate"===t.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,n,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){kA(t),this.config=t.map(Wb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(i,e,t,n,r){if(0===t.length)return Vb(e.root,e.root,e,n,r);const s=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new TA(!0,0,i);let e=0,t=!1;const n=i.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Mi(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new TA(t,e,n)}(t);if(s.toRoot())return Vb(e.root,new Gt([],{}),e,n,r);const o=function(i,e,t){if(i.isAbsolute)return new zb(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new zb(s,s===e.root,0)}const n=em(i.commands[0])?0:1;return function(i,e,t){let n=i,r=e,s=t;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Error("Invalid number of '../'");r=n.segments.length}return new zb(n,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+n,i.numberOfDoubleDots)}(s,e,i),a=o.processChildren?tm(o.segmentGroup,o.index,s.commands):AA(o.segmentGroup,o.index,s.commands);return Vb(o.segmentGroup,a,e,n,r)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,n={skipLocationChange:!1}){const r=Na(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,n)}navigate(t,n={skipLocationChange:!1}){return function(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let n;try{n=this.urlSerializer.parse(t)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return n}isActive(t,n){let r;if(r=!0===n?Object.assign({},eW):!1===n?Object.assign({},tW):n,Na(t))return hA(this.currentUrlTree,t,r);const s=this.parseUrl(t);return hA(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((n,r)=>{const s=t[r];return null!=s&&(n[r]=s),n},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ac(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,n,r,s,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const u=this.transitions.value,d=lm(n)&&u&&!lm(u.source),h=u.rawUrl.toString()===t.toString(),f=u.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let m,g,b;o?(m=o.resolve,g=o.reject,b=o.promise):b=new Promise((x,S)=>{m=x,g=S});const y=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),w=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):w=0,this.setTransition({id:y,targetPageId:w,source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:m,reject:g,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(x=>Promise.reject(x))}setBrowserUrl(t,n){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},n.extras.state),this.generateNgRouterState(n.id,n.targetPageId));this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,n=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,n){const r=new iA(t.id,this.serializeUrl(t.extractedUrl),n);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}}return i.\u0275fac=function(t){ep()},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();function lm(i){return"imperative"!==i}let cm=(()=>{class i{constructor(t,n,r,s,o){this.router=t,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Qe,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const n=this.renderer,r=this.el.nativeElement;null!==t?n.setAttribute(r,"tabindex",t):n.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Rc(this.skipLocationChange),replaceUrl:Rc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rc(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(A(ui),A(ds),Es("tabindex"),A(lo),A(ft))},i.\u0275dir=De({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,n){1&t&&he("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ri]}),i})(),sh=(()=>{class i{constructor(t,n,r){this.router=t,this.route=n,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Qe,this.subscription=t.events.subscribe(s=>{s instanceof Ac&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,n,r,s,o){if(0!==t||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Rc(this.skipLocationChange),replaceUrl:Rc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rc(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(A(ui),A(ds),A(Mc))},i.\u0275dir=De({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,n){1&t&&he("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&tn("target",n.target)("href",n.href,Bo)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ri]}),i})();function Rc(i){return""===i||!!i}class YA{}class ZA{preload(e,t){return Je(null)}}let KA=(()=>{class i{constructor(t,n,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new qA(r,n,l=>t.triggerEvent(new rA(l)),l=>t.triggerEvent(new sA(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(wi(t=>t instanceof Ac),Dc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(co);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const r=[];for(const s of n)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return Ti(r).pipe($u(),mt(s=>{}))}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>(n._loadedConfig?Je(n._loadedConfig):this.loader.load(t.injector,n)).pipe(yi(s=>(n._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(Y(ui),Y(gp),Y(mi),Y(YA))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})(),Xb=(()=>{class i{constructor(t,n,r={}){this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ac&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.router.triggerEvent(new oA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){ep()},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const Ba=new Ce("ROUTER_CONFIGURATION"),QA=new Ce("ROUTER_FORROOT_GUARD"),oW=[yp,{provide:gA,useClass:_A},{provide:ui,useFactory:function(i,e,t,n,r,s,o={},a,l){const c=new ui(null,i,e,t,n,r,cA(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[gA,th,yp,mi,gp,qb,Ba,[class{},new lr],[class{},new lr]]},th,{provide:ds,useFactory:function(i){return i.routerState.root},deps:[ui]},KA,ZA,class{preload(e,t){return t().pipe($o(()=>Je(null)))}},{provide:Ba,useValue:{enableTracing:!1}}];function aW(){return new QE("Router",ui)}let JA=(()=>{class i{constructor(t,n){}static forRoot(t,n){return{ngModule:i,providers:[oW,eI(t),{provide:QA,useFactory:uW,deps:[[ui,new lr,new Ma]]},{provide:Ba,useValue:n||{}},{provide:Mc,useFactory:cW,deps:[Pa,[new ld(zy),new lr],Ba]},{provide:Xb,useFactory:lW,deps:[ui,r5,Ba]},{provide:YA,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ZA},{provide:QE,multi:!0,useFactory:aW},[Yb,{provide:pp,multi:!0,useFactory:pW,deps:[Yb]},{provide:tI,useFactory:mW,deps:[Yb]},{provide:jE,multi:!0,useExisting:tI}]]}}static forChild(t){return{ngModule:i,providers:[eI(t)]}}}return i.\u0275fac=function(t){return new(t||i)(Y(QA,8),Y(ui,8))},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({}),i})();function lW(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Xb(i,e,t)}function cW(i,e,t={}){return t.useHash?new G4(i,e):new bD(i,e)}function uW(i){return"guarded"}function eI(i){return[{provide:vL,multi:!0,useValue:i},{provide:qb,multi:!0,useValue:i}]}let Yb=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qe}appInitializer(){return this.injector.get(z4,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let n=null;const r=new Promise(a=>n=a),s=this.injector.get(ui),o=this.injector.get(Ba);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),n(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Je(null):(this.initNavigation=!0,n(!0),this.resultOfPreactivationDone),s.initialNavigation()):n(!0),r})}bootstrapListener(t){const n=this.injector.get(Ba),r=this.injector.get(KA),s=this.injector.get(Xb),o=this.injector.get(ui),a=this.injector.get(xc);t===a.components[0]&&(("enabledNonBlocking"===n.initialNavigation||void 0===n.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(Y(mi))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();function pW(i){return i.appInitializer.bind(i)}function mW(i){return i.bootstrapListener.bind(i)}const tI=new Ce("Router Initializer");class Zb{}const _o="*";function zr(i,e){return{type:7,name:i,definitions:e,options:{}}}function Tn(i,e=null){return{type:4,styles:e,timings:i}}function nI(i,e=null){return{type:2,steps:i,options:e}}function xt(i){return{type:6,styles:i,offset:null}}function hs(i,e,t){return{type:0,name:i,styles:e,options:t}}function Ln(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function vW(i=null){return{type:9,options:i}}function Kb(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}function iI(i,e){return{type:12,timings:i,animation:e}}function rI(i){Promise.resolve(null).then(i)}class kc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class sI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const s=this.players.length;0==s?rI(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}function oI(i,e,t,n,r,s,o){try{var a=i[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(n,r)}const Ji=1001,di=1003,Nn=1006,Ua=1009,Ha=1014,Yo=1015,ch=1016,Vc=1020,Ur=1023,Ga=1026,zc=1027,Wa=3e3,Bn=3001,bo="srgb",ja="srgb-linear";class $a{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const n=this._listeners[e.type];if(void 0!==n){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ki=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],qa=Math.PI/180,uh=180/Math.PI;function mr(){const i=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(ki[255&i]+ki[i>>8&255]+ki[i>>16&255]+ki[i>>24&255]+"-"+ki[255&e]+ki[e>>8&255]+"-"+ki[e>>16&15|64]+ki[e>>24&255]+"-"+ki[63&t|128]+ki[t>>8&255]+"-"+ki[t>>16&255]+ki[t>>24&255]+ki[255&n]+ki[n>>8&255]+ki[n>>16&255]+ki[n>>24&255]).toLowerCase()}function $n(i,e,t){return Math.max(e,Math.min(t,i))}function dh(i,e,t){return(1-t)*i+t*e}function m0(i){return 0==(i&i-1)&&0!==i}function ym(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}class J{constructor(e=0,t=0){J.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*r+e.x,this.y=s*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class gr{constructor(){gr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=n,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],u=n[4],d=n[7],h=n[2],f=n[5],p=n[8],m=r[0],g=r[3],b=r[6],y=r[1],w=r[4],x=r[7],S=r[2],E=r[5],O=r[8];return s[0]=o*m+a*y+l*S,s[3]=o*g+a*w+l*E,s[6]=o*b+a*x+l*O,s[1]=c*m+u*y+d*S,s[4]=c*g+u*w+d*E,s[7]=c*b+u*x+d*O,s[2]=h*m+f*y+p*S,s[5]=h*g+f*w+p*E,s[8]=h*b+f*x+p*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*s*u+n*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,f=c*s-o*l,p=t*d+n*h+r*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(r*c-u*n)*m,e[2]=(a*n-r*o)*m,e[3]=h*m,e[4]=(u*t-r*l)*m,e[5]=(r*s-a*t)*m,e[6]=f*m,e[7]=(n*l-c*t)*m,e[8]=(o*t-n*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7];return r[0]=t*s+n*l,r[3]=t*o+n*c,r[6]=t*a+n*u,r[1]=-n*s+t*l,r[4]=-n*o+t*c,r[7]=-n*a+t*u,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function HI(i){for(let e=i.length-1;e>=0;--e)if(i[e]>65535)return!0;return!1}function hh(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function Xa(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function bm(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const g0={[bo]:{[ja]:Xa},[ja]:{[bo]:bm}},ps={legacyMode:!0,get workingColorSpace(){return ja},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,e,t){if(this.legacyMode||e===t||!e||!t)return i;if(g0[e]&&void 0!==g0[e][t]){const n=g0[e][t];return i.r=n(i.r),i.g=n(i.g),i.b=n(i.b),i}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(i,e){return this.convert(i,this.workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this.workingColorSpace)}},GI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hi={r:0,g:0,b:0},ms={h:0,s:0,l:0},xm={h:0,s:0,l:0};function _0(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+6*(e-i)*(2/3-t):i}function wm(i,e){return e.r=i.r,e.g=i.g,e.b=i.b,e}let jc,He=(()=>{class i{constructor(t,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,n=bo){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,ps.toWorkingColorSpace(this,n),this}setRGB(t,n,r,s=ja){return this.r=t,this.g=n,this.b=r,ps.toWorkingColorSpace(this,s),this}setHSL(t,n,r,s=ja){if(t=function(i,e){return(i%e+e)%e}(t,1),n=$n(n,0,1),r=$n(r,0,1),0===n)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=_0(a,o,t+1/3),this.g=_0(a,o,t),this.b=_0(a,o,t-1/3)}return ps.toWorkingColorSpace(this,s),this}setStyle(t,n=bo){function r(o){void 0!==o&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let o;const l=s[2];switch(s[1]){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,ps.toWorkingColorSpace(this,n),r(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,ps.toWorkingColorSpace(this,n),r(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const c=parseFloat(o[1])/360,u=parseInt(o[2],10)/100,d=parseInt(o[3],10)/100;return r(o[4]),this.setHSL(c,u,d,n)}}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=s[1],a=o.length;if(3===a)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,ps.toWorkingColorSpace(this,n),this;if(6===a)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,ps.toWorkingColorSpace(this,n),this}return t&&t.length>0?this.setColorName(t,n):this}setColorName(t,n=bo){const r=GI[t.toLowerCase()];return void 0!==r?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Xa(t.r),this.g=Xa(t.g),this.b=Xa(t.b),this}copyLinearToSRGB(t){return this.r=bm(t.r),this.g=bm(t.g),this.b=bm(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=bo){return ps.fromWorkingColorSpace(wm(this,hi),t),$n(255*hi.r,0,255)<<16^$n(255*hi.g,0,255)<<8^$n(255*hi.b,0,255)<<0}getHexString(t=bo){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,n=ja){ps.fromWorkingColorSpace(wm(this,hi),n);const r=hi.r,s=hi.g,o=hi.b,a=Math.max(r,s,o),l=Math.min(r,s,o);let c,u;const d=(l+a)/2;if(l===a)c=0,u=0;else{const h=a-l;switch(u=d<=.5?h/(a+l):h/(2-a-l),a){case r:c=(s-o)/h+(s<o?6:0);break;case s:c=(o-r)/h+2;break;case o:c=(r-s)/h+4}c/=6}return t.h=c,t.s=u,t.l=d,t}getRGB(t,n=ja){return ps.fromWorkingColorSpace(wm(this,hi),n),t.r=hi.r,t.g=hi.g,t.b=hi.b,t}getStyle(t=bo){return ps.fromWorkingColorSpace(wm(this,hi),t),t!==bo?`color(${t} ${hi.r} ${hi.g} ${hi.b})`:`rgb(${255*hi.r|0},${255*hi.g|0},${255*hi.b|0})`}offsetHSL(t,n,r){return this.getHSL(ms),ms.h+=t,ms.s+=n,ms.l+=r,this.setHSL(ms.h,ms.s,ms.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,r){return this.r=t.r+(n.r-t.r)*r,this.g=t.g+(n.g-t.g)*r,this.b=t.b+(n.b-t.b)*r,this}lerpHSL(t,n){this.getHSL(ms),t.getHSL(xm);const r=dh(ms.h,xm.h,n),s=dh(ms.s,xm.s,n),o=dh(ms.l,xm.l,n);return this.setHSL(r,s,o),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return i.NAMES=GI,i})();class WI{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===jc&&(jc=hh("canvas")),jc.width=e.width,jc.height=e.height;const n=jc.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=jc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=hh("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*Xa(s[o]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t[n]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Xa(t[n]/255)):Xa(t[n]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class $c{constructor(e=null){this.isSource=!0,this.uuid=mr(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(v0(r[o].isDataTexture?r[o].image:r[o]))}else s=v0(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function v0(i){return"undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&i instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&i instanceof ImageBitmap?WI.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Oj=0,Vs=(()=>{class i extends $a{constructor(t=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,r=Ji,s=Ji,o=Nn,a=1008,l=Ur,c=Ua,u=1,d=Wa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Oj++}),this.uuid=mr(),this.name="",this.source=new $c(t),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new J(0,0),this.repeat=new J(1,1),this.center=new J(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new gr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const n=void 0===t||"string"==typeof t;if(!n&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Ji:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Ji:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=300,i})();class nn{constructor(e=0,t=0,n=0,r=1){nn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const o=.01,a=.1,l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],m=l[2],g=l[6],b=l[10];if(Math.abs(u-h)<o&&Math.abs(d-m)<o&&Math.abs(p-g)<o){if(Math.abs(u+h)<a&&Math.abs(d+m)<a&&Math.abs(p+g)<a&&Math.abs(c+f+b-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,x=(f+1)/2,S=(b+1)/2,E=(u+h)/4,O=(d+m)/4,C=(p+g)/4;return w>x&&w>S?w<o?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(w),r=E/n,s=O/n):x>S?x<o?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(x),n=E/r,s=C/r):S<o?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(S),n=O/s,r=C/s),this.set(n,r,s,t),this}let y=Math.sqrt((g-p)*(g-p)+(d-m)*(d-m)+(h-u)*(h-u));return Math.abs(y)<.001&&(y=1),this.x=(g-p)/y,this.y=(d-m)/y,this.z=(h-u)/y,this.w=Math.acos((c+f+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ya extends $a{constructor(e,t,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new nn(0,0,e,t),this.scissorTest=!1,this.viewport=new nn(0,0,e,t),this.texture=new Vs({width:e,height:t,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Nn,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new $c(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class y0 extends Vs{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=di,this.minFilter=di,this.wrapR=Ji,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jI extends Vs{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=di,this.minFilter=di,this.wrapR=Ji,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Qn{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,o,a){let l=n[r+0],c=n[r+1],u=n[r+2],d=n[r+3];const h=s[o+0],f=s[o+1],p=s[o+2],m=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=h,e[t+1]=f,e[t+2]=p,void(e[t+3]=m);if(d!==m||l!==h||c!==f||u!==p){let g=1-a;const b=l*h+c*f+u*p+d*m,y=b>=0?1:-1,w=1-b*b;if(w>Number.EPSILON){const S=Math.sqrt(w),E=Math.atan2(S,b*y);g=Math.sin(g*E)/S,a=Math.sin(a*E)/S}const x=a*y;if(l=l*g+h*x,c=c*g+f*x,u=u*g+p*x,d=d*g+m*x,g===1-a){const S=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=S,c*=S,u*=S,d*=S}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,r,s,o){const a=n[r],l=n[r+1],c=n[r+2],u=n[r+3],d=s[o],h=s[o+1],f=s[o+2],p=s[o+3];return e[t]=a*p+u*d+l*f-c*h,e[t+1]=l*p+u*h+c*d-a*f,e[t+2]=c*p+u*f+a*h-l*d,e[t+3]=u*p-a*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),u=a(r/2),d=a(s/2),h=l(n/2),f=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"YXZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"ZXY":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"ZYX":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"YZX":this._x=h*u*d+c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d-h*f*p;break;case"XZY":this._x=h*u*d-c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=n+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-r)*f}else if(n>a&&n>d){const f=2*Math.sqrt(1+n-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(s+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-n-d);this._w=(s-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-n-a);this._w=(o-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($n(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-n*c,this._z=s*u+o*c+n*l-r*a,this._w=o*u-n*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*n+t*this._x,this._y=f*r+t*this._y,this._z=f*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(s),n*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class T{constructor(e=0,t=0,n=0){T.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion($I.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion($I.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*n,u=l*n+a*t-s*r,d=l*r+s*n-o*t,h=-s*t-o*n-a*r;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-n*l,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return b0.copy(this).projectOnVector(e),this.sub(b0)}reflect(e){return this.sub(b0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos($n(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-QO(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const b0=new T,$I=new Qn;class qc{constructor(e=new T(1/0,1/0,1/0),t=new T(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],h=e[l+2];u<t&&(t=u),d<n&&(n=d),h<r&&(r=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),h=e.getZ(l);u<t&&(t=u),d<n&&(n=d),h<r&&(r=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Za.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){const s=n.attributes.position;for(let o=0,a=s.count;o<a;o++)Za.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Za)}else null===n.boundingBox&&n.computeBoundingBox(),x0.copy(n.boundingBox),x0.applyMatrix4(e.matrixWorld),this.union(x0);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Za),Za.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fh),Mm.subVectors(this.max,fh),Xc.subVectors(e.a,fh),Yc.subVectors(e.b,fh),Zc.subVectors(e.c,fh),Zo.subVectors(Yc,Xc),Ko.subVectors(Zc,Yc),Ka.subVectors(Xc,Zc);let t=[0,-Zo.z,Zo.y,0,-Ko.z,Ko.y,0,-Ka.z,Ka.y,Zo.z,0,-Zo.x,Ko.z,0,-Ko.x,Ka.z,0,-Ka.x,-Zo.y,Zo.x,0,-Ko.y,Ko.x,0,-Ka.y,Ka.x,0];return!(!w0(t,Xc,Yc,Zc,Mm)||(t=[1,0,0,0,1,0,0,0,1],!w0(t,Xc,Yc,Zc,Mm)))&&(Cm.crossVectors(Zo,Ko),t=[Cm.x,Cm.y,Cm.z],w0(t,Xc,Yc,Zc,Mm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Za.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Za).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(xo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xo)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const xo=[new T,new T,new T,new T,new T,new T,new T,new T],Za=new T,x0=new qc,Xc=new T,Yc=new T,Zc=new T,Zo=new T,Ko=new T,Ka=new T,fh=new T,Mm=new T,Cm=new T,Qa=new T;function w0(i,e,t,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){Qa.fromArray(i,s);const a=r.x*Math.abs(Qa.x)+r.y*Math.abs(Qa.y)+r.z*Math.abs(Qa.z),l=e.dot(Qa),c=t.dot(Qa),u=n.dot(Qa);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Fj=new qc,qI=new T,Sm=new T,M0=new T;class Kc{constructor(e=new T,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Fj.setFromPoints(e).getCenter(n);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){M0.subVectors(e,this.center);const t=M0.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(M0.multiplyScalar(r/n)),this.radius+=r}return this}union(e){return!0===this.center.equals(e.center)?Sm.set(0,0,1).multiplyScalar(e.radius):Sm.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(qI.copy(e.center).add(Sm)),this.expandByPoint(qI.copy(e.center).sub(Sm)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const wo=new T,C0=new T,Em=new T,Qo=new T,S0=new T,Dm=new T,E0=new T;class Tm{constructor(e=new T,t=new T(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wo.copy(this.direction).multiplyScalar(t).add(this.origin),wo.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){C0.copy(e).add(t).multiplyScalar(.5),Em.copy(t).sub(e).normalize(),Qo.copy(this.origin).sub(C0);const s=.5*e.distanceTo(t),o=-this.direction.dot(Em),a=Qo.dot(this.direction),l=-Qo.dot(Em),c=Qo.lengthSq(),u=Math.abs(1-o*o);let d,h,f,p;if(u>0)if(d=o*l-a,h=o*a-l,p=s*u,d>=0)if(h>=-p)if(h<=p){const m=1/u;d*=m,h*=m,f=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-p?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=p?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(Em).multiplyScalar(h).add(C0),f}intersectSphere(e,t){wo.subVectors(e.center,this.origin);const n=wo.dot(this.direction),r=wo.dot(wo)-n*n,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=n-o,l=n+o;return a<0&&l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),n>o||s>r||((s>n||n!=n)&&(n=s),(o<r||r!=r)&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),n>l||a>r)||((a>n||n!=n)&&(n=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return null!==this.intersectBox(e,wo)}intersectTriangle(e,t,n,r,s){S0.subVectors(t,e),Dm.subVectors(n,e),E0.crossVectors(S0,Dm);let a,o=this.direction.dot(E0);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Qo.subVectors(this.origin,e);const l=a*this.direction.dot(Dm.crossVectors(Qo,Dm));if(l<0)return null;const c=a*this.direction.dot(S0.cross(Qo));if(c<0||l+c>o)return null;const u=-a*Qo.dot(E0);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Et{constructor(){Et.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,s,o,a,l,c,u,d,h,f,p,m,g){const b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=r,b[1]=s,b[5]=o,b[9]=a,b[13]=l,b[2]=c,b[6]=u,b[10]=d,b[14]=h,b[3]=f,b[7]=p,b[11]=m,b[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Et).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Qc.setFromMatrixColumn(e,0).length(),s=1/Qc.setFromMatrixColumn(e,1).length(),o=1/Qc.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===e.order){const h=o*u,f=o*d,p=a*u,m=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=f+p*c,t[5]=h-m*c,t[9]=-a*l,t[2]=m-h*c,t[6]=p+f*c,t[10]=o*l}else if("YXZ"===e.order){const h=l*u,f=l*d,p=c*u,m=c*d;t[0]=h+m*a,t[4]=p*a-f,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=f*a-p,t[6]=m+h*a,t[10]=o*l}else if("ZXY"===e.order){const h=l*u,f=l*d,p=c*u,m=c*d;t[0]=h-m*a,t[4]=-o*d,t[8]=p+f*a,t[1]=f+p*a,t[5]=o*u,t[9]=m-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const h=o*u,f=o*d,p=a*u,m=a*d;t[0]=l*u,t[4]=p*c-f,t[8]=h*c+m,t[1]=l*d,t[5]=m*c+h,t[9]=f*c-p,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const h=o*l,f=o*c,p=a*l,m=a*c;t[0]=l*u,t[4]=m-h*d,t[8]=p*d+f,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*d+p,t[10]=h-m*d}else if("XZY"===e.order){const h=o*l,f=o*c,p=a*l,m=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=h*d+m,t[5]=o*u,t[9]=f*d-p,t[2]=p*d-f,t[6]=a*u,t[10]=m*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Lj,e,Nj)}lookAt(e,t,n){const r=this.elements;return _r.subVectors(e,t),0===_r.lengthSq()&&(_r.z=1),_r.normalize(),Jo.crossVectors(n,_r),0===Jo.lengthSq()&&(1===Math.abs(n.z)?_r.x+=1e-4:_r.z+=1e-4,_r.normalize(),Jo.crossVectors(n,_r)),Jo.normalize(),Am.crossVectors(_r,Jo),r[0]=Jo.x,r[4]=Am.x,r[8]=_r.x,r[1]=Jo.y,r[5]=Am.y,r[9]=_r.y,r[2]=Jo.z,r[6]=Am.z,r[10]=_r.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],u=n[1],d=n[5],h=n[9],f=n[13],p=n[2],m=n[6],g=n[10],b=n[14],y=n[3],w=n[7],x=n[11],S=n[15],E=r[0],O=r[4],C=r[8],I=r[12],L=r[1],B=r[5],ee=r[9],le=r[13],V=r[2],K=r[6],F=r[10],U=r[14],H=r[3],z=r[7],W=r[11],de=r[15];return s[0]=o*E+a*L+l*V+c*H,s[4]=o*O+a*B+l*K+c*z,s[8]=o*C+a*ee+l*F+c*W,s[12]=o*I+a*le+l*U+c*de,s[1]=u*E+d*L+h*V+f*H,s[5]=u*O+d*B+h*K+f*z,s[9]=u*C+d*ee+h*F+f*W,s[13]=u*I+d*le+h*U+f*de,s[2]=p*E+m*L+g*V+b*H,s[6]=p*O+m*B+g*K+b*z,s[10]=p*C+m*ee+g*F+b*W,s[14]=p*I+m*le+g*U+b*de,s[3]=y*E+w*L+x*V+S*H,s[7]=y*O+w*B+x*K+S*z,s[11]=y*C+w*ee+x*F+S*W,s[15]=y*I+w*le+x*U+S*de,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14];return e[3]*(+s*l*d-r*c*d-s*a*h+n*c*h+r*a*f-n*l*f)+e[7]*(+t*l*f-t*c*h+s*o*h-r*o*f+r*c*u-s*l*u)+e[11]*(+t*c*d-t*a*f-s*o*d+n*o*f+s*a*u-n*c*u)+e[15]*(-r*a*u-t*l*d+t*a*h+r*o*d-n*o*h+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],m=e[13],g=e[14],b=e[15],y=d*g*c-m*h*c+m*l*f-a*g*f-d*l*b+a*h*b,w=p*h*c-u*g*c-p*l*f+o*g*f+u*l*b-o*h*b,x=u*m*c-p*d*c+p*a*f-o*m*f-u*a*b+o*d*b,S=p*d*l-u*m*l-p*a*h+o*m*h+u*a*g-o*d*g,E=t*y+n*w+r*x+s*S;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/E;return e[0]=y*O,e[1]=(m*h*s-d*g*s-m*r*f+n*g*f+d*r*b-n*h*b)*O,e[2]=(a*g*s-m*l*s+m*r*c-n*g*c-a*r*b+n*l*b)*O,e[3]=(d*l*s-a*h*s-d*r*c+n*h*c+a*r*f-n*l*f)*O,e[4]=w*O,e[5]=(u*g*s-p*h*s+p*r*f-t*g*f-u*r*b+t*h*b)*O,e[6]=(p*l*s-o*g*s-p*r*c+t*g*c+o*r*b-t*l*b)*O,e[7]=(o*h*s-u*l*s+u*r*c-t*h*c-o*r*f+t*l*f)*O,e[8]=x*O,e[9]=(p*d*s-u*m*s-p*n*f+t*m*f+u*n*b-t*d*b)*O,e[10]=(o*m*s-p*a*s+p*n*c-t*m*c-o*n*b+t*a*b)*O,e[11]=(u*a*s-o*d*s-u*n*c+t*d*c+o*n*f-t*a*f)*O,e[12]=S*O,e[13]=(u*m*r-p*d*r+p*n*h-t*m*h-u*n*g+t*d*g)*O,e[14]=(p*a*r-o*m*r-p*n*l+t*m*l+o*n*g-t*a*g)*O,e[15]=(o*d*r-u*a*r+u*n*l-t*d*l-o*n*h+t*a*h)*O,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+n,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+n,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,o){return this.set(1,n,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,p=s*d,m=o*u,g=o*d,b=a*d,y=l*c,w=l*u,x=l*d,S=n.x,E=n.y,O=n.z;return r[0]=(1-(m+b))*S,r[1]=(f+x)*S,r[2]=(p-w)*S,r[3]=0,r[4]=(f-x)*E,r[5]=(1-(h+b))*E,r[6]=(g+y)*E,r[7]=0,r[8]=(p+w)*O,r[9]=(g-y)*O,r[10]=(1-(h+m))*O,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=Qc.set(r[0],r[1],r[2]).length();const o=Qc.set(r[4],r[5],r[6]).length(),a=Qc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],gs.copy(this);const c=1/s,u=1/o,d=1/a;return gs.elements[0]*=c,gs.elements[1]*=c,gs.elements[2]*=c,gs.elements[4]*=u,gs.elements[5]*=u,gs.elements[6]*=u,gs.elements[8]*=d,gs.elements[9]*=d,gs.elements[10]*=d,t.setFromRotationMatrix(gs),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,r,s,o){const a=this.elements,c=2*s/(n-r),u=(t+e)/(t-e),d=(n+r)/(n-r),h=-(o+s)/(o-s),f=-2*o*s/(o-s);return a[0]=2*s/(t-e),a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,s,o){const a=this.elements,l=1/(t-e),c=1/(n-r),u=1/(o-s),d=(t+e)*l,h=(n+r)*c,f=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Qc=new T,gs=new Et,Lj=new T(0,0,0),Nj=new T(1,1,1),Jo=new T,Am=new T,_r=new T,XI=new Et,YI=new Qn;let ph=(()=>{class i{constructor(t=0,n=0,r=0,s=i.DefaultOrder){this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,r,s=this._order){return this._x=t,this._y=n,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],h=s[2],f=s[6],p=s[10];switch(n){case"XYZ":this._y=Math.asin($n(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-$n(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin($n(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-$n(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin($n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-$n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,n,r){return XI.makeRotationFromQuaternion(t),this.setFromRotationMatrix(XI,n,r)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return YI.setFromEuler(this),this.setFromQuaternion(YI,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return i.DefaultOrder="XYZ",i.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],i})();class D0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Bj=0;const ZI=new T,Jc=new Qn,Mo=new Et,Im=new T,mh=new T,Vj=new T,zj=new Qn,KI=new T(1,0,0),QI=new T(0,1,0),JI=new T(0,0,1),Uj={type:"added"},eP={type:"removed"};let Ci=(()=>{class i extends $a{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Bj++}),this.uuid=mr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DefaultUp.clone();const t=new T,n=new ph,r=new Qn,s=new T(1,1,1);n._onChange(function(){r.setFromEuler(n,!1)}),r._onChange(function(){n.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Et},normalMatrix:{value:new gr}}),this.matrix=new Et,this.matrixWorld=new Et,this.matrixAutoUpdate=i.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new D0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return Jc.setFromAxisAngle(t,n),this.quaternion.multiply(Jc),this}rotateOnWorldAxis(t,n){return Jc.setFromAxisAngle(t,n),this.quaternion.premultiply(Jc),this}rotateX(t){return this.rotateOnAxis(KI,t)}rotateY(t){return this.rotateOnAxis(QI,t)}rotateZ(t){return this.rotateOnAxis(JI,t)}translateOnAxis(t,n){return ZI.copy(t).applyQuaternion(this.quaternion),this.position.add(ZI.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(KI,t)}translateY(t){return this.translateOnAxis(QI,t)}translateZ(t){return this.translateOnAxis(JI,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Mo.copy(this.matrixWorld).invert())}lookAt(t,n,r){t.isVector3?Im.copy(t):Im.set(t,n,r);const s=this.parent;this.updateWorldMatrix(!0,!1),mh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mo.lookAt(mh,Im,this.up):Mo.lookAt(Im,mh,this.up),this.quaternion.setFromRotationMatrix(Mo),s&&(Mo.extractRotation(s.matrixWorld),Jc.setFromRotationMatrix(Mo),this.quaternion.premultiply(Jc.invert()))}add(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Uj)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(eP)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const n=this.children[t];n.parent=null,n.dispatchEvent(eP)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Mo.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Mo.multiply(t.parent.matrixWorld)),t.applyMatrix4(Mo),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,n);if(void 0!==a)return a}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mh,t,Vj),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mh,zj,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverseVisible(t)}traverseAncestors(t){const n=this.parent;null!==n&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].updateMatrixWorld(t)}updateWorldMatrix(t,n){const r=this.parent;if(!0===t&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const n=void 0===t||"string"==typeof t,r={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(n){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),d=a(t.images),h=a(t.shapes),f=a(t.skeletons),p=a(t.animations),m=a(t.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===n)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return i.DefaultUp=new T(0,1,0),i.DefaultMatrixAutoUpdate=!0,i})();const _s=new T,Co=new T,T0=new T,So=new T,eu=new T,tu=new T,tP=new T,A0=new T,I0=new T,P0=new T;class vs{constructor(e=new T,t=new T,n=new T){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),_s.subVectors(e,t),r.cross(_s);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){_s.subVectors(r,t),Co.subVectors(n,t),T0.subVectors(e,t);const o=_s.dot(_s),a=_s.dot(Co),l=_s.dot(T0),c=Co.dot(Co),u=Co.dot(T0),d=o*c-a*a;if(0===d)return s.set(-2,-1,-1);const h=1/d,f=(c*l-a*u)*h,p=(o*u-a*l)*h;return s.set(1-f-p,p,f)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,So),So.x>=0&&So.y>=0&&So.x+So.y<=1}static getUV(e,t,n,r,s,o,a,l){return this.getBarycoord(e,t,n,r,So),l.set(0,0),l.addScaledVector(s,So.x),l.addScaledVector(o,So.y),l.addScaledVector(a,So.z),l}static isFrontFacing(e,t,n,r){return _s.subVectors(n,t),Co.subVectors(e,t),_s.cross(Co).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _s.subVectors(this.c,this.b),Co.subVectors(this.a,this.b),.5*_s.cross(Co).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return vs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return vs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,s){return vs.getUV(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return vs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return vs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let o,a;eu.subVectors(r,n),tu.subVectors(s,n),A0.subVectors(e,n);const l=eu.dot(A0),c=tu.dot(A0);if(l<=0&&c<=0)return t.copy(n);I0.subVectors(e,r);const u=eu.dot(I0),d=tu.dot(I0);if(u>=0&&d<=u)return t.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(n).addScaledVector(eu,o);P0.subVectors(e,s);const f=eu.dot(P0),p=tu.dot(P0);if(p>=0&&f<=p)return t.copy(s);const m=f*c-l*p;if(m<=0&&c>=0&&p<=0)return a=c/(c-p),t.copy(n).addScaledVector(tu,a);const g=u*p-f*d;if(g<=0&&d-u>=0&&f-p>=0)return tP.subVectors(s,r),a=(d-u)/(d-u+(f-p)),t.copy(r).addScaledVector(tP,a);const b=1/(g+m+h);return o=m*b,a=h*b,t.copy(n).addScaledVector(eu,o).addScaledVector(tu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Hj=0;class nu extends $a{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Hj++}),this.uuid=mr(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class ea extends nu{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Jn=new T,Pm=new J;class Vn{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new He),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new J),t[n++]=o.x,t[n++]=o.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new T),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,s=e.length;r<s;r++){let o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new nn),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Pm.fromBufferAttribute(this,t),Pm.applyMatrix3(e),this.setXY(t,Pm.x,Pm.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Jn.fromBufferAttribute(this,t),Jn.applyMatrix3(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Jn.fromBufferAttribute(this,t),Jn.applyMatrix4(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Jn.fromBufferAttribute(this,t),Jn.applyNormalMatrix(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Jn.fromBufferAttribute(this,t),Jn.transformDirection(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class nP extends Vn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class iP extends Vn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class $e extends Vn{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Gj=0;const Hr=new Et,R0=new Ci,iu=new T,vr=new qc,gh=new qc,gi=new T;class Nt extends $a{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Gj++}),this.uuid=mr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(HI(e)?iP:nP)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const s=(new gr).getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Hr.makeRotationFromQuaternion(e),this.applyMatrix4(Hr),this}rotateX(e){return Hr.makeRotationX(e),this.applyMatrix4(Hr),this}rotateY(e){return Hr.makeRotationY(e),this.applyMatrix4(Hr),this}rotateZ(e){return Hr.makeRotationZ(e),this.applyMatrix4(Hr),this}translate(e,t,n){return Hr.makeTranslation(e,t,n),this.applyMatrix4(Hr),this}scale(e,t,n){return Hr.makeScale(e,t,n),this.applyMatrix4(Hr),this}lookAt(e){return R0.lookAt(e),R0.updateMatrix(),this.applyMatrix4(R0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(iu).negate(),this.translate(iu.x,iu.y,iu.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new $e(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new qc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new T(-1/0,-1/0,-1/0),new T(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++)vr.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(gi.addVectors(this.boundingBox.min,vr.min),this.boundingBox.expandByPoint(gi),gi.addVectors(this.boundingBox.max,vr.max),this.boundingBox.expandByPoint(gi)):(this.boundingBox.expandByPoint(vr.min),this.boundingBox.expandByPoint(vr.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Kc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new T,1/0);if(e){const n=this.boundingSphere.center;if(vr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)gh.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(gi.addVectors(vr.min,gh.min),vr.expandByPoint(gi),gi.addVectors(vr.max,gh.max),vr.expandByPoint(gi)):(vr.expandByPoint(gh.min),vr.expandByPoint(gh.max));vr.getCenter(n);let r=0;for(let s=0,o=e.count;s<o;s++)gi.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(gi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)gi.fromBufferAttribute(a,c),l&&(iu.fromBufferAttribute(e,c),gi.add(iu)),r=Math.max(r,n.distanceToSquared(gi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Vn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let L=0;L<a;L++)c[L]=new T,u[L]=new T;const d=new T,h=new T,f=new T,p=new J,m=new J,g=new J,b=new T,y=new T;function w(L,B,ee){d.fromArray(r,3*L),h.fromArray(r,3*B),f.fromArray(r,3*ee),p.fromArray(o,2*L),m.fromArray(o,2*B),g.fromArray(o,2*ee),h.sub(d),f.sub(d),m.sub(p),g.sub(p);const le=1/(m.x*g.y-g.x*m.y);!isFinite(le)||(b.copy(h).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(le),y.copy(f).multiplyScalar(m.x).addScaledVector(h,-g.x).multiplyScalar(le),c[L].add(b),c[B].add(b),c[ee].add(b),u[L].add(y),u[B].add(y),u[ee].add(y))}let x=this.groups;0===x.length&&(x=[{start:0,count:n.length}]);for(let L=0,B=x.length;L<B;++L){const ee=x[L],le=ee.start;for(let K=le,F=le+ee.count;K<F;K+=3)w(n[K+0],n[K+1],n[K+2])}const S=new T,E=new T,O=new T,C=new T;function I(L){O.fromArray(s,3*L),C.copy(O);const B=c[L];S.copy(B),S.sub(O.multiplyScalar(O.dot(B))).normalize(),E.crossVectors(C,B);const le=E.dot(u[L])<0?-1:1;l[4*L]=S.x,l[4*L+1]=S.y,l[4*L+2]=S.z,l[4*L+3]=le}for(let L=0,B=x.length;L<B;++L){const ee=x[L],le=ee.start;for(let K=le,F=le+ee.count;K<F;K+=3)I(n[K+0]),I(n[K+1]),I(n[K+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Vn(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let h=0,f=n.count;h<f;h++)n.setXYZ(h,0,0,0);const r=new T,s=new T,o=new T,a=new T,l=new T,c=new T,u=new T,d=new T;if(e)for(let h=0,f=e.count;h<f;h+=3){const p=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,m),o.fromBufferAttribute(t,g),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),a.add(u),l.add(u),c.add(u),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),n.setXYZ(h+0,u.x,u.y,u.z),n.setXYZ(h+1,u.x,u.y,u.z),n.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===e.attributes[r])continue;const o=n[r].array,a=e.attributes[r],l=a.array,c=a.itemSize*t,u=Math.min(l.length,o.length-c);for(let d=0,h=c;d<u;d++,h++)o[h]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)gi.fromBufferAttribute(e,t),gi.normalize(),e.setXYZ(t,gi.x,gi.y,gi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,p=0;for(let m=0,g=l.length;m<g;m++){f=a.isInterleavedBufferAttribute?l[m]*a.data.stride+a.offset:l[m]*u;for(let b=0;b<u;b++)h[p++]=c[f++]}return new Vn(h,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Nt,n=this.index.array,r=this.attributes;for(const a in r){const c=e(r[a],n);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=e(c[u],n);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n)e.data.attributes[l]=n[l].toJSON(e.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++)u.push(c[d].toJSON(e.data));u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const rP=new Et,ru=new Tm,k0=new Kc,ta=new T,na=new T,ia=new T,O0=new T,F0=new T,L0=new T,Rm=new T,km=new T,Om=new T,Fm=new J,Lm=new J,Nm=new J,N0=new T,Bm=new T;class Si extends Ci{constructor(e=new Nt,t=new ea){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;if(void 0===r||(null===n.boundingSphere&&n.computeBoundingSphere(),k0.copy(n.boundingSphere),k0.applyMatrix4(s),!1===e.ray.intersectsSphere(k0))||(rP.copy(s).invert(),ru.copy(e.ray).applyMatrix4(rP),null!==n.boundingBox&&!1===ru.intersectsBox(n.boundingBox)))return;let o;const a=n.index,l=n.attributes.position,c=n.morphAttributes.position,u=n.morphTargetsRelative,d=n.attributes.uv,h=n.attributes.uv2,f=n.groups,p=n.drawRange;if(null!==a)if(Array.isArray(r))for(let m=0,g=f.length;m<g;m++){const b=f[m],y=r[b.materialIndex];for(let S=Math.max(b.start,p.start),E=Math.min(a.count,Math.min(b.start+b.count,p.start+p.count));S<E;S+=3){const O=a.getX(S),C=a.getX(S+1),I=a.getX(S+2);o=Vm(this,y,e,ru,l,c,u,d,h,O,C,I),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=b.materialIndex,t.push(o))}}else for(let b=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);b<y;b+=3){const w=a.getX(b),x=a.getX(b+1),S=a.getX(b+2);o=Vm(this,r,e,ru,l,c,u,d,h,w,x,S),o&&(o.faceIndex=Math.floor(b/3),t.push(o))}else if(void 0!==l)if(Array.isArray(r))for(let m=0,g=f.length;m<g;m++){const b=f[m],y=r[b.materialIndex];for(let S=Math.max(b.start,p.start),E=Math.min(l.count,Math.min(b.start+b.count,p.start+p.count));S<E;S+=3)o=Vm(this,y,e,ru,l,c,u,d,h,S,S+1,S+2),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=b.materialIndex,t.push(o))}else for(let b=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);b<y;b+=3)o=Vm(this,r,e,ru,l,c,u,d,h,b,b+1,b+2),o&&(o.faceIndex=Math.floor(b/3),t.push(o))}}function Vm(i,e,t,n,r,s,o,a,l,c,u,d){ta.fromBufferAttribute(r,c),na.fromBufferAttribute(r,u),ia.fromBufferAttribute(r,d);const h=i.morphTargetInfluences;if(s&&h){Rm.set(0,0,0),km.set(0,0,0),Om.set(0,0,0);for(let p=0,m=s.length;p<m;p++){const g=h[p],b=s[p];0!==g&&(O0.fromBufferAttribute(b,c),F0.fromBufferAttribute(b,u),L0.fromBufferAttribute(b,d),o?(Rm.addScaledVector(O0,g),km.addScaledVector(F0,g),Om.addScaledVector(L0,g)):(Rm.addScaledVector(O0.sub(ta),g),km.addScaledVector(F0.sub(na),g),Om.addScaledVector(L0.sub(ia),g)))}ta.add(Rm),na.add(km),ia.add(Om)}i.isSkinnedMesh&&(i.boneTransform(c,ta),i.boneTransform(u,na),i.boneTransform(d,ia));const f=function(i,e,t,n,r,s,o,a){let l;if(l=1===e.side?n.intersectTriangle(o,s,r,!0,a):n.intersectTriangle(r,s,o,2!==e.side,a),null===l)return null;Bm.copy(a),Bm.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(Bm);return c<t.near||c>t.far?null:{distance:c,point:Bm.clone(),object:i}}(i,e,t,n,ta,na,ia,N0);if(f){a&&(Fm.fromBufferAttribute(a,c),Lm.fromBufferAttribute(a,u),Nm.fromBufferAttribute(a,d),f.uv=vs.getUV(N0,ta,na,ia,Fm,Lm,Nm,new J)),l&&(Fm.fromBufferAttribute(l,c),Lm.fromBufferAttribute(l,u),Nm.fromBufferAttribute(l,d),f.uv2=vs.getUV(N0,ta,na,ia,Fm,Lm,Nm,new J));const p={a:c,b:u,c:d,normal:new T,materialIndex:0};vs.getNormal(ta,na,ia,p.normal),f.face=p}return f}class Ja extends Nt{constructor(e=1,t=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;function p(m,g,b,y,w,x,S,E,O,C,I){const L=x/O,B=S/C,ee=x/2,le=S/2,V=E/2,K=O+1,F=C+1;let U=0,H=0;const z=new T;for(let W=0;W<F;W++){const de=W*B-le;for(let ie=0;ie<K;ie++)z[m]=(ie*L-ee)*y,z[g]=de*w,z[b]=V,c.push(z.x,z.y,z.z),z[m]=0,z[g]=0,z[b]=E>0?1:-1,u.push(z.x,z.y,z.z),d.push(ie/O),d.push(1-W/C),U+=1}for(let W=0;W<C;W++)for(let de=0;de<O;de++){const me=h+de+K*(W+1),ge=h+(de+1)+K*(W+1),it=h+(de+1)+K*W;l.push(h+de+K*W,me,it),l.push(me,ge,it),H+=6}a.addGroup(f,H,I),f+=H,h+=U}p("z","y","x",-1,-1,n,t,e,o,s,0),p("z","y","x",1,-1,n,t,-e,o,s,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,s,4),p("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new $e(c,3)),this.setAttribute("normal",new $e(u,3)),this.setAttribute("uv",new $e(d,2))}static fromJSON(e){return new Ja(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function su(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];e[t][n]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return e}function Oi(i){const e={};for(let t=0;t<i.length;t++){const n=su(i[t]);for(const r in n)e[r]=n[r]}return e}const $j={clone:su,merge:Oi};class zs extends nu{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=su(e.uniforms),this.uniformsGroups=function(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class B0 extends Ci{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Et,this.projectionMatrix=new Et,this.projectionMatrixInverse=new Et}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class ei extends B0{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*uh*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*qa*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*uh*Math.atan(Math.tan(.5*qa*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*qa*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*n/c,r*=o.width/l,n*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Yj extends Ci{constructor(e,t,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new ei(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new T(1,0,0)),this.add(r);const s=new ei(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new T(-1,0,0)),this.add(s);const o=new ei(90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new T(0,1,0)),this.add(o);const a=new ei(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new T(0,-1,0)),this.add(a);const l=new ei(90,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new T(0,0,1)),this.add(l);const c=new ei(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new T(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,h=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class zm extends Vs{constructor(e,t,n,r,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Zj extends Ya{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1};this.texture=new zm([n,n,n,n,n,n],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Nn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new Ja(5,5,5),s=new zs({name:"CubemapFromEquirect",uniforms:su(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new Si(r,s),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=Nn),new Yj(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(s)}}const V0=new T,Kj=new T,Qj=new gr;class el{constructor(e=new T(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=V0.subVectors(n,t).cross(Kj.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(V0),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Qj.getNormalMatrix(e),r=this.coplanarPoint(V0).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const lu=new Kc,Um=new T;class z0{constructor(e=new el,t=new el,n=new el,r=new el,s=new el,o=new el){this.planes=[e,t,n,r,s,o]}set(e,t,n,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=n[6],d=n[7],h=n[8],f=n[9],p=n[10],m=n[11],g=n[12],b=n[13],y=n[14],w=n[15];return t[0].setComponents(a-r,d-l,m-h,w-g).normalize(),t[1].setComponents(a+r,d+l,m+h,w+g).normalize(),t[2].setComponents(a+s,d+c,m+f,w+b).normalize(),t[3].setComponents(a-s,d-c,m-f,w-b).normalize(),t[4].setComponents(a-o,d-u,m-p,w-y).normalize(),t[5].setComponents(a+o,d+u,m+p,w+y).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),lu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(lu)}intersectsSprite(e){return lu.center.set(0,0,0),lu.radius=.7071067811865476,lu.applyMatrix4(e.matrixWorld),this.intersectsSphere(lu)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Um.x=r.normal.x>0?e.max.x:e.min.x,Um.y=r.normal.y>0?e.max.y:e.min.y,Um.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Um)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function sP(){let i=null,e=!1,t=null,n=null;function r(s,o){t(s,o),n=i.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function Jj(i,e){const t=e.isWebGL2,n=new WeakMap;return{get:function(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)},remove:function(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=n.get(c);u&&(i.deleteBuffer(u.buffer),n.delete(c))},update:function(c,u){if(c.isGLBufferAttribute){const h=n.get(c);return void((!h||h.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const d=n.get(c);void 0===d?n.set(c,function(c,u){const d=c.array,h=c.usage,f=i.createBuffer();let p;if(i.bindBuffer(u,f),i.bufferData(u,d,h),c.onUploadCallback(),d instanceof Float32Array)p=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=5131}else p=5123;else if(d instanceof Int16Array)p=5122;else if(d instanceof Uint32Array)p=5125;else if(d instanceof Int32Array)p=5124;else if(d instanceof Int8Array)p=5120;else if(d instanceof Uint8Array)p=5121;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);p=5121}return{buffer:f,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function(c,u,d){const h=u.array,f=u.updateRange;i.bindBuffer(d,c),-1===f.count?i.bufferSubData(d,0,h):(t?i.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):i.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1)}(d.buffer,c,u),d.version=c.version)}}}class tl extends Nt{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(n),l=Math.floor(r),c=a+1,u=l+1,d=e/a,h=t/l,f=[],p=[],m=[],g=[];for(let b=0;b<u;b++){const y=b*h-o;for(let w=0;w<c;w++)p.push(w*d-s,-y,0),m.push(0,0,1),g.push(w/a),g.push(1-b/l)}for(let b=0;b<l;b++)for(let y=0;y<a;y++){const x=y+c*(b+1),S=y+1+c*(b+1),E=y+1+c*b;f.push(y+c*b,x,E),f.push(x,S,E)}this.setIndex(f),this.setAttribute("position",new $e(p,3)),this.setAttribute("normal",new $e(m,3)),this.setAttribute("uv",new $e(g,2))}static fromJSON(e){return new tl(e.width,e.height,e.widthSegments,e.heightSegments)}}const Ut={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Te={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new gr},uv2Transform:{value:new gr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new J(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new gr}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new J(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new gr}}},Us={basic:{uniforms:Oi([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.fog]),vertexShader:Ut.meshbasic_vert,fragmentShader:Ut.meshbasic_frag},lambert:{uniforms:Oi([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.fog,Te.lights,{emissive:{value:new He(0)}}]),vertexShader:Ut.meshlambert_vert,fragmentShader:Ut.meshlambert_frag},phong:{uniforms:Oi([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,Te.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:Ut.meshphong_vert,fragmentShader:Ut.meshphong_frag},standard:{uniforms:Oi([Te.common,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.roughnessmap,Te.metalnessmap,Te.fog,Te.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},toon:{uniforms:Oi([Te.common,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.gradientmap,Te.fog,Te.lights,{emissive:{value:new He(0)}}]),vertexShader:Ut.meshtoon_vert,fragmentShader:Ut.meshtoon_frag},matcap:{uniforms:Oi([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,{matcap:{value:null}}]),vertexShader:Ut.meshmatcap_vert,fragmentShader:Ut.meshmatcap_frag},points:{uniforms:Oi([Te.points,Te.fog]),vertexShader:Ut.points_vert,fragmentShader:Ut.points_frag},dashed:{uniforms:Oi([Te.common,Te.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ut.linedashed_vert,fragmentShader:Ut.linedashed_frag},depth:{uniforms:Oi([Te.common,Te.displacementmap]),vertexShader:Ut.depth_vert,fragmentShader:Ut.depth_frag},normal:{uniforms:Oi([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,{opacity:{value:1}}]),vertexShader:Ut.meshnormal_vert,fragmentShader:Ut.meshnormal_frag},sprite:{uniforms:Oi([Te.sprite,Te.fog]),vertexShader:Ut.sprite_vert,fragmentShader:Ut.sprite_frag},background:{uniforms:{uvTransform:{value:new gr},t2D:{value:null}},vertexShader:Ut.background_vert,fragmentShader:Ut.background_frag},cube:{uniforms:Oi([Te.envmap,{opacity:{value:1}}]),vertexShader:Ut.cube_vert,fragmentShader:Ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ut.equirect_vert,fragmentShader:Ut.equirect_frag},distanceRGBA:{uniforms:Oi([Te.common,Te.displacementmap,{referencePosition:{value:new T},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ut.distanceRGBA_vert,fragmentShader:Ut.distanceRGBA_frag},shadow:{uniforms:Oi([Te.lights,Te.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:Ut.shadow_vert,fragmentShader:Ut.shadow_frag}};function Q7(i,e,t,n,r,s){const o=new He(0);let l,c,a=!0===r?0:1,u=null,d=0,h=null;function p(m,g){t.buffers.color.setClear(m.r,m.g,m.b,g,s)}return{getClearColor:function(){return o},setClearColor:function(m,g=1){o.set(m),a=g,p(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(m){a=m,p(o,a)},render:function(m,g){let b=!1,y=!0===g.isScene?g.background:null;y&&y.isTexture&&(y=e.get(y));const w=i.xr,x=w.getSession&&w.getSession();x&&"additive"===x.environmentBlendMode&&(y=null),null===y?p(o,a):y&&y.isColor&&(p(y,1),b=!0),(i.autoClear||b)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),y&&(y.isCubeTexture||306===y.mapping)?(void 0===c&&(c=new Si(new Ja(1,1,1),new zs({name:"BackgroundCubeMaterial",uniforms:su(Us.cube.uniforms),vertexShader:Us.cube.vertexShader,fragmentShader:Us.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(S,E,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,(u!==y||d!==y.version||h!==i.toneMapping)&&(c.material.needsUpdate=!0,u=y,d=y.version,h=i.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(void 0===l&&(l=new Si(new tl(2,2),new zs({name:"BackgroundMaterial",uniforms:su(Us.background.uniforms),vertexShader:Us.background.vertexShader,fragmentShader:Us.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=y,!0===y.matrixAutoUpdate&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||d!==y.version||h!==i.toneMapping)&&(l.material.needsUpdate=!0,u=y,d=y.version,h=i.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}}}function J7(i,e,t,n){const r=i.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||null!==s,a={},l=g(null);let c=l,u=!1;function f(V){return n.isWebGL2?i.bindVertexArray(V):s.bindVertexArrayOES(V)}function p(V){return n.isWebGL2?i.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function g(V){const K=[],F=[],U=[];for(let H=0;H<r;H++)K[H]=0,F[H]=0,U[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:F,attributeDivisors:U,object:V,attributes:{},index:null}}function w(){const V=c.newAttributes;for(let K=0,F=V.length;K<F;K++)V[K]=0}function x(V){S(V,0)}function S(V,K){const U=c.enabledAttributes,H=c.attributeDivisors;c.newAttributes[V]=1,0===U[V]&&(i.enableVertexAttribArray(V),U[V]=1),H[V]!==K&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,K),H[V]=K)}function E(){const V=c.newAttributes,K=c.enabledAttributes;for(let F=0,U=K.length;F<U;F++)K[F]!==V[F]&&(i.disableVertexAttribArray(F),K[F]=0)}function O(V,K,F,U,H,z){!0!==n.isWebGL2||5124!==F&&5125!==F?i.vertexAttribPointer(V,K,F,U,H,z):i.vertexAttribIPointer(V,K,F,H,z)}function ee(){le(),u=!0,c!==l&&(c=l,f(c.object))}function le(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(V,K,F,U,H){let z=!1;if(o){const W=function(V,K,F){const U=!0===F.wireframe;let H=a[V.id];void 0===H&&(H={},a[V.id]=H);let z=H[K.id];void 0===z&&(z={},H[K.id]=z);let W=z[U];return void 0===W&&(W=g(n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()),z[U]=W),W}(U,F,K);c!==W&&(c=W,f(c.object)),z=function(V,K,F,U){const H=c.attributes,z=K.attributes;let W=0;const de=F.getAttributes();for(const ie in de)if(de[ie].location>=0){const ge=H[ie];let it=z[ie];if(void 0===it&&("instanceMatrix"===ie&&V.instanceMatrix&&(it=V.instanceMatrix),"instanceColor"===ie&&V.instanceColor&&(it=V.instanceColor)),void 0===ge||ge.attribute!==it||it&&ge.data!==it.data)return!0;W++}return c.attributesNum!==W||c.index!==U}(V,U,F,H),z&&function(V,K,F,U){const H={},z=K.attributes;let W=0;const de=F.getAttributes();for(const ie in de)if(de[ie].location>=0){let ge=z[ie];void 0===ge&&("instanceMatrix"===ie&&V.instanceMatrix&&(ge=V.instanceMatrix),"instanceColor"===ie&&V.instanceColor&&(ge=V.instanceColor));const it={};it.attribute=ge,ge&&ge.data&&(it.data=ge.data),H[ie]=it,W++}c.attributes=H,c.attributesNum=W,c.index=U}(V,U,F,H)}else{const W=!0===K.wireframe;(c.geometry!==U.id||c.program!==F.id||c.wireframe!==W)&&(c.geometry=U.id,c.program=F.id,c.wireframe=W,z=!0)}null!==H&&t.update(H,34963),(z||u)&&(u=!1,function(V,K,F,U){if(!1===n.isWebGL2&&(V.isInstancedMesh||U.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;w();const H=U.attributes,z=F.getAttributes(),W=K.defaultAttributeValues;for(const de in z){const ie=z[de];if(ie.location>=0){let me=H[de];if(void 0===me&&("instanceMatrix"===de&&V.instanceMatrix&&(me=V.instanceMatrix),"instanceColor"===de&&V.instanceColor&&(me=V.instanceColor)),void 0!==me){const ge=me.normalized,it=me.itemSize,te=t.get(me);if(void 0===te)continue;const tt=te.buffer,Xe=te.type,rt=te.bytesPerElement;if(me.isInterleavedBufferAttribute){const we=me.data,St=we.stride,se=me.offset;if(we.isInstancedInterleavedBuffer){for(let ne=0;ne<ie.locationSize;ne++)S(ie.location+ne,we.meshPerAttribute);!0!==V.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ne=0;ne<ie.locationSize;ne++)x(ie.location+ne);i.bindBuffer(34962,tt);for(let ne=0;ne<ie.locationSize;ne++)O(ie.location+ne,it/ie.locationSize,Xe,ge,St*rt,(se+it/ie.locationSize*ne)*rt)}else{if(me.isInstancedBufferAttribute){for(let we=0;we<ie.locationSize;we++)S(ie.location+we,me.meshPerAttribute);!0!==V.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let we=0;we<ie.locationSize;we++)x(ie.location+we);i.bindBuffer(34962,tt);for(let we=0;we<ie.locationSize;we++)O(ie.location+we,it/ie.locationSize,Xe,ge,it*rt,it/ie.locationSize*we*rt)}}else if(void 0!==W){const ge=W[de];if(void 0!==ge)switch(ge.length){case 2:i.vertexAttrib2fv(ie.location,ge);break;case 3:i.vertexAttrib3fv(ie.location,ge);break;case 4:i.vertexAttrib4fv(ie.location,ge);break;default:i.vertexAttrib1fv(ie.location,ge)}}}}E()}(V,K,F,U),null!==H&&i.bindBuffer(34963,t.get(H).buffer))},reset:ee,resetDefaultState:le,dispose:function(){ee();for(const V in a){const K=a[V];for(const F in K){const U=K[F];for(const H in U)p(U[H].object),delete U[H];delete K[F]}delete a[V]}},releaseStatesOfGeometry:function(V){if(void 0===a[V.id])return;const K=a[V.id];for(const F in K){const U=K[F];for(const H in U)p(U[H].object),delete U[H];delete K[F]}delete a[V.id]},releaseStatesOfProgram:function(V){for(const K in a){const F=a[K];if(void 0===F[V.id])continue;const U=F[V.id];for(const H in U)p(U[H].object),delete U[H];delete F[V.id]}},initAttributes:w,enableAttribute:x,disableUnusedAttributes:E}}function e9(i,e,t,n){const r=n.isWebGL2;let s;this.setMode=function(c){s=c},this.render=function(c,u){i.drawArrays(s,c,u),t.update(u,s,1)},this.renderInstances=function(c,u,d){if(0===d)return;let h,f;if(r)h=i,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](s,c,u,d),t.update(u,s,d)}}function t9(i,e,t){let n;function s(O){if("highp"===O){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";O="mediump"}return"mediump"===O&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&i instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&i instanceof WebGL2ComputeRenderingContext;let a=void 0!==t.precision?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,d=i.getParameter(34930),h=i.getParameter(35660),f=i.getParameter(3379),p=i.getParameter(34076),m=i.getParameter(34921),g=i.getParameter(36347),b=i.getParameter(36348),y=i.getParameter(36349),w=h>0,x=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===e.has("EXT_texture_filter_anisotropic")){const O=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:b,maxFragmentUniforms:y,vertexTextures:w,floatFragmentTextures:x,floatVertexTextures:w&&x,maxSamples:o?i.getParameter(36183):0}}function n9(i){const e=this;let t=null,n=0,r=!1,s=!1;const o=new el,a=new gr,l={value:null,needsUpdate:!1};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(d,h,f,p){const m=null!==d?d.length:0;let g=null;if(0!==m){if(g=l.value,!0!==p||null===g){const b=f+4*m,y=h.matrixWorldInverse;a.getNormalMatrix(y),(null===g||g.length<b)&&(g=new Float32Array(b));for(let w=0,x=f;w!==m;++w,x+=4)o.copy(d[w]).applyMatrix4(y,a),o.normal.toArray(g,x),g[x+3]=o.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,f){const p=0!==d.length||h||0!==n||r;return r=h,t=u(d,f,0),n=d.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,h,f){const p=d.clippingPlanes,m=d.clipIntersection,g=d.clipShadows,b=i.get(d);if(!r||null===p||0===p.length||s&&!g)s?u(null):c();else{const y=s?0:n,w=4*y;let x=b.clippingState||null;l.value=x,x=u(p,h,w,f);for(let S=0;S!==w;++S)x[S]=t[S];b.clippingState=x,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}}}function i9(i){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=301:304===a&&(o.mapping=302),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new Zj(l.height/2);return c.fromEquirectangularTexture(i,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}return null}}}return o},dispose:function(){e=new WeakMap}}}Us.physical={uniforms:Oi([Us.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new J(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new J},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag};class U0 extends B0{constructor(e=-1,t=1,n=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const oP=[.125,.215,.35,.446,.526,.582],H0=new U0,aP=new He;let G0=null;const il=(1+Math.sqrt(5))/2,uu=1/il,lP=[new T(1,1,1),new T(-1,1,1),new T(1,1,-1),new T(-1,1,-1),new T(0,il,uu),new T(0,il,-uu),new T(uu,0,il),new T(-uu,0,il),new T(il,uu,0),new T(-il,uu,0)];class cP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){G0=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=hP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=dP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(G0),e.scissorTest=!1,Hm(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),G0=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Nn,minFilter:Nn,generateMipmaps:!1,type:ch,format:Ur,encoding:Wa,depthBuffer:!1},r=uP(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=uP(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(i){const e=[],t=[],n=[];let r=i;const s=i-4+1+oP.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>i-4?l=oP[o-i+4-1]:0===o&&(l=0),n.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,p=6,m=3,g=2,b=1,y=new Float32Array(m*p*f),w=new Float32Array(g*p*f),x=new Float32Array(b*p*f);for(let E=0;E<f;E++){const O=E%3*2/3-1,C=E>2?0:-1;y.set([O,C,0,O+2/3,C,0,O+2/3,C+1,0,O,C,0,O+2/3,C+1,0,O,C+1,0],m*p*E),w.set(h,g*p*E),x.set([E,E,E,E,E,E],b*p*E)}const S=new Nt;S.setAttribute("position",new Vn(y,m)),S.setAttribute("uv",new Vn(w,g)),S.setAttribute("faceIndex",new Vn(x,b)),e.push(S),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}(s)),this._blurMaterial=function(i,e,t){const n=new Float32Array(20),r=new T(0,1,0);return new zs({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new Si(this._lodPlanes[0],e);this._renderer.compile(t,H0)}_sceneToCubeUV(e,t,n,r){const a=new ei(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(aP),u.toneMapping=0,u.autoClear=!1;const f=new ea({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new Si(new Ja,f);let m=!1;const g=e.background;g?g.isColor&&(f.color.copy(g),e.background=null,m=!0):(f.color.copy(aP),m=!0);for(let b=0;b<6;b++){const y=b%3;0===y?(a.up.set(0,l[b],0),a.lookAt(c[b],0,0)):1===y?(a.up.set(0,0,l[b]),a.lookAt(0,c[b],0)):(a.up.set(0,l[b],0),a.lookAt(0,0,c[b]));const w=this._cubeSize;Hm(r,y*w,b>2?w:0,w,w),u.setRenderTarget(r),m&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=g}_textureToCubeUV(e,t){const n=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=hP()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=dP());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Si(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;Hm(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(o,H0)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,lP[(r-1)%lP.length])}t.autoClear=n}_blur(e,t,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",s),this._halfBlur(o,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new Si(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[n]-1,p=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,m=s/p,g=isFinite(s)?1+Math.floor(3*m):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const b=[];let y=0;for(let O=0;O<20;++O){const C=O/m,I=Math.exp(-C*C/2);b.push(I),0===O?y+=I:O<g&&(y+=2*I)}for(let O=0;O<b.length;O++)b[O]=b[O]/y;h.envMap.value=e.texture,h.samples.value=g,h.weights.value=b,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:w}=this;h.dTheta.value=p,h.mipInt.value=w-n;const x=this._sizeLods[r];Hm(t,3*x*(r>w-4?r-w+4:0),4*(this._cubeSize-x),3*x,2*x),l.setRenderTarget(t),l.render(d,H0)}}function uP(i,e,t){const n=new Ya(i,e,t);return n.texture.mapping=306,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Hm(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function dP(){return new zs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function hP(){return new zs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function o9(i){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=301===l||302===l;if(c||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=e.get(a);return null===t&&(t=new cP(i)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&function(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)){null===t&&(t=new cP(i));const h=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}return null}}}return a},dispose:function(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function a9(i){const e={};function t(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return null!==t(n)},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function l9(i,e,t,n){const r={},s=new WeakMap;function o(d){const h=d.target;null!==h.index&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);h.removeEventListener("dispose",o),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),n.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function c(d){const h=[],f=d.index,p=d.attributes.position;let m=0;if(null!==f){const y=f.array;m=f.version;for(let w=0,x=y.length;w<x;w+=3){const S=y[w+0],E=y[w+1],O=y[w+2];h.push(S,E,E,O,O,S)}}else{m=p.version;for(let w=0,x=p.array.length/3-1;w<x;w+=3){const S=w+0,E=w+1,O=w+2;h.push(S,E,E,O,O,S)}}const g=new(HI(h)?iP:nP)(h,1);g.version=m;const b=s.get(d);b&&e.remove(b),s.set(d,g)}return{get:function(d,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h},update:function(d){const h=d.attributes;for(const p in h)e.update(h[p],34962);const f=d.morphAttributes;for(const p in f){const m=f[p];for(let g=0,b=m.length;g<b;g++)e.update(m[g],34962)}},getWireframeAttribute:function(d){const h=s.get(d);if(h){const f=d.index;null!==f&&h.version<f.version&&c(d)}else c(d);return s.get(d)}}}function c9(i,e,t,n){const r=n.isWebGL2;let s,a,l;this.setMode=function(h){s=h},this.setIndex=function(h){a=h.type,l=h.bytesPerElement},this.render=function(h,f){i.drawElements(s,f,a,h*l),t.update(f,s,1)},this.renderInstances=function(h,f,p){if(0===p)return;let m,g;if(r)m=i,g="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===m)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[g](s,f,a,h*l,p),t.update(f,s,p)}}function u9(i){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function d9(i,e){return i[0]-e[0]}function h9(i,e){return Math.abs(e[1])-Math.abs(i[1])}function j0(i,e){let t=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Uint8Array?t=255:n instanceof Uint16Array?t=65535:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),i.divideScalar(t)}function f9(i,e,t){const n={},r=new Float32Array(8),s=new WeakMap,o=new nn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function(c,u,d,h){const f=c.morphTargetInfluences;if(!0===e.isWebGL2){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=void 0!==p?p.length:0;let g=s.get(u);if(void 0===g||g.count!==m){let K=function(){le.dispose(),s.delete(u),u.removeEventListener("dispose",K)};void 0!==g&&g.texture.dispose();const w=void 0!==u.morphAttributes.position,x=void 0!==u.morphAttributes.normal,S=void 0!==u.morphAttributes.color,E=u.morphAttributes.position||[],O=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let I=0;!0===w&&(I=1),!0===x&&(I=2),!0===S&&(I=3);let L=u.attributes.position.count*I,B=1;L>e.maxTextureSize&&(B=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const ee=new Float32Array(L*B*4*m),le=new y0(ee,L,B,m);le.type=Yo,le.needsUpdate=!0;const V=4*I;for(let F=0;F<m;F++){const U=E[F],H=O[F],z=C[F],W=L*B*4*F;for(let de=0;de<U.count;de++){const ie=de*V;!0===w&&(o.fromBufferAttribute(U,de),!0===U.normalized&&j0(o,U),ee[W+ie+0]=o.x,ee[W+ie+1]=o.y,ee[W+ie+2]=o.z,ee[W+ie+3]=0),!0===x&&(o.fromBufferAttribute(H,de),!0===H.normalized&&j0(o,H),ee[W+ie+4]=o.x,ee[W+ie+5]=o.y,ee[W+ie+6]=o.z,ee[W+ie+7]=0),!0===S&&(o.fromBufferAttribute(z,de),!0===z.normalized&&j0(o,z),ee[W+ie+8]=o.x,ee[W+ie+9]=o.y,ee[W+ie+10]=o.z,ee[W+ie+11]=4===z.itemSize?o.w:1)}}g={count:m,texture:le,size:new J(L,B)},s.set(u,g),u.addEventListener("dispose",K)}let b=0;for(let w=0;w<f.length;w++)b+=f[w];const y=u.morphTargetsRelative?1:1-b;h.getUniforms().setValue(i,"morphTargetBaseInfluence",y),h.getUniforms().setValue(i,"morphTargetInfluences",f),h.getUniforms().setValue(i,"morphTargetsTexture",g.texture,t),h.getUniforms().setValue(i,"morphTargetsTextureSize",g.size)}else{const p=void 0===f?0:f.length;let m=n[u.id];if(void 0===m||m.length!==p){m=[];for(let x=0;x<p;x++)m[x]=[x,0];n[u.id]=m}for(let x=0;x<p;x++){const S=m[x];S[0]=x,S[1]=f[x]}m.sort(h9);for(let x=0;x<8;x++)x<p&&m[x][1]?(a[x][0]=m[x][0],a[x][1]=m[x][1]):(a[x][0]=Number.MAX_SAFE_INTEGER,a[x][1]=0);a.sort(d9);const g=u.morphAttributes.position,b=u.morphAttributes.normal;let y=0;for(let x=0;x<8;x++){const S=a[x],E=S[0],O=S[1];E!==Number.MAX_SAFE_INTEGER&&O?(g&&u.getAttribute("morphTarget"+x)!==g[E]&&u.setAttribute("morphTarget"+x,g[E]),b&&u.getAttribute("morphNormal"+x)!==b[E]&&u.setAttribute("morphNormal"+x,b[E]),r[x]=O,y+=O):(g&&!0===u.hasAttribute("morphTarget"+x)&&u.deleteAttribute("morphTarget"+x),b&&!0===u.hasAttribute("morphNormal"+x)&&u.deleteAttribute("morphNormal"+x),r[x]=0)}const w=u.morphTargetsRelative?1:1-y;h.getUniforms().setValue(i,"morphTargetBaseInfluence",w),h.getUniforms().setValue(i,"morphTargetInfluences",r)}}}}function p9(i,e,t,n){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function(l){const c=n.render.frame,d=e.get(l,l.geometry);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),null!==l.instanceColor&&t.update(l.instanceColor,34962)),d},dispose:function(){r=new WeakMap}}}const fP=new Vs,pP=new y0,mP=new jI,gP=new zm,_P=[],vP=[],yP=new Float32Array(16),bP=new Float32Array(9),xP=new Float32Array(4);function du(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=_P[r];if(void 0===s&&(s=new Float32Array(r),_P[r]=s),0!==e){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,i[o].toArray(s,a)}return s}function Wi(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function ji(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Gm(i,e){let t=vP[e];void 0===t&&(t=new Int32Array(e),vP[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function m9(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function g9(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wi(t,e))return;i.uniform2fv(this.addr,e),ji(t,e)}}function _9(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Wi(t,e))return;i.uniform3fv(this.addr,e),ji(t,e)}}function v9(i,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wi(t,e))return;i.uniform4fv(this.addr,e),ji(t,e)}}function y9(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Wi(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),ji(t,e)}else{if(Wi(t,n))return;xP.set(n),i.uniformMatrix2fv(this.addr,!1,xP),ji(t,n)}}function b9(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Wi(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),ji(t,e)}else{if(Wi(t,n))return;bP.set(n),i.uniformMatrix3fv(this.addr,!1,bP),ji(t,n)}}function x9(i,e){const t=this.cache,n=e.elements;if(void 0===n){if(Wi(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),ji(t,e)}else{if(Wi(t,n))return;yP.set(n),i.uniformMatrix4fv(this.addr,!1,yP),ji(t,n)}}function w9(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function M9(i,e){const t=this.cache;Wi(t,e)||(i.uniform2iv(this.addr,e),ji(t,e))}function C9(i,e){const t=this.cache;Wi(t,e)||(i.uniform3iv(this.addr,e),ji(t,e))}function S9(i,e){const t=this.cache;Wi(t,e)||(i.uniform4iv(this.addr,e),ji(t,e))}function E9(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function D9(i,e){const t=this.cache;Wi(t,e)||(i.uniform2uiv(this.addr,e),ji(t,e))}function T9(i,e){const t=this.cache;Wi(t,e)||(i.uniform3uiv(this.addr,e),ji(t,e))}function A9(i,e){const t=this.cache;Wi(t,e)||(i.uniform4uiv(this.addr,e),ji(t,e))}function I9(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||fP,r)}function P9(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||mP,r)}function R9(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||gP,r)}function k9(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||pP,r)}function F9(i,e){i.uniform1fv(this.addr,e)}function L9(i,e){const t=du(e,this.size,2);i.uniform2fv(this.addr,t)}function N9(i,e){const t=du(e,this.size,3);i.uniform3fv(this.addr,t)}function B9(i,e){const t=du(e,this.size,4);i.uniform4fv(this.addr,t)}function V9(i,e){const t=du(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function z9(i,e){const t=du(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function U9(i,e){const t=du(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function H9(i,e){i.uniform1iv(this.addr,e)}function G9(i,e){i.uniform2iv(this.addr,e)}function W9(i,e){i.uniform3iv(this.addr,e)}function j9(i,e){i.uniform4iv(this.addr,e)}function $9(i,e){i.uniform1uiv(this.addr,e)}function q9(i,e){i.uniform2uiv(this.addr,e)}function X9(i,e){i.uniform3uiv(this.addr,e)}function Y9(i,e){i.uniform4uiv(this.addr,e)}function Z9(i,e,t){const n=e.length,r=Gm(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.setTexture2D(e[s]||fP,r[s])}function K9(i,e,t){const n=e.length,r=Gm(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.setTexture3D(e[s]||mP,r[s])}function Q9(i,e,t){const n=e.length,r=Gm(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.setTextureCube(e[s]||gP,r[s])}function J9(i,e,t){const n=e.length,r=Gm(t,n);i.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)t.setTexture2DArray(e[s]||pP,r[s])}class tq{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(i){switch(i){case 5126:return m9;case 35664:return g9;case 35665:return _9;case 35666:return v9;case 35674:return y9;case 35675:return b9;case 35676:return x9;case 5124:case 35670:return w9;case 35667:case 35671:return M9;case 35668:case 35672:return C9;case 35669:case 35673:return S9;case 5125:return E9;case 36294:return D9;case 36295:return T9;case 36296:return A9;case 35678:case 36198:case 36298:case 36306:case 35682:return I9;case 35679:case 36299:case 36307:return P9;case 35680:case 36300:case 36308:case 36293:return R9;case 36289:case 36303:case 36311:case 36292:return k9}}(t.type)}}class nq{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(i){switch(i){case 5126:return F9;case 35664:return L9;case 35665:return N9;case 35666:return B9;case 35674:return V9;case 35675:return z9;case 35676:return U9;case 5124:case 35670:return H9;case 35667:case 35671:return G9;case 35668:case 35672:return W9;case 35669:case 35673:return j9;case 5125:return $9;case 36294:return q9;case 36295:return X9;case 36296:return Y9;case 35678:case 36198:case 36298:case 36306:case 35682:return Z9;case 35679:case 36299:case 36307:return K9;case 35680:case 36300:case 36308:case 36293:return Q9;case 36289:case 36303:case 36311:case 36292:return J9}}(t.type)}}class iq{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],n)}}}const $0=/(\w+)(\])?(\[|\.)?/g;function wP(i,e){i.seq.push(e),i.map[e.id]=e}function rq(i,e,t){const n=i.name,r=n.length;for($0.lastIndex=0;;){const s=$0.exec(n),o=$0.lastIndex;let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&o+2===r){wP(t,void 0===c?new tq(a,i,e):new nq(a,i,e));break}{let d=t.map[a];void 0===d&&(d=new iq(a),wP(t,d)),t=d}}}class Wm{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r);rq(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,n,r){const s=this.map[t];void 0!==s&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=n[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&n.push(o)}return n}}function MP(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}let sq=0;function CP(i,e,t){const n=i.getShaderParameter(e,35713),r=i.getShaderInfoLog(e).trim();if(n&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function(i,e){const t=i.split("\n"),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join("\n")}(i.getShaderSource(e),o)}return r}function lq(i,e){const t=function(i){switch(i){case Wa:return["Linear","( value )"];case Bn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function cq(i,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function _h(i){return""!==i}function SP(i,e){return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function EP(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const fq=/^[ \t]*#include +<([\w\d./]+)>/gm;function q0(i){return i.replace(fq,pq)}function pq(i,e){const t=Ut[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return q0(t)}const mq=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,gq=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function DP(i){return i.replace(gq,TP).replace(mq,_q)}function _q(i,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),TP(0,e,t,n)}function TP(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function AP(i){let e="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?e+="\n#define HIGH_PRECISION":"mediump"===i.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(e+="\n#define LOW_PRECISION"),e}function Mq(i,e,t,n){const r=i.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function(i){let e="SHADOWMAP_TYPE_BASIC";return 1===i.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===i.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===i.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function(i){let e="ENVMAP_MODE_REFLECTION";return i.envMap&&302===i.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function(i){const e=i.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}(t),f=t.isWebGL2?"":function(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(_h).join("\n")}(t),p=function(i){const e=[];for(const t in i){const n=i[t];!1!==n&&e.push("#define "+t+" "+n)}return e.join("\n")}(s),m=r.createProgram();let g,b,y=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(g=[p].filter(_h).join("\n"),g.length>0&&(g+="\n"),b=[f,p].filter(_h).join("\n"),b.length>0&&(b+="\n")):(g=[AP(t),"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(_h).join("\n"),b=[f,AP(t),"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?Ut.tonemapping_pars_fragment:"",0!==t.toneMapping?cq("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ut.encodings_pars_fragment,lq("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(_h).join("\n")),o=q0(o),o=SP(o,t),o=EP(o,t),a=q0(a),a=SP(a,t),a=EP(a,t),o=DP(o),a=DP(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,b=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);const x=y+b+a,S=MP(r,35633,y+g+o),E=MP(r,35632,x);if(r.attachShader(m,S),r.attachShader(m,E),void 0!==t.index0AttributeName?r.bindAttribLocation(m,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),i.debug.checkShaderErrors){const I=r.getProgramInfoLog(m).trim(),L=r.getShaderInfoLog(S).trim(),B=r.getShaderInfoLog(E).trim();let ee=!0,le=!0;if(!1===r.getProgramParameter(m,35714)){ee=!1;const V=CP(r,S,"vertex"),K=CP(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,35715)+"\n\nProgram Info Log: "+I+"\n"+V+"\n"+K)}else""!==I?console.warn("THREE.WebGLProgram: Program Info Log:",I):(""===L||""===B)&&(le=!1);le&&(this.diagnostics={runnable:ee,programLog:I,vertexShader:{log:L,prefix:g},fragmentShader:{log:B,prefix:b}})}let O,C;return r.deleteShader(S),r.deleteShader(E),this.getUniforms=function(){return void 0===O&&(O=new Wm(r,m)),O},this.getAttributes=function(){return void 0===C&&(C=function(i,e){const t={},n=i.getProgramParameter(e,35721);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),o=s.name;let a=1;35674===s.type&&(a=2),35675===s.type&&(a=3),35676===s.type&&(a=4),t[o]={type:s.type,location:i.getAttribLocation(e,o),locationSize:a}}return t}(r,m)),C},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=sq++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=S,this.fragmentShader=E,this}let Cq=0;class Sq{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const n=new Eq(e);t.set(e,n)}return t.get(e)}}class Eq{constructor(e){this.id=Cq++,this.code=e,this.usedTimes=0}}function Dq(i,e,t,n,r,s,o){const a=new D0,l=new Sq,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(C,I,L,B,ee){const le=B.fog,V=ee.geometry,F=(C.isMeshStandardMaterial?t:e).get(C.envMap||(C.isMeshStandardMaterial?B.environment:null)),U=F&&306===F.mapping?F.image.height:null,H=p[C.type];null!==C.precision&&(f=r.getMaxPrecision(C.precision),f!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",f,"instead."));const z=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,W=void 0!==z?z.length:0;let ie,me,ge,it,de=0;if(void 0!==V.morphAttributes.position&&(de=1),void 0!==V.morphAttributes.normal&&(de=2),void 0!==V.morphAttributes.color&&(de=3),H){const St=Us[H];ie=St.vertexShader,me=St.fragmentShader}else ie=C.vertexShader,me=C.fragmentShader,l.update(C),ge=l.getVertexShaderID(C),it=l.getFragmentShaderID(C);const te=i.getRenderTarget(),Xe=C.clearcoat>0,rt=C.iridescence>0;return{isWebGL2:u,shaderID:H,shaderName:C.type,vertexShader:ie,fragmentShader:me,defines:C.defines,customVertexShaderID:ge,customFragmentShaderID:it,isRawShaderMaterial:!0===C.isRawShaderMaterial,glslVersion:C.glslVersion,precision:f,instancing:!0===ee.isInstancedMesh,instancingColor:!0===ee.isInstancedMesh&&null!==ee.instanceColor,supportsVertexTextures:h,outputEncoding:null===te?i.outputEncoding:!0===te.isXRRenderTarget?te.texture.encoding:Wa,map:!!C.map,matcap:!!C.matcap,envMap:!!F,envMapMode:F&&F.mapping,envMapCubeUVHeight:U,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:1===C.normalMapType,tangentSpaceNormalMap:0===C.normalMapType,decodeVideoTexture:!!C.map&&!0===C.map.isVideoTexture&&C.map.encoding===Bn,clearcoat:Xe,clearcoatMap:Xe&&!!C.clearcoatMap,clearcoatRoughnessMap:Xe&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:Xe&&!!C.clearcoatNormalMap,iridescence:rt,iridescenceMap:rt&&!!C.iridescenceMap,iridescenceThicknessMap:rt&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:!1===C.transparent&&1===C.blending,alphaMap:!!C.alphaMap,alphaTest:C.alphaTest>0,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!V.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:!0===C.vertexColors&&!!V.attributes.color&&4===V.attributes.color.itemSize,vertexUvs:!!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatMap||C.clearcoatRoughnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.displacementMap||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheenColorMap||C.sheenRoughnessMap),uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap||!C.displacementMap),fog:!!le,useFog:!0===C.fog,fogExp2:le&&le.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===ee.isSkinnedMesh,morphTargets:void 0!==V.morphAttributes.position,morphNormals:void 0!==V.morphAttributes.normal,morphColors:void 0!==V.morphAttributes.color,morphTargetsCount:W,morphTextureStride:de,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:i.shadowMap.enabled&&L.length>0,shadowMapType:i.shadowMap.type,toneMapping:C.toneMapped?i.toneMapping:0,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:2===C.side,flipSided:1===C.side,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}},getProgramCacheKey:function(C){const I=[];if(C.shaderID?I.push(C.shaderID):(I.push(C.customVertexShaderID),I.push(C.customFragmentShaderID)),void 0!==C.defines)for(const L in C.defines)I.push(L),I.push(C.defines[L]);return!1===C.isRawShaderMaterial&&(function(C,I){C.push(I.precision),C.push(I.outputEncoding),C.push(I.envMapMode),C.push(I.envMapCubeUVHeight),C.push(I.combine),C.push(I.vertexUvs),C.push(I.fogExp2),C.push(I.sizeAttenuation),C.push(I.morphTargetsCount),C.push(I.morphAttributeCount),C.push(I.numDirLights),C.push(I.numPointLights),C.push(I.numSpotLights),C.push(I.numHemiLights),C.push(I.numRectAreaLights),C.push(I.numDirLightShadows),C.push(I.numPointLightShadows),C.push(I.numSpotLightShadows),C.push(I.shadowMapType),C.push(I.toneMapping),C.push(I.numClippingPlanes),C.push(I.numClipIntersection),C.push(I.depthPacking)}(I,C),function(C,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.map&&a.enable(4),I.matcap&&a.enable(5),I.envMap&&a.enable(6),I.lightMap&&a.enable(7),I.aoMap&&a.enable(8),I.emissiveMap&&a.enable(9),I.bumpMap&&a.enable(10),I.normalMap&&a.enable(11),I.objectSpaceNormalMap&&a.enable(12),I.tangentSpaceNormalMap&&a.enable(13),I.clearcoat&&a.enable(14),I.clearcoatMap&&a.enable(15),I.clearcoatRoughnessMap&&a.enable(16),I.clearcoatNormalMap&&a.enable(17),I.iridescence&&a.enable(18),I.iridescenceMap&&a.enable(19),I.iridescenceThicknessMap&&a.enable(20),I.displacementMap&&a.enable(21),I.specularMap&&a.enable(22),I.roughnessMap&&a.enable(23),I.metalnessMap&&a.enable(24),I.gradientMap&&a.enable(25),I.alphaMap&&a.enable(26),I.alphaTest&&a.enable(27),I.vertexColors&&a.enable(28),I.vertexAlphas&&a.enable(29),I.vertexUvs&&a.enable(30),I.vertexTangents&&a.enable(31),I.uvsVertexOnly&&a.enable(32),I.fog&&a.enable(33),C.push(a.mask),a.disableAll(),I.useFog&&a.enable(0),I.flatShading&&a.enable(1),I.logarithmicDepthBuffer&&a.enable(2),I.skinning&&a.enable(3),I.morphTargets&&a.enable(4),I.morphNormals&&a.enable(5),I.morphColors&&a.enable(6),I.premultipliedAlpha&&a.enable(7),I.shadowMapEnabled&&a.enable(8),I.physicallyCorrectLights&&a.enable(9),I.doubleSided&&a.enable(10),I.flipSided&&a.enable(11),I.useDepthPacking&&a.enable(12),I.dithering&&a.enable(13),I.specularIntensityMap&&a.enable(14),I.specularColorMap&&a.enable(15),I.transmission&&a.enable(16),I.transmissionMap&&a.enable(17),I.thicknessMap&&a.enable(18),I.sheen&&a.enable(19),I.sheenColorMap&&a.enable(20),I.sheenRoughnessMap&&a.enable(21),I.decodeVideoTexture&&a.enable(22),I.opaque&&a.enable(23),C.push(a.mask)}(I,C),I.push(i.outputEncoding)),I.push(C.customProgramCacheKey),I.join()},getUniforms:function(C){const I=p[C.type];let L;return L=I?$j.clone(Us[I].uniforms):C.uniforms,L},acquireProgram:function(C,I){let L;for(let B=0,ee=c.length;B<ee;B++){const le=c[B];if(le.cacheKey===I){L=le,++L.usedTimes;break}}return void 0===L&&(L=new Mq(i,I,C,s),c.push(L)),L},releaseProgram:function(C){if(0==--C.usedTimes){const I=c.indexOf(C);c[I]=c[c.length-1],c.pop(),C.destroy()}},releaseShaderCache:function(C){l.remove(C)},programs:c,dispose:function(){l.dispose()}}}function Tq(){let i=new WeakMap;return{get:function(s){let o=i.get(s);return void 0===o&&(o={},i.set(s,o)),o},remove:function(s){i.delete(s)},update:function(s,o,a){i.get(s)[o]=a},dispose:function(){i=new WeakMap}}}function Aq(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function IP(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function PP(){const i=[];let e=0;const t=[],n=[],r=[];function o(d,h,f,p,m,g){let b=i[e];return void 0===b?(b={id:d.id,object:d,geometry:h,material:f,groupOrder:p,renderOrder:d.renderOrder,z:m,group:g},i[e]=b):(b.id=d.id,b.object=d,b.geometry=h,b.material=f,b.groupOrder=p,b.renderOrder=d.renderOrder,b.z=m,b.group=g),e++,b}return{opaque:t,transmissive:n,transparent:r,init:function(){e=0,t.length=0,n.length=0,r.length=0},push:function(d,h,f,p,m,g){const b=o(d,h,f,p,m,g);f.transmission>0?n.push(b):!0===f.transparent?r.push(b):t.push(b)},unshift:function(d,h,f,p,m,g){const b=o(d,h,f,p,m,g);f.transmission>0?n.unshift(b):!0===f.transparent?r.unshift(b):t.unshift(b)},finish:function(){for(let d=e,h=i.length;d<h;d++){const f=i[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function(d,h){t.length>1&&t.sort(d||Aq),n.length>1&&n.sort(h||IP),r.length>1&&r.sort(h||IP)}}}function Iq(){let i=new WeakMap;return{get:function(n,r){let s;return!1===i.has(n)?(s=new PP,i.set(n,[s])):r>=i.get(n).length?(s=new PP,i.get(n).push(s)):s=i.get(n)[r],s},dispose:function(){i=new WeakMap}}}function Pq(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new T,color:new He};break;case"SpotLight":t={position:new T,direction:new T,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new T,color:new He,distance:0,decay:0};break;case"HemisphereLight":t={direction:new T,skyColor:new He,groundColor:new He};break;case"RectAreaLight":t={color:new He,position:new T,halfWidth:new T,halfHeight:new T}}return i[e.id]=t,t}}}let kq=0;function Oq(i,e){return(e.castShadow?1:0)-(i.castShadow?1:0)}function Fq(i,e){const t=new Pq,n=function(){const i={};return{get:function(e){if(void 0!==i[e.id])return i[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new J};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new J,shadowCameraNear:1,shadowCameraFar:1e3}}return i[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)r.probe.push(new T);const s=new T,o=new Et,a=new Et;return{setup:function(u,d){let h=0,f=0,p=0;for(let I=0;I<9;I++)r.probe[I].set(0,0,0);let m=0,g=0,b=0,y=0,w=0,x=0,S=0,E=0;u.sort(Oq);const O=!0!==d?Math.PI:1;for(let I=0,L=u.length;I<L;I++){const B=u[I],ee=B.color,le=B.intensity,V=B.distance,K=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)h+=ee.r*le*O,f+=ee.g*le*O,p+=ee.b*le*O;else if(B.isLightProbe)for(let F=0;F<9;F++)r.probe[F].addScaledVector(B.sh.coefficients[F],le);else if(B.isDirectionalLight){const F=t.get(B);if(F.color.copy(B.color).multiplyScalar(B.intensity*O),B.castShadow){const U=B.shadow,H=n.get(B);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,r.directionalShadow[m]=H,r.directionalShadowMap[m]=K,r.directionalShadowMatrix[m]=B.shadow.matrix,x++}r.directional[m]=F,m++}else if(B.isSpotLight){const F=t.get(B);if(F.position.setFromMatrixPosition(B.matrixWorld),F.color.copy(ee).multiplyScalar(le*O),F.distance=V,F.coneCos=Math.cos(B.angle),F.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),F.decay=B.decay,B.castShadow){const U=B.shadow,H=n.get(B);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,r.spotShadow[b]=H,r.spotShadowMap[b]=K,r.spotShadowMatrix[b]=B.shadow.matrix,E++}r.spot[b]=F,b++}else if(B.isRectAreaLight){const F=t.get(B);F.color.copy(ee).multiplyScalar(le),F.halfWidth.set(.5*B.width,0,0),F.halfHeight.set(0,.5*B.height,0),r.rectArea[y]=F,y++}else if(B.isPointLight){const F=t.get(B);if(F.color.copy(B.color).multiplyScalar(B.intensity*O),F.distance=B.distance,F.decay=B.decay,B.castShadow){const U=B.shadow,H=n.get(B);H.shadowBias=U.bias,H.shadowNormalBias=U.normalBias,H.shadowRadius=U.radius,H.shadowMapSize=U.mapSize,H.shadowCameraNear=U.camera.near,H.shadowCameraFar=U.camera.far,r.pointShadow[g]=H,r.pointShadowMap[g]=K,r.pointShadowMatrix[g]=B.shadow.matrix,S++}r.point[g]=F,g++}else if(B.isHemisphereLight){const F=t.get(B);F.skyColor.copy(B.color).multiplyScalar(le*O),F.groundColor.copy(B.groundColor).multiplyScalar(le*O),r.hemi[w]=F,w++}}y>0&&(e.isWebGL2||!0===i.has("OES_texture_float_linear")?(r.rectAreaLTC1=Te.LTC_FLOAT_1,r.rectAreaLTC2=Te.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Te.LTC_HALF_1,r.rectAreaLTC2=Te.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=p;const C=r.hash;(C.directionalLength!==m||C.pointLength!==g||C.spotLength!==b||C.rectAreaLength!==y||C.hemiLength!==w||C.numDirectionalShadows!==x||C.numPointShadows!==S||C.numSpotShadows!==E)&&(r.directional.length=m,r.spot.length=b,r.rectArea.length=y,r.point.length=g,r.hemi.length=w,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=S,r.spotShadowMatrix.length=E,C.directionalLength=m,C.pointLength=g,C.spotLength=b,C.rectAreaLength=y,C.hemiLength=w,C.numDirectionalShadows=x,C.numPointShadows=S,C.numSpotShadows=E,r.version=kq++)},setupView:function(u,d){let h=0,f=0,p=0,m=0,g=0;const b=d.matrixWorldInverse;for(let y=0,w=u.length;y<w;y++){const x=u[y];if(x.isDirectionalLight){const S=r.directional[h];S.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(b),h++}else if(x.isSpotLight){const S=r.spot[p];S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(b),S.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(b),p++}else if(x.isRectAreaLight){const S=r.rectArea[m];S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(b),a.identity(),o.copy(x.matrixWorld),o.premultiply(b),a.extractRotation(o),S.halfWidth.set(.5*x.width,0,0),S.halfHeight.set(0,.5*x.height,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),m++}else if(x.isPointLight){const S=r.point[f];S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(b),f++}else if(x.isHemisphereLight){const S=r.hemi[g];S.direction.setFromMatrixPosition(x.matrixWorld),S.direction.transformDirection(b),g++}}},state:r}}function RP(i,e){const t=new Fq(i,e),n=[],r=[];return{init:function(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:function(d){t.setup(n,d)},setupLightsView:function(d){t.setupView(n,d)},pushLight:function(d){n.push(d)},pushShadow:function(d){r.push(d)}}}function Lq(i,e){let t=new WeakMap;return{get:function(s,o=0){let a;return!1===t.has(s)?(a=new RP(i,e),t.set(s,[a])):o>=t.get(s).length?(a=new RP(i,e),t.get(s).push(a)):a=t.get(s)[o],a},dispose:function(){t=new WeakMap}}}class kP extends nu{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class OP extends nu{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new T,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Vq(i,e,t){let n=new z0;const r=new J,s=new J,o=new nn,a=new kP({depthPacking:3201}),l=new OP,c={},u=t.maxTextureSize,d={0:1,1:0,2:2},h=new zs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new J},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new Nt;p.setAttribute("position",new Vn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Si(p,h),g=this;function b(x,S){const E=e.update(m);h.defines.VSM_SAMPLES!==x.blurSamples&&(h.defines.VSM_SAMPLES=x.blurSamples,f.defines.VSM_SAMPLES=x.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===x.mapPass&&(x.mapPass=new Ya(r.x,r.y)),h.uniforms.shadow_pass.value=x.map.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,i.setRenderTarget(x.mapPass),i.clear(),i.renderBufferDirect(S,null,E,h,m,null),f.uniforms.shadow_pass.value=x.mapPass.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,i.setRenderTarget(x.map),i.clear(),i.renderBufferDirect(S,null,E,f,m,null)}function y(x,S,E,O,C,I){let L=null;const B=!0===E.isPointLight?x.customDistanceMaterial:x.customDepthMaterial;if(L=void 0!==B?B:!0===E.isPointLight?l:a,i.localClippingEnabled&&!0===S.clipShadows&&Array.isArray(S.clippingPlanes)&&0!==S.clippingPlanes.length||S.displacementMap&&0!==S.displacementScale||S.alphaMap&&S.alphaTest>0){const ee=L.uuid,le=S.uuid;let V=c[ee];void 0===V&&(V={},c[ee]=V);let K=V[le];void 0===K&&(K=L.clone(),V[le]=K),L=K}return L.visible=S.visible,L.wireframe=S.wireframe,L.side=3===I?null!==S.shadowSide?S.shadowSide:S.side:null!==S.shadowSide?S.shadowSide:d[S.side],L.alphaMap=S.alphaMap,L.alphaTest=S.alphaTest,L.clipShadows=S.clipShadows,L.clippingPlanes=S.clippingPlanes,L.clipIntersection=S.clipIntersection,L.displacementMap=S.displacementMap,L.displacementScale=S.displacementScale,L.displacementBias=S.displacementBias,L.wireframeLinewidth=S.wireframeLinewidth,L.linewidth=S.linewidth,!0===E.isPointLight&&!0===L.isMeshDistanceMaterial&&(L.referencePosition.setFromMatrixPosition(E.matrixWorld),L.nearDistance=O,L.farDistance=C),L}function w(x,S,E,O,C){if(!1===x.visible)return;if(x.layers.test(S.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&3===C)&&(!x.frustumCulled||n.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,x.matrixWorld);const B=e.update(x),ee=x.material;if(Array.isArray(ee)){const le=B.groups;for(let V=0,K=le.length;V<K;V++){const F=le[V],U=ee[F.materialIndex];if(U&&U.visible){const H=y(x,U,O,E.near,E.far,C);i.renderBufferDirect(E,null,B,H,x,F)}}}else if(ee.visible){const le=y(x,ee,O,E.near,E.far,C);i.renderBufferDirect(E,null,B,le,x,null)}}const L=x.children;for(let B=0,ee=L.length;B<ee;B++)w(L[B],S,E,O,C)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(x,S,E){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===x.length)return;const O=i.getRenderTarget(),C=i.getActiveCubeFace(),I=i.getActiveMipmapLevel(),L=i.state;L.setBlending(0),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let B=0,ee=x.length;B<ee;B++){const le=x[B],V=le.shadow;if(void 0===V){console.warn("THREE.WebGLShadowMap:",le,"has no shadow.");continue}if(!1===V.autoUpdate&&!1===V.needsUpdate)continue;r.copy(V.mapSize);const K=V.getFrameExtents();r.multiply(K),s.copy(V.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/K.x),r.x=s.x*K.x,V.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/K.y),r.y=s.y*K.y,V.mapSize.y=s.y)),null===V.map&&(V.map=new Ya(r.x,r.y,3!==this.type?{minFilter:di,magFilter:di}:{}),V.map.texture.name=le.name+".shadowMap",V.camera.updateProjectionMatrix()),i.setRenderTarget(V.map),i.clear();const F=V.getViewportCount();for(let U=0;U<F;U++){const H=V.getViewport(U);o.set(s.x*H.x,s.y*H.y,s.x*H.z,s.y*H.w),L.viewport(o),V.updateMatrices(le,U),n=V.getFrustum(),w(S,E,V.camera,le,this.type)}!0!==V.isPointLightShadow&&3===this.type&&b(V,E),V.needsUpdate=!1}g.needsUpdate=!1,i.setRenderTarget(O,C,I)}}function zq(i,e,t){const n=t.isWebGL2,a=new function(){let N=!1;const Ee=new nn;let Q=null;const Be=new nn(0,0,0,0);return{setMask:function(Ne){Q!==Ne&&!N&&(i.colorMask(Ne,Ne,Ne,Ne),Q=Ne)},setLocked:function(Ne){N=Ne},setClear:function(Ne,Qt,vi,Xn,pa){!0===pa&&(Ne*=Xn,Qt*=Xn,vi*=Xn),Ee.set(Ne,Qt,vi,Xn),!1===Be.equals(Ee)&&(i.clearColor(Ne,Qt,vi,Xn),Be.copy(Ee))},reset:function(){N=!1,Q=null,Be.set(-1,0,0,0)}}},l=new function(){let N=!1,Ee=null,Q=null,Be=null;return{setTest:function(Ne){Ne?tt(2929):Xe(2929)},setMask:function(Ne){Ee!==Ne&&!N&&(i.depthMask(Ne),Ee=Ne)},setFunc:function(Ne){if(Q!==Ne){if(Ne)switch(Ne){case 0:i.depthFunc(512);break;case 1:i.depthFunc(519);break;case 2:i.depthFunc(513);break;case 3:default:i.depthFunc(515);break;case 4:i.depthFunc(514);break;case 5:i.depthFunc(518);break;case 6:i.depthFunc(516);break;case 7:i.depthFunc(517)}else i.depthFunc(515);Q=Ne}},setLocked:function(Ne){N=Ne},setClear:function(Ne){Be!==Ne&&(i.clearDepth(Ne),Be=Ne)},reset:function(){N=!1,Ee=null,Q=null,Be=null}}},c=new function(){let N=!1,Ee=null,Q=null,Be=null,Ne=null,Qt=null,vi=null,Xn=null,pa=null;return{setTest:function(Un){N||(Un?tt(2960):Xe(2960))},setMask:function(Un){Ee!==Un&&!N&&(i.stencilMask(Un),Ee=Un)},setFunc:function(Un,Io,Xr){(Q!==Un||Be!==Io||Ne!==Xr)&&(i.stencilFunc(Un,Io,Xr),Q=Un,Be=Io,Ne=Xr)},setOp:function(Un,Io,Xr){(Qt!==Un||vi!==Io||Xn!==Xr)&&(i.stencilOp(Un,Io,Xr),Qt=Un,vi=Io,Xn=Xr)},setLocked:function(Un){N=Un},setClear:function(Un){pa!==Un&&(i.clearStencil(Un),pa=Un)},reset:function(){N=!1,Ee=null,Q=null,Be=null,Ne=null,Qt=null,vi=null,Xn=null,pa=null}}},u=new WeakMap,d=new WeakMap;let h={},f={},p=new WeakMap,m=[],g=null,b=!1,y=null,w=null,x=null,S=null,E=null,O=null,C=null,I=!1,L=null,B=null,ee=null,le=null,V=null;const K=i.getParameter(35661);let F=!1,U=0;const H=i.getParameter(7938);-1!==H.indexOf("WebGL")?(U=parseFloat(/^WebGL (\d)/.exec(H)[1]),F=U>=1):-1!==H.indexOf("OpenGL ES")&&(U=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),F=U>=2);let z=null,W={};const de=i.getParameter(3088),ie=i.getParameter(2978),me=(new nn).fromArray(de),ge=(new nn).fromArray(ie);function it(N,Ee,Q){const Be=new Uint8Array(4),Ne=i.createTexture();i.bindTexture(N,Ne),i.texParameteri(N,10241,9728),i.texParameteri(N,10240,9728);for(let Qt=0;Qt<Q;Qt++)i.texImage2D(Ee+Qt,0,6408,1,1,0,6408,5121,Be);return Ne}const te={};function tt(N){!0!==h[N]&&(i.enable(N),h[N]=!0)}function Xe(N){!1!==h[N]&&(i.disable(N),h[N]=!1)}te[3553]=it(3553,3553,1),te[34067]=it(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),tt(2929),l.setFunc(3),Se(!1),wt(1),tt(2884),_e(0);const se={100:32774,101:32778,102:32779};if(n)se[103]=32775,se[104]=32776;else{const N=e.get("EXT_blend_minmax");null!==N&&(se[103]=N.MIN_EXT,se[104]=N.MAX_EXT)}const ne={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function _e(N,Ee,Q,Be,Ne,Qt,vi,Xn){if(0!==N){if(!1===b&&(tt(3042),b=!0),5===N)Ne=Ne||Ee,Qt=Qt||Q,vi=vi||Be,(Ee!==w||Ne!==E)&&(i.blendEquationSeparate(se[Ee],se[Ne]),w=Ee,E=Ne),(Q!==x||Be!==S||Qt!==O||vi!==C)&&(i.blendFuncSeparate(ne[Q],ne[Be],ne[Qt],ne[vi]),x=Q,S=Be,O=Qt,C=vi),y=N,I=null;else if(N!==y||Xn!==I){if((100!==w||100!==E)&&(i.blendEquation(32774),w=100,E=100),Xn)switch(N){case 1:i.blendFuncSeparate(1,771,1,771);break;case 2:i.blendFunc(1,1);break;case 3:i.blendFuncSeparate(0,769,0,1);break;case 4:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",N)}else switch(N){case 1:i.blendFuncSeparate(770,771,1,771);break;case 2:i.blendFunc(770,1);break;case 3:i.blendFuncSeparate(0,769,0,1);break;case 4:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",N)}x=null,S=null,O=null,C=null,y=N,I=Xn}}else!0===b&&(Xe(3042),b=!1)}function Se(N){L!==N&&(i.frontFace(N?2304:2305),L=N)}function wt(N){0!==N?(tt(2884),N!==B&&i.cullFace(1===N?1029:2===N?1028:1032)):Xe(2884),B=N}function st(N,Ee,Q){N?(tt(32823),(le!==Ee||V!==Q)&&(i.polygonOffset(Ee,Q),le=Ee,V=Q)):Xe(32823)}function rn(N){void 0===N&&(N=33984+K-1),z!==N&&(i.activeTexture(N),z=N)}return{buffers:{color:a,depth:l,stencil:c},enable:tt,disable:Xe,bindFramebuffer:function(N,Ee){return f[N]!==Ee&&(i.bindFramebuffer(N,Ee),f[N]=Ee,n&&(36009===N&&(f[36160]=Ee),36160===N&&(f[36009]=Ee)),!0)},drawBuffers:function(N,Ee){let Q=m,Be=!1;if(N)if(Q=p.get(Ee),void 0===Q&&(Q=[],p.set(Ee,Q)),N.isWebGLMultipleRenderTargets){const Ne=N.texture;if(Q.length!==Ne.length||36064!==Q[0]){for(let Qt=0,vi=Ne.length;Qt<vi;Qt++)Q[Qt]=36064+Qt;Q.length=Ne.length,Be=!0}}else 36064!==Q[0]&&(Q[0]=36064,Be=!0);else 1029!==Q[0]&&(Q[0]=1029,Be=!0);Be&&(t.isWebGL2?i.drawBuffers(Q):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Q))},useProgram:function(N){return g!==N&&(i.useProgram(N),g=N,!0)},setBlending:_e,setMaterial:function(N,Ee){2===N.side?Xe(2884):tt(2884);let Q=1===N.side;Ee&&(Q=!Q),Se(Q),1===N.blending&&!1===N.transparent?_e(0):_e(N.blending,N.blendEquation,N.blendSrc,N.blendDst,N.blendEquationAlpha,N.blendSrcAlpha,N.blendDstAlpha,N.premultipliedAlpha),l.setFunc(N.depthFunc),l.setTest(N.depthTest),l.setMask(N.depthWrite),a.setMask(N.colorWrite);const Be=N.stencilWrite;c.setTest(Be),Be&&(c.setMask(N.stencilWriteMask),c.setFunc(N.stencilFunc,N.stencilRef,N.stencilFuncMask),c.setOp(N.stencilFail,N.stencilZFail,N.stencilZPass)),st(N.polygonOffset,N.polygonOffsetFactor,N.polygonOffsetUnits),!0===N.alphaToCoverage?tt(32926):Xe(32926)},setFlipSided:Se,setCullFace:wt,setLineWidth:function(N){N!==ee&&(F&&i.lineWidth(N),ee=N)},setPolygonOffset:st,setScissorTest:function(N){N?tt(3089):Xe(3089)},activeTexture:rn,bindTexture:function(N,Ee){null===z&&rn();let Q=W[z];void 0===Q&&(Q={type:void 0,texture:void 0},W[z]=Q),(Q.type!==N||Q.texture!==Ee)&&(i.bindTexture(N,Ee||te[N]),Q.type=N,Q.texture=Ee)},unbindTexture:function(){const N=W[z];void 0!==N&&void 0!==N.type&&(i.bindTexture(N.type,null),N.type=void 0,N.texture=void 0)},compressedTexImage2D:function(){try{i.compressedTexImage2D.apply(i,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texImage2D:function(){try{i.texImage2D.apply(i,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texImage3D:function(){try{i.texImage3D.apply(i,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},updateUBOMapping:function(N,Ee){let Q=d.get(Ee);void 0===Q&&(Q=new WeakMap,d.set(Ee,Q));let Be=Q.get(N);void 0===Be&&(Be=i.getUniformBlockIndex(Ee,N.name),Q.set(N,Be))},uniformBlockBinding:function(N,Ee){const Be=d.get(Ee).get(N);u.get(N)!==Be&&(i.uniformBlockBinding(Ee,Be,N.__bindingPointIndex),u.set(N,Be))},texStorage2D:function(){try{i.texStorage2D.apply(i,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texStorage3D:function(){try{i.texStorage3D.apply(i,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texSubImage2D:function(){try{i.texSubImage2D.apply(i,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texSubImage3D:function(){try{i.texSubImage3D.apply(i,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},compressedTexSubImage2D:function(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},scissor:function(N){!1===me.equals(N)&&(i.scissor(N.x,N.y,N.z,N.w),me.copy(N))},viewport:function(N){!1===ge.equals(N)&&(i.viewport(N.x,N.y,N.z,N.w),ge.copy(N))},reset:function(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),!0===n&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),h={},z=null,W={},f={},p=new WeakMap,m=[],g=null,b=!1,y=null,w=null,x=null,S=null,E=null,O=null,C=null,I=!1,L=null,B=null,ee=null,le=null,V=null,me.set(0,0,i.canvas.width,i.canvas.height),ge.set(0,0,i.canvas.width,i.canvas.height),a.reset(),l.reset(),c.reset()}}}function Uq(i,e,t,n,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let b=!1;try{b="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(k){}function y(k,D){return b?new OffscreenCanvas(k,D):hh("canvas")}function w(k,D,X,pe){let ve=1;if((k.width>pe||k.height>pe)&&(ve=pe/Math.max(k.width,k.height)),ve<1||!0===D){if("undefined"!=typeof HTMLImageElement&&k instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&k instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&k instanceof ImageBitmap){const Ie=D?ym:Math.floor,dt=Ie(ve*k.width),P=Ie(ve*k.height);void 0===m&&(m=y(dt,P));const ue=X?y(dt,P):m;return ue.width=dt,ue.height=P,ue.getContext("2d").drawImage(k,0,0,dt,P),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+dt+"x"+P+")."),ue}return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k}return k}function x(k){return m0(k.width)&&m0(k.height)}function E(k,D){return k.generateMipmaps&&D&&k.minFilter!==di&&k.minFilter!==Nn}function O(k){i.generateMipmap(k)}function C(k,D,X,pe,ve=!1){if(!1===a)return D;if(null!==k){if(void 0!==i[k])return i[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let Ie=D;return 6403===D&&(5126===X&&(Ie=33326),5131===X&&(Ie=33325),5121===X&&(Ie=33321)),33319===D&&(5126===X&&(Ie=33328),5131===X&&(Ie=33327),5121===X&&(Ie=33323)),6408===D&&(5126===X&&(Ie=34836),5131===X&&(Ie=34842),5121===X&&(Ie=pe===Bn&&!1===ve?35907:32856),32819===X&&(Ie=32854),32820===X&&(Ie=32855)),(33325===Ie||33326===Ie||33327===Ie||33328===Ie||34842===Ie||34836===Ie)&&e.get("EXT_color_buffer_float"),Ie}function I(k,D,X){return!0===E(k,X)||k.isFramebufferTexture&&k.minFilter!==di&&k.minFilter!==Nn?Math.log2(Math.max(D.width,D.height))+1:void 0!==k.mipmaps&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?D.mipmaps.length:1}function L(k){return k===di||1004===k||1005===k?9728:9729}function B(k){const D=k.target;D.removeEventListener("dispose",B),function(k){const D=n.get(k);if(void 0===D.__webglInit)return;const X=k.source,pe=g.get(X);if(pe){const ve=pe[D.__cacheKey];ve.usedTimes--,0===ve.usedTimes&&V(k),0===Object.keys(pe).length&&g.delete(X)}n.remove(k)}(D),D.isVideoTexture&&p.delete(D)}function ee(k){const D=k.target;D.removeEventListener("dispose",ee),function(k){const D=k.texture,X=n.get(k),pe=n.get(D);if(void 0!==pe.__webglTexture&&(i.deleteTexture(pe.__webglTexture),o.memory.textures--),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++)i.deleteFramebuffer(X.__webglFramebuffer[ve]),X.__webglDepthbuffer&&i.deleteRenderbuffer(X.__webglDepthbuffer[ve]);else{if(i.deleteFramebuffer(X.__webglFramebuffer),X.__webglDepthbuffer&&i.deleteRenderbuffer(X.__webglDepthbuffer),X.__webglMultisampledFramebuffer&&i.deleteFramebuffer(X.__webglMultisampledFramebuffer),X.__webglColorRenderbuffer)for(let ve=0;ve<X.__webglColorRenderbuffer.length;ve++)X.__webglColorRenderbuffer[ve]&&i.deleteRenderbuffer(X.__webglColorRenderbuffer[ve]);X.__webglDepthRenderbuffer&&i.deleteRenderbuffer(X.__webglDepthRenderbuffer)}if(k.isWebGLMultipleRenderTargets)for(let ve=0,Ie=D.length;ve<Ie;ve++){const dt=n.get(D[ve]);dt.__webglTexture&&(i.deleteTexture(dt.__webglTexture),o.memory.textures--),n.remove(D[ve])}n.remove(D),n.remove(k)}(D)}function V(k){const D=n.get(k);i.deleteTexture(D.__webglTexture),delete g.get(k.source)[D.__cacheKey],o.memory.textures--}let F=0;function W(k,D){const X=n.get(k);if(k.isVideoTexture&&function(k){const D=o.render.frame;p.get(k)!==D&&(p.set(k,D),k.update())}(k),!1===k.isRenderTargetTexture&&k.version>0&&X.__version!==k.version){const pe=k.image;if(null===pe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==pe.complete)return void Xe(X,k,D);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+D),t.bindTexture(3553,X.__webglTexture)}const ge={1e3:10497,[Ji]:33071,1002:33648},it={[di]:9728,1004:9984,1005:9986,[Nn]:9729,1007:9985,1008:9987};function te(k,D,X){if(X?(i.texParameteri(k,10242,ge[D.wrapS]),i.texParameteri(k,10243,ge[D.wrapT]),(32879===k||35866===k)&&i.texParameteri(k,32882,ge[D.wrapR]),i.texParameteri(k,10240,it[D.magFilter]),i.texParameteri(k,10241,it[D.minFilter])):(i.texParameteri(k,10242,33071),i.texParameteri(k,10243,33071),(32879===k||35866===k)&&i.texParameteri(k,32882,33071),(D.wrapS!==Ji||D.wrapT!==Ji)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(k,10240,L(D.magFilter)),i.texParameteri(k,10241,L(D.minFilter)),D.minFilter!==di&&D.minFilter!==Nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const pe=e.get("EXT_texture_filter_anisotropic");if(D.type===Yo&&!1===e.has("OES_texture_float_linear")||!1===a&&D.type===ch&&!1===e.has("OES_texture_half_float_linear"))return;(D.anisotropy>1||n.get(D).__currentAnisotropy)&&(i.texParameterf(k,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),n.get(D).__currentAnisotropy=D.anisotropy)}}function tt(k,D){let X=!1;void 0===k.__webglInit&&(k.__webglInit=!0,D.addEventListener("dispose",B));const pe=D.source;let ve=g.get(pe);void 0===ve&&(ve={},g.set(pe,ve));const Ie=function(k){const D=[];return D.push(k.wrapS),D.push(k.wrapT),D.push(k.magFilter),D.push(k.minFilter),D.push(k.anisotropy),D.push(k.internalFormat),D.push(k.format),D.push(k.type),D.push(k.generateMipmaps),D.push(k.premultiplyAlpha),D.push(k.flipY),D.push(k.unpackAlignment),D.push(k.encoding),D.join()}(D);if(Ie!==k.__cacheKey){void 0===ve[Ie]&&(ve[Ie]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,X=!0),ve[Ie].usedTimes++;const dt=ve[k.__cacheKey];void 0!==dt&&(ve[k.__cacheKey].usedTimes--,0===dt.usedTimes&&V(D)),k.__cacheKey=Ie,k.__webglTexture=ve[Ie].texture}return X}function Xe(k,D,X){let pe=3553;D.isDataArrayTexture&&(pe=35866),D.isData3DTexture&&(pe=32879);const ve=tt(k,D),Ie=D.source;if(t.activeTexture(33984+X),t.bindTexture(pe,k.__webglTexture),Ie.version!==Ie.__currentVersion||!0===ve){i.pixelStorei(37440,D.flipY),i.pixelStorei(37441,D.premultiplyAlpha),i.pixelStorei(3317,D.unpackAlignment),i.pixelStorei(37443,0);const dt=function(k){return!a&&(k.wrapS!==Ji||k.wrapT!==Ji||k.minFilter!==di&&k.minFilter!==Nn)}(D)&&!1===x(D.image);let P=w(D.image,dt,!1,u);P=rn(D,P);const ue=x(P)||a,ye=s.convert(D.format,D.encoding);let pt,Oe=s.convert(D.type),Re=C(D.internalFormat,ye,Oe,D.encoding,D.isVideoTexture);te(pe,D,ue);const jt=D.mipmaps,wn=a&&!0!==D.isVideoTexture,N=void 0===Ie.__currentVersion||!0===ve,Ee=I(D,P,ue);if(D.isDepthTexture)Re=6402,a?Re=D.type===Yo?36012:D.type===Ha?33190:D.type===Vc?35056:33189:D.type===Yo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Ga&&6402===Re&&1012!==D.type&&D.type!==Ha&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Ha,Oe=s.convert(D.type)),D.format===zc&&6402===Re&&(Re=34041,D.type!==Vc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Vc,Oe=s.convert(D.type))),N&&(wn?t.texStorage2D(3553,1,Re,P.width,P.height):t.texImage2D(3553,0,Re,P.width,P.height,0,ye,Oe,null));else if(D.isDataTexture)if(jt.length>0&&ue){wn&&N&&t.texStorage2D(3553,Ee,Re,jt[0].width,jt[0].height);for(let Q=0,Be=jt.length;Q<Be;Q++)pt=jt[Q],wn?t.texSubImage2D(3553,Q,0,0,pt.width,pt.height,ye,Oe,pt.data):t.texImage2D(3553,Q,Re,pt.width,pt.height,0,ye,Oe,pt.data);D.generateMipmaps=!1}else wn?(N&&t.texStorage2D(3553,Ee,Re,P.width,P.height),t.texSubImage2D(3553,0,0,0,P.width,P.height,ye,Oe,P.data)):t.texImage2D(3553,0,Re,P.width,P.height,0,ye,Oe,P.data);else if(D.isCompressedTexture){wn&&N&&t.texStorage2D(3553,Ee,Re,jt[0].width,jt[0].height);for(let Q=0,Be=jt.length;Q<Be;Q++)pt=jt[Q],D.format!==Ur?null!==ye?wn?t.compressedTexSubImage2D(3553,Q,0,0,pt.width,pt.height,ye,pt.data):t.compressedTexImage2D(3553,Q,Re,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wn?t.texSubImage2D(3553,Q,0,0,pt.width,pt.height,ye,Oe,pt.data):t.texImage2D(3553,Q,Re,pt.width,pt.height,0,ye,Oe,pt.data)}else if(D.isDataArrayTexture)wn?(N&&t.texStorage3D(35866,Ee,Re,P.width,P.height,P.depth),t.texSubImage3D(35866,0,0,0,0,P.width,P.height,P.depth,ye,Oe,P.data)):t.texImage3D(35866,0,Re,P.width,P.height,P.depth,0,ye,Oe,P.data);else if(D.isData3DTexture)wn?(N&&t.texStorage3D(32879,Ee,Re,P.width,P.height,P.depth),t.texSubImage3D(32879,0,0,0,0,P.width,P.height,P.depth,ye,Oe,P.data)):t.texImage3D(32879,0,Re,P.width,P.height,P.depth,0,ye,Oe,P.data);else if(D.isFramebufferTexture){if(N)if(wn)t.texStorage2D(3553,Ee,Re,P.width,P.height);else{let Q=P.width,Be=P.height;for(let Ne=0;Ne<Ee;Ne++)t.texImage2D(3553,Ne,Re,Q,Be,0,ye,Oe,null),Q>>=1,Be>>=1}}else if(jt.length>0&&ue){wn&&N&&t.texStorage2D(3553,Ee,Re,jt[0].width,jt[0].height);for(let Q=0,Be=jt.length;Q<Be;Q++)pt=jt[Q],wn?t.texSubImage2D(3553,Q,0,0,ye,Oe,pt):t.texImage2D(3553,Q,Re,ye,Oe,pt);D.generateMipmaps=!1}else wn?(N&&t.texStorage2D(3553,Ee,Re,P.width,P.height),t.texSubImage2D(3553,0,0,0,ye,Oe,P)):t.texImage2D(3553,0,Re,ye,Oe,P);E(D,ue)&&O(pe),Ie.__currentVersion=Ie.version,D.onUpdate&&D.onUpdate(D)}k.__version=D.version}function we(k,D,X,pe,ve){const Ie=s.convert(X.format,X.encoding),dt=s.convert(X.type),P=C(X.internalFormat,Ie,dt,X.encoding);n.get(D).__hasExternalTextures||(32879===ve||35866===ve?t.texImage3D(ve,0,P,D.width,D.height,D.depth,0,Ie,dt,null):t.texImage2D(ve,0,P,D.width,D.height,0,Ie,dt,null)),t.bindFramebuffer(36160,k),st(D)?h.framebufferTexture2DMultisampleEXT(36160,pe,ve,n.get(X).__webglTexture,0,ut(D)):i.framebufferTexture2D(36160,pe,ve,n.get(X).__webglTexture,0),t.bindFramebuffer(36160,null)}function St(k,D,X){if(i.bindRenderbuffer(36161,k),D.depthBuffer&&!D.stencilBuffer){let pe=33189;if(X||st(D)){const ve=D.depthTexture;ve&&ve.isDepthTexture&&(ve.type===Yo?pe=36012:ve.type===Ha&&(pe=33190));const Ie=ut(D);st(D)?h.renderbufferStorageMultisampleEXT(36161,Ie,pe,D.width,D.height):i.renderbufferStorageMultisample(36161,Ie,pe,D.width,D.height)}else i.renderbufferStorage(36161,pe,D.width,D.height);i.framebufferRenderbuffer(36160,36096,36161,k)}else if(D.depthBuffer&&D.stencilBuffer){const pe=ut(D);X&&!1===st(D)?i.renderbufferStorageMultisample(36161,pe,35056,D.width,D.height):st(D)?h.renderbufferStorageMultisampleEXT(36161,pe,35056,D.width,D.height):i.renderbufferStorage(36161,34041,D.width,D.height),i.framebufferRenderbuffer(36160,33306,36161,k)}else{const pe=!0===D.isWebGLMultipleRenderTargets?D.texture:[D.texture];for(let ve=0;ve<pe.length;ve++){const Ie=pe[ve],dt=s.convert(Ie.format,Ie.encoding),P=s.convert(Ie.type),ue=C(Ie.internalFormat,dt,P,Ie.encoding),ye=ut(D);X&&!1===st(D)?i.renderbufferStorageMultisample(36161,ye,ue,D.width,D.height):st(D)?h.renderbufferStorageMultisampleEXT(36161,ye,ue,D.width,D.height):i.renderbufferStorage(36161,ue,D.width,D.height)}}i.bindRenderbuffer(36161,null)}function ne(k){const D=n.get(k),X=!0===k.isWebGLCubeRenderTarget;if(k.depthTexture&&!D.__autoAllocateDepthBuffer){if(X)throw new Error("target.depthTexture not supported in Cube render targets");!function(k,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,k),!D.depthTexture||!D.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),W(D.depthTexture,0);const pe=n.get(D.depthTexture).__webglTexture,ve=ut(D);if(D.depthTexture.format===Ga)st(D)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,pe,0,ve):i.framebufferTexture2D(36160,36096,3553,pe,0);else{if(D.depthTexture.format!==zc)throw new Error("Unknown depthTexture format");st(D)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,pe,0,ve):i.framebufferTexture2D(36160,33306,3553,pe,0)}}(D.__webglFramebuffer,k)}else if(X){D.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)t.bindFramebuffer(36160,D.__webglFramebuffer[pe]),D.__webglDepthbuffer[pe]=i.createRenderbuffer(),St(D.__webglDepthbuffer[pe],k,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=i.createRenderbuffer(),St(D.__webglDepthbuffer,k,!1);t.bindFramebuffer(36160,null)}function ut(k){return Math.min(d,k.samples)}function st(k){const D=n.get(k);return a&&k.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==D.__useRenderToTexture}function rn(k,D){const X=k.encoding,pe=k.format,ve=k.type;return!0===k.isCompressedTexture||!0===k.isVideoTexture||1035===k.format||X!==Wa&&(X===Bn?!1===a?!0===e.has("EXT_sRGB")&&pe===Ur?(k.format=1035,k.minFilter=Nn,k.generateMipmaps=!1):D=WI.sRGBToLinear(D):(pe!==Ur||ve!==Ua)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",X)),D}this.allocateTextureUnit=function(){const k=F;return k>=l&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+l),F+=1,k},this.resetTextureUnits=function(){F=0},this.setTexture2D=W,this.setTexture2DArray=function(k,D){const X=n.get(k);k.version>0&&X.__version!==k.version?Xe(X,k,D):(t.activeTexture(33984+D),t.bindTexture(35866,X.__webglTexture))},this.setTexture3D=function(k,D){const X=n.get(k);k.version>0&&X.__version!==k.version?Xe(X,k,D):(t.activeTexture(33984+D),t.bindTexture(32879,X.__webglTexture))},this.setTextureCube=function(k,D){const X=n.get(k);k.version>0&&X.__version!==k.version?function(k,D,X){if(6!==D.image.length)return;const pe=tt(k,D),ve=D.source;if(t.activeTexture(33984+X),t.bindTexture(34067,k.__webglTexture),ve.version!==ve.__currentVersion||!0===pe){i.pixelStorei(37440,D.flipY),i.pixelStorei(37441,D.premultiplyAlpha),i.pixelStorei(3317,D.unpackAlignment),i.pixelStorei(37443,0);const Ie=D.isCompressedTexture||D.image[0].isCompressedTexture,dt=D.image[0]&&D.image[0].isDataTexture,P=[];for(let Q=0;Q<6;Q++)P[Q]=Ie||dt?dt?D.image[Q].image:D.image[Q]:w(D.image[Q],!1,!0,c),P[Q]=rn(D,P[Q]);const ue=P[0],ye=x(ue)||a,Oe=s.convert(D.format,D.encoding),Re=s.convert(D.type),pt=C(D.internalFormat,Oe,Re,D.encoding),jt=a&&!0!==D.isVideoTexture,wn=void 0===ve.__currentVersion||!0===pe;let Ee,N=I(D,ue,ye);if(te(34067,D,ye),Ie){jt&&wn&&t.texStorage2D(34067,N,pt,ue.width,ue.height);for(let Q=0;Q<6;Q++){Ee=P[Q].mipmaps;for(let Be=0;Be<Ee.length;Be++){const Ne=Ee[Be];D.format!==Ur?null!==Oe?jt?t.compressedTexSubImage2D(34069+Q,Be,0,0,Ne.width,Ne.height,Oe,Ne.data):t.compressedTexImage2D(34069+Q,Be,pt,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):jt?t.texSubImage2D(34069+Q,Be,0,0,Ne.width,Ne.height,Oe,Re,Ne.data):t.texImage2D(34069+Q,Be,pt,Ne.width,Ne.height,0,Oe,Re,Ne.data)}}}else{Ee=D.mipmaps,jt&&wn&&(Ee.length>0&&N++,t.texStorage2D(34067,N,pt,P[0].width,P[0].height));for(let Q=0;Q<6;Q++)if(dt){jt?t.texSubImage2D(34069+Q,0,0,0,P[Q].width,P[Q].height,Oe,Re,P[Q].data):t.texImage2D(34069+Q,0,pt,P[Q].width,P[Q].height,0,Oe,Re,P[Q].data);for(let Be=0;Be<Ee.length;Be++){const Qt=Ee[Be].image[Q].image;jt?t.texSubImage2D(34069+Q,Be+1,0,0,Qt.width,Qt.height,Oe,Re,Qt.data):t.texImage2D(34069+Q,Be+1,pt,Qt.width,Qt.height,0,Oe,Re,Qt.data)}}else{jt?t.texSubImage2D(34069+Q,0,0,0,Oe,Re,P[Q]):t.texImage2D(34069+Q,0,pt,Oe,Re,P[Q]);for(let Be=0;Be<Ee.length;Be++){const Ne=Ee[Be];jt?t.texSubImage2D(34069+Q,Be+1,0,0,Oe,Re,Ne.image[Q]):t.texImage2D(34069+Q,Be+1,pt,Oe,Re,Ne.image[Q])}}}E(D,ye)&&O(34067),ve.__currentVersion=ve.version,D.onUpdate&&D.onUpdate(D)}k.__version=D.version}(X,k,D):(t.activeTexture(33984+D),t.bindTexture(34067,X.__webglTexture))},this.rebindTextures=function(k,D,X){const pe=n.get(k);void 0!==D&&we(pe.__webglFramebuffer,k,k.texture,36064,3553),void 0!==X&&ne(k)},this.setupRenderTarget=function(k){const D=k.texture,X=n.get(k),pe=n.get(D);k.addEventListener("dispose",ee),!0!==k.isWebGLMultipleRenderTargets&&(void 0===pe.__webglTexture&&(pe.__webglTexture=i.createTexture()),pe.__version=D.version,o.memory.textures++);const ve=!0===k.isWebGLCubeRenderTarget,Ie=!0===k.isWebGLMultipleRenderTargets,dt=x(k)||a;if(ve){X.__webglFramebuffer=[];for(let P=0;P<6;P++)X.__webglFramebuffer[P]=i.createFramebuffer()}else{if(X.__webglFramebuffer=i.createFramebuffer(),Ie)if(r.drawBuffers){const P=k.texture;for(let ue=0,ye=P.length;ue<ye;ue++){const Oe=n.get(P[ue]);void 0===Oe.__webglTexture&&(Oe.__webglTexture=i.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&k.samples>0&&!1===st(k)){const P=Ie?D:[D];X.__webglMultisampledFramebuffer=i.createFramebuffer(),X.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,X.__webglMultisampledFramebuffer);for(let ue=0;ue<P.length;ue++){const ye=P[ue];X.__webglColorRenderbuffer[ue]=i.createRenderbuffer(),i.bindRenderbuffer(36161,X.__webglColorRenderbuffer[ue]);const Oe=s.convert(ye.format,ye.encoding),Re=s.convert(ye.type),pt=C(ye.internalFormat,Oe,Re,ye.encoding),jt=ut(k);i.renderbufferStorageMultisample(36161,jt,pt,k.width,k.height),i.framebufferRenderbuffer(36160,36064+ue,36161,X.__webglColorRenderbuffer[ue])}i.bindRenderbuffer(36161,null),k.depthBuffer&&(X.__webglDepthRenderbuffer=i.createRenderbuffer(),St(X.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(36160,null)}}if(ve){t.bindTexture(34067,pe.__webglTexture),te(34067,D,dt);for(let P=0;P<6;P++)we(X.__webglFramebuffer[P],k,D,36064,34069+P);E(D,dt)&&O(34067),t.unbindTexture()}else if(Ie){const P=k.texture;for(let ue=0,ye=P.length;ue<ye;ue++){const Oe=P[ue],Re=n.get(Oe);t.bindTexture(3553,Re.__webglTexture),te(3553,Oe,dt),we(X.__webglFramebuffer,k,Oe,36064+ue,3553),E(Oe,dt)&&O(3553)}t.unbindTexture()}else{let P=3553;(k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(a?P=k.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(P,pe.__webglTexture),te(P,D,dt),we(X.__webglFramebuffer,k,D,36064,P),E(D,dt)&&O(P),t.unbindTexture()}k.depthBuffer&&ne(k)},this.updateRenderTargetMipmap=function(k){const D=x(k)||a,X=!0===k.isWebGLMultipleRenderTargets?k.texture:[k.texture];for(let pe=0,ve=X.length;pe<ve;pe++){const Ie=X[pe];if(E(Ie,D)){const dt=k.isWebGLCubeRenderTarget?34067:3553,P=n.get(Ie).__webglTexture;t.bindTexture(dt,P),O(dt),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function(k){if(a&&k.samples>0&&!1===st(k)){const D=k.isWebGLMultipleRenderTargets?k.texture:[k.texture],X=k.width,pe=k.height;let ve=16384;const Ie=[],dt=k.stencilBuffer?33306:36096,P=n.get(k),ue=!0===k.isWebGLMultipleRenderTargets;if(ue)for(let ye=0;ye<D.length;ye++)t.bindFramebuffer(36160,P.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+ye,36161,null),t.bindFramebuffer(36160,P.__webglFramebuffer),i.framebufferTexture2D(36009,36064+ye,3553,null,0);t.bindFramebuffer(36008,P.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,P.__webglFramebuffer);for(let ye=0;ye<D.length;ye++){Ie.push(36064+ye),k.depthBuffer&&Ie.push(dt);const Oe=void 0!==P.__ignoreDepthValues&&P.__ignoreDepthValues;if(!1===Oe&&(k.depthBuffer&&(ve|=256),k.stencilBuffer&&(ve|=1024)),ue&&i.framebufferRenderbuffer(36008,36064,36161,P.__webglColorRenderbuffer[ye]),!0===Oe&&(i.invalidateFramebuffer(36008,[dt]),i.invalidateFramebuffer(36009,[dt])),ue){const Re=n.get(D[ye]).__webglTexture;i.framebufferTexture2D(36009,36064,3553,Re,0)}i.blitFramebuffer(0,0,X,pe,0,0,X,pe,ve,9728),f&&i.invalidateFramebuffer(36008,Ie)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ue)for(let ye=0;ye<D.length;ye++){t.bindFramebuffer(36160,P.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+ye,36161,P.__webglColorRenderbuffer[ye]);const Oe=n.get(D[ye]).__webglTexture;t.bindFramebuffer(36160,P.__webglFramebuffer),i.framebufferTexture2D(36009,36064+ye,3553,Oe,0)}t.bindFramebuffer(36009,P.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=ne,this.setupFrameBufferTexture=we,this.useMultisampledRTT=st}function Hq(i,e,t){const n=t.isWebGL2;return{convert:function(s,o=null){let a;if(s===Ua)return 5121;if(1017===s)return 32819;if(1018===s)return 32820;if(1010===s)return 5120;if(1011===s)return 5122;if(1012===s)return 5123;if(1013===s)return 5124;if(s===Ha)return 5125;if(s===Yo)return 5126;if(s===ch)return n?5131:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===s)return 6406;if(s===Ur)return 6408;if(1024===s)return 6409;if(1025===s)return 6410;if(s===Ga)return 6402;if(s===zc)return 34041;if(1028===s)return 6403;if(1022===s)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===s)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1029===s)return 36244;if(1030===s)return 33319;if(1031===s)return 33320;if(1033===s)return 36249;if(33776===s||33777===s||33778===s||33779===s)if(o===Bn){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===s)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===s)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===s)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===s)return o===Bn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return o===Bn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===s)return o===Bn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return s===Vc?n?34042:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==i[s]?i[s]:null}}}class Gq extends ei{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class hu extends Ci{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Wq={type:"move"};class X0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new hu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new hu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new T,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new T),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new hu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new T,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new T),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,n);if(void 0===c.joints[m.jointName]){const y=new hu;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[m.jointName]=y,c.add(y)}const b=c.joints[m.jointName];null!==g&&(b.matrix.fromArray(g.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.jointRadius=g.radius),b.visible=null!==g}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Wq)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}}class jq extends Vs{constructor(e,t,n,r,s,o,a,l,c,u){if((u=void 0!==u?u:Ga)!==Ga&&u!==zc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Ga&&(n=Ha),void 0===n&&u===zc&&(n=Vc),super(null,r,s,o,a,l,u,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:di,this.minFilter=void 0!==l?l:di,this.flipY=!1,this.generateMipmaps=!1}}class $q extends $a{constructor(e,t){super();const n=this;let r=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,h=null,f=null;const p=t.getContextAttributes();let m=null,g=null;const b=[],y=[],w=new ei;w.layers.enable(1),w.viewport=new nn;const x=new ei;x.layers.enable(2),x.viewport=new nn;const S=[w,x],E=new Gq;E.layers.enable(1),E.layers.enable(2);let O=null,C=null;function I(z){const W=y.indexOf(z.inputSource);if(-1===W)return;const de=b[W];void 0!==de&&de.dispatchEvent({type:z.type,data:z.inputSource})}function L(){r.removeEventListener("select",I),r.removeEventListener("selectstart",I),r.removeEventListener("selectend",I),r.removeEventListener("squeeze",I),r.removeEventListener("squeezestart",I),r.removeEventListener("squeezeend",I),r.removeEventListener("end",L),r.removeEventListener("inputsourceschange",B);for(let z=0;z<b.length;z++){const W=y[z];null!==W&&(y[z]=null,b[z].disconnect(W))}O=null,C=null,e.setRenderTarget(m),h=null,d=null,u=null,r=null,g=null,H.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function B(z){for(let W=0;W<z.removed.length;W++){const de=z.removed[W],ie=y.indexOf(de);ie>=0&&(y[ie]=null,b[ie].dispatchEvent({type:"disconnected",data:de}))}for(let W=0;W<z.added.length;W++){const de=z.added[W];let ie=y.indexOf(de);if(-1===ie){for(let ge=0;ge<b.length;ge++){if(ge>=y.length){y.push(de),ie=ge;break}if(null===y[ge]){y[ge]=de,ie=ge;break}}if(-1===ie)break}const me=b[ie];me&&me.dispatchEvent({type:"connected",data:de})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let W=b[z];return void 0===W&&(W=new X0,b[z]=W),W.getTargetRaySpace()},this.getControllerGrip=function(z){let W=b[z];return void 0===W&&(W=new X0,b[z]=W),W.getGripSpace()},this.getHand=function(z){let W=b[z];return void 0===W&&(W=new X0,b[z]=W),W.getHandSpace()},this.setFramebufferScaleFactor=function(z){s=z,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(z){l=z},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=function(){var z=function(i){return function(){var e=this,t=arguments;return new Promise(function(n,r){var s=i.apply(e,t);function o(l){oI(s,n,r,o,a,"next",l)}function a(l){oI(s,n,r,o,a,"throw",l)}o(void 0)})}}(function*(W){if(r=W,null!==r){if(m=e.getRenderTarget(),r.addEventListener("select",I),r.addEventListener("selectstart",I),r.addEventListener("selectend",I),r.addEventListener("squeeze",I),r.addEventListener("squeezestart",I),r.addEventListener("squeezeend",I),r.addEventListener("end",L),r.addEventListener("inputsourceschange",B),!0!==p.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)h=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:h}),g=new Ya(h.framebufferWidth,h.framebufferHeight,{format:Ur,type:Ua,encoding:e.outputEncoding});else{let de=null,ie=null,me=null;p.depth&&(me=p.stencil?35056:33190,de=p.stencil?zc:Ga,ie=p.stencil?Vc:Ha);const ge={colorFormat:32856,depthFormat:me,scaleFactor:s};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(ge),r.updateRenderState({layers:[d]}),g=new Ya(d.textureWidth,d.textureHeight,{format:Ur,type:Ua,depthTexture:new jq(d.textureWidth,d.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0}),e.properties.get(g).__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=yield r.requestReferenceSpace(a),H.setContext(r),H.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(W){return z.apply(this,arguments)}}();const ee=new T,le=new T;function K(z,W){null===W?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(W.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(null===r)return;E.near=x.near=w.near=z.near,E.far=x.far=w.far=z.far,(O!==E.near||C!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),O=E.near,C=E.far);const W=z.parent,de=E.cameras;K(E,W);for(let me=0;me<de.length;me++)K(de[me],W);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),z.position.copy(E.position),z.quaternion.copy(E.quaternion),z.scale.copy(E.scale),z.matrix.copy(E.matrix),z.matrixWorld.copy(E.matrixWorld);const ie=z.children;for(let me=0,ge=ie.length;me<ge;me++)ie[me].updateMatrixWorld(!0);2===de.length?function(z,W,de){ee.setFromMatrixPosition(W.matrixWorld),le.setFromMatrixPosition(de.matrixWorld);const ie=ee.distanceTo(le),me=W.projectionMatrix.elements,ge=de.projectionMatrix.elements,it=me[14]/(me[10]-1),te=me[14]/(me[10]+1),tt=(me[9]+1)/me[5],Xe=(me[9]-1)/me[5],rt=(me[8]-1)/me[0],we=(ge[8]+1)/ge[0],St=it*rt,se=it*we,ne=ie/(-rt+we),_e=ne*-rt;W.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(_e),z.translateZ(ne),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const We=it+ne,Se=te+ne;z.projectionMatrix.makePerspective(St-_e,se+(ie-_e),tt*te/Se*We,Xe*te/Se*We,We,Se)}(E,w,x):E.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){return null!==d?d.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(z){null!==d&&(d.fixedFoveation=z),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=z)};let F=null;const H=new sP;H.setAnimationLoop(function(z,W){if(c=W.getViewerPose(l||o),f=W,null!==c){const de=c.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let ie=!1;de.length!==E.cameras.length&&(E.cameras.length=0,ie=!0);for(let me=0;me<de.length;me++){const ge=de[me];let it=null;if(null!==h)it=h.getViewport(ge);else{const tt=u.getViewSubImage(d,ge);it=tt.viewport,0===me&&(e.setRenderTargetTextures(g,tt.colorTexture,d.ignoreDepthValues?void 0:tt.depthStencilTexture),e.setRenderTarget(g))}let te=S[me];void 0===te&&(te=new ei,te.layers.enable(me),te.viewport=new nn,S[me]=te),te.matrix.fromArray(ge.transform.matrix),te.projectionMatrix.fromArray(ge.projectionMatrix),te.viewport.set(it.x,it.y,it.width,it.height),0===me&&E.matrix.copy(te.matrix),!0===ie&&E.cameras.push(te)}}for(let de=0;de<b.length;de++){const ie=y[de],me=b[de];null!==ie&&void 0!==me&&me.update(ie,W,l||o)}F&&F(z,W),f=null}),this.setAnimationLoop=function(z){F=z},this.dispose=function(){}}}function qq(i,e){function r(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.bumpMap&&(m.bumpMap.value=g.bumpMap,m.bumpScale.value=g.bumpScale,1===g.side&&(m.bumpScale.value*=-1)),g.displacementMap&&(m.displacementMap.value=g.displacementMap,m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap),g.normalMap&&(m.normalMap.value=g.normalMap,m.normalScale.value.copy(g.normalScale),1===g.side&&m.normalScale.value.negate()),g.specularMap&&(m.specularMap.value=g.specularMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const b=e.get(g).envMap;if(b&&(m.envMap.value=b,m.flipEnvMap.value=b.isCubeTexture&&!1===b.isRenderTargetTexture?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap){m.lightMap.value=g.lightMap;const x=!0!==i.physicallyCorrectLights?Math.PI:1;m.lightMapIntensity.value=g.lightMapIntensity*x}let y,w;g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity),g.map?y=g.map:g.specularMap?y=g.specularMap:g.displacementMap?y=g.displacementMap:g.normalMap?y=g.normalMap:g.bumpMap?y=g.bumpMap:g.roughnessMap?y=g.roughnessMap:g.metalnessMap?y=g.metalnessMap:g.alphaMap?y=g.alphaMap:g.emissiveMap?y=g.emissiveMap:g.clearcoatMap?y=g.clearcoatMap:g.clearcoatNormalMap?y=g.clearcoatNormalMap:g.clearcoatRoughnessMap?y=g.clearcoatRoughnessMap:g.iridescenceMap?y=g.iridescenceMap:g.iridescenceThicknessMap?y=g.iridescenceThicknessMap:g.specularIntensityMap?y=g.specularIntensityMap:g.specularColorMap?y=g.specularColorMap:g.transmissionMap?y=g.transmissionMap:g.thicknessMap?y=g.thicknessMap:g.sheenColorMap?y=g.sheenColorMap:g.sheenRoughnessMap&&(y=g.sheenRoughnessMap),void 0!==y&&(y.isWebGLRenderTarget&&(y=y.texture),!0===y.matrixAutoUpdate&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix)),g.aoMap?w=g.aoMap:g.lightMap&&(w=g.lightMap),void 0!==w&&(w.isWebGLRenderTarget&&(w=w.texture),!0===w.matrixAutoUpdate&&w.updateMatrix(),m.uv2Transform.value.copy(w.matrix))}return{refreshFogUniforms:function(m,g){m.fogColor.value.copy(g.color),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)},refreshMaterialUniforms:function(m,g,b,y,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(m,g):g.isMeshToonMaterial?(r(m,g),function(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}(m,g)):g.isMeshPhongMaterial?(r(m,g),function(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}(m,g)):g.isMeshStandardMaterial?(r(m,g),function(m,g){m.roughness.value=g.roughness,m.metalness.value=g.metalness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap),e.get(g).envMap&&(m.envMapIntensity.value=g.envMapIntensity)}(m,g),g.isMeshPhysicalMaterial&&function(m,g,b){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),m.clearcoatNormalMap.value=g.clearcoatNormalMap,1===g.side&&m.clearcoatNormalScale.value.negate())),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=b.texture,m.transmissionSamplerSize.value.set(b.width,b.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap)}(m,g,w)):g.isMeshMatcapMaterial?(r(m,g),function(m,g){g.matcap&&(m.matcap.value=g.matcap)}(m,g)):g.isMeshDepthMaterial?r(m,g):g.isMeshDistanceMaterial?(r(m,g),function(m,g){m.referencePosition.value.copy(g.referencePosition),m.nearDistance.value=g.nearDistance,m.farDistance.value=g.farDistance}(m,g)):g.isMeshNormalMaterial?r(m,g):g.isLineBasicMaterial?(function(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity}(m,g),g.isLineDashedMaterial&&function(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}(m,g)):g.isPointsMaterial?function(m,g,b,y){let w;m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*b,m.scale.value=.5*y,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest),g.map?w=g.map:g.alphaMap&&(w=g.alphaMap),void 0!==w&&(!0===w.matrixAutoUpdate&&w.updateMatrix(),m.uvTransform.value.copy(w.matrix))}(m,g,b,y):g.isSpriteMaterial?function(m,g){let b;m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest),g.map?b=g.map:g.alphaMap&&(b=g.alphaMap),void 0!==b&&(!0===b.matrixAutoUpdate&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function Xq(i,e,t,n){let r={},s={},o=[];const a=t.isWebGL2?i.getParameter(35375):0;function f(y,w,x){const S=y.value;if(void 0===x[w])return x[w]="number"==typeof S?S:S.clone(),!0;if("number"==typeof S){if(x[w]!==S)return x[w]=S,!0}else{const E=x[w];if(!1===E.equals(S))return E.copy(S),!0}return!1}function m(y){const w=y.value,x={boundary:0,storage:0};return"number"==typeof w?(x.boundary=4,x.storage=4):w.isVector2?(x.boundary=8,x.storage=8):w.isVector3||w.isColor?(x.boundary=16,x.storage=12):w.isVector4?(x.boundary=16,x.storage=16):w.isMatrix3?(x.boundary=48,x.storage=48):w.isMatrix4?(x.boundary=64,x.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),x}function g(y){const w=y.target;w.removeEventListener("dispose",g);const x=o.indexOf(w.__bindingPointIndex);o.splice(x,1),i.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}return{bind:function(y,w){n.uniformBlockBinding(y,w.program)},update:function(y,w){let x=r[y.id];void 0===x&&(function(y){const w=y.uniforms;let x=0;let E=0;for(let O=0,C=w.length;O<C;O++){const I=w[O],L=m(I);if(I.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=x,O>0){E=x%16;const B=16-E;0!==E&&B-L.boundary<0&&(x+=16-E,I.__offset=x)}x+=L.storage}E=x%16,E>0&&(x+=16-E),y.__size=x,y.__cache={}}(y),x=function(y){const w=function(){for(let y=0;y<a;y++)if(-1===o.indexOf(y))return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();y.__bindingPointIndex=w;const x=i.createBuffer(),S=y.__size,E=y.usage;return i.bindBuffer(35345,x),i.bufferData(35345,S,E),i.bindBuffer(35345,null),i.bindBufferBase(35345,w,x),x}(y),r[y.id]=x,y.addEventListener("dispose",g)),n.updateUBOMapping(y,w.program);const E=e.render.frame;s[y.id]!==E&&(function(y){const x=y.uniforms,S=y.__cache;i.bindBuffer(35345,r[y.id]);for(let E=0,O=x.length;E<O;E++){const C=x[E];if(!0===f(C,E,S)){const I=C.value,L=C.__offset;"number"==typeof I?(C.__data[0]=I,i.bufferSubData(35345,L,C.__data)):(C.value.isMatrix3?(C.__data[0]=C.value.elements[0],C.__data[1]=C.value.elements[1],C.__data[2]=C.value.elements[2],C.__data[3]=C.value.elements[0],C.__data[4]=C.value.elements[3],C.__data[5]=C.value.elements[4],C.__data[6]=C.value.elements[5],C.__data[7]=C.value.elements[0],C.__data[8]=C.value.elements[6],C.__data[9]=C.value.elements[7],C.__data[10]=C.value.elements[8],C.__data[11]=C.value.elements[0]):I.toArray(C.__data),i.bufferSubData(35345,L,C.__data))}}i.bindBuffer(35345,null)}(y),s[y.id]=E)},dispose:function(){for(const y in r)i.deleteBuffer(r[y]);o=[],r={},s={}}}}function jm(i={}){this.isWebGLRenderer=!0;const e=void 0!==i.canvas?i.canvas:function(){const i=hh("canvas");return i.style.display="block",i}(),t=void 0!==i.context?i.context:null,n=void 0===i.depth||i.depth,r=void 0===i.stencil||i.stencil,s=void 0!==i.antialias&&i.antialias,o=void 0===i.premultipliedAlpha||i.premultipliedAlpha,a=void 0!==i.preserveDrawingBuffer&&i.preserveDrawingBuffer,l=void 0!==i.powerPreference?i.powerPreference:"default",c=void 0!==i.failIfMajorPerformanceCaveat&&i.failIfMajorPerformanceCaveat;let u;u=null!==t?t.getContextAttributes().alpha:void 0!==i.alpha&&i.alpha;let d=null,h=null;const f=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Wa,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const m=this;let g=!1,b=0,y=0,w=null,x=-1,S=null;const E=new nn,O=new nn;let C=null,I=e.width,L=e.height,B=1,ee=null,le=null;const V=new nn(0,0,I,L),K=new nn(0,0,I,L);let F=!1;const U=new z0;let H=!1,z=!1,W=null;const de=new Et,ie=new J,me=new T,ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function it(){return null===w?B:1}let Xe,rt,we,St,se,ne,_e,We,Se,wt,ut,st,dn,rn,k,D,X,pe,ve,Ie,dt,P,ue,ye,te=t;function tt(R,G){for(let Z=0;Z<R.length;Z++){const oe=e.getContext(R[Z],G);if(null!==oe)return oe}return null}try{const R={alpha:!0,depth:n,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r143"),e.addEventListener("webglcontextlost",pt,!1),e.addEventListener("webglcontextrestored",jt,!1),e.addEventListener("webglcontextcreationerror",wn,!1),null===te){const G=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&G.shift(),te=tt(G,R),null===te)throw tt(G)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===te.getShaderPrecisionFormat&&(te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(R){throw console.error("THREE.WebGLRenderer: "+R.message),R}function Oe(){Xe=new a9(te),rt=new t9(te,Xe,i),Xe.init(rt),P=new Hq(te,Xe,rt),we=new zq(te,Xe,rt),St=new u9,se=new Tq,ne=new Uq(te,Xe,we,se,rt,P,St),_e=new i9(m),We=new o9(m),Se=new Jj(te,rt),ue=new J7(te,Xe,Se,rt),wt=new l9(te,Se,St,ue),ut=new p9(te,wt,Se,St),ve=new f9(te,rt,ne),D=new n9(se),st=new Dq(m,_e,We,Xe,rt,ue,D),dn=new qq(m,se),rn=new Iq,k=new Lq(Xe,rt),pe=new Q7(m,_e,we,ut,u,o),X=new Vq(m,ut,rt),ye=new Xq(te,St,rt,we),Ie=new e9(te,Xe,St,rt),dt=new c9(te,Xe,St,rt),St.programs=st.programs,m.capabilities=rt,m.extensions=Xe,m.properties=se,m.renderLists=rn,m.shadowMap=X,m.state=we,m.info=St}Oe();const Re=new $q(m,te);function pt(R){R.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function jt(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const R=St.autoReset,G=X.enabled,Z=X.autoUpdate,j=X.needsUpdate,oe=X.type;Oe(),St.autoReset=R,X.enabled=G,X.autoUpdate=Z,X.needsUpdate=j,X.type=oe}function wn(R){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",R.statusMessage)}function N(R){const G=R.target;G.removeEventListener("dispose",N),function(R){(function(R){const G=se.get(R).programs;void 0!==G&&(G.forEach(function(Z){st.releaseProgram(Z)}),R.isShaderMaterial&&st.releaseShaderCache(R))})(R),se.remove(R)}(G)}this.xr=Re,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const R=Xe.get("WEBGL_lose_context");R&&R.loseContext()},this.forceContextRestore=function(){const R=Xe.get("WEBGL_lose_context");R&&R.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(R){void 0!==R&&(B=R,this.setSize(I,L,!1))},this.getSize=function(R){return R.set(I,L)},this.setSize=function(R,G,Z){Re.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(I=R,L=G,e.width=Math.floor(R*B),e.height=Math.floor(G*B),!1!==Z&&(e.style.width=R+"px",e.style.height=G+"px"),this.setViewport(0,0,R,G))},this.getDrawingBufferSize=function(R){return R.set(I*B,L*B).floor()},this.setDrawingBufferSize=function(R,G,Z){I=R,L=G,B=Z,e.width=Math.floor(R*Z),e.height=Math.floor(G*Z),this.setViewport(0,0,R,G)},this.getCurrentViewport=function(R){return R.copy(E)},this.getViewport=function(R){return R.copy(V)},this.setViewport=function(R,G,Z,j){R.isVector4?V.set(R.x,R.y,R.z,R.w):V.set(R,G,Z,j),we.viewport(E.copy(V).multiplyScalar(B).floor())},this.getScissor=function(R){return R.copy(K)},this.setScissor=function(R,G,Z,j){R.isVector4?K.set(R.x,R.y,R.z,R.w):K.set(R,G,Z,j),we.scissor(O.copy(K).multiplyScalar(B).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(R){we.setScissorTest(F=R)},this.setOpaqueSort=function(R){ee=R},this.setTransparentSort=function(R){le=R},this.getClearColor=function(R){return R.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(R=!0,G=!0,Z=!0){let j=0;R&&(j|=16384),G&&(j|=256),Z&&(j|=1024),te.clear(j)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",pt,!1),e.removeEventListener("webglcontextrestored",jt,!1),e.removeEventListener("webglcontextcreationerror",wn,!1),rn.dispose(),k.dispose(),se.dispose(),_e.dispose(),We.dispose(),ut.dispose(),ue.dispose(),ye.dispose(),st.dispose(),Re.dispose(),Re.removeEventListener("sessionstart",Qt),Re.removeEventListener("sessionend",vi),W&&(W.dispose(),W=null),Xn.stop()},this.renderBufferDirect=function(R,G,Z,j,oe,gt){null===G&&(G=ge);const It=oe.isMesh&&oe.matrixWorld.determinant()<0,Bt=function(R,G,Z,j,oe){!0!==G.isScene&&(G=ge),ne.resetTextureUnits();const gt=G.fog,Bt=null===w?m.outputEncoding:!0===w.isXRRenderTarget?w.texture.encoding:Wa,kt=(j.isMeshStandardMaterial?We:_e).get(j.envMap||(j.isMeshStandardMaterial?G.environment:null)),cn=!0===j.vertexColors&&!!Z.attributes.color&&4===Z.attributes.color.itemSize,Kt=!!j.normalMap&&!!Z.attributes.tangent,Jt=!!Z.morphAttributes.position,Hn=!!Z.morphAttributes.normal,xl=!!Z.morphAttributes.color,Bu=j.toneMapped?m.toneMapping:0,Vu=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,Xs=void 0!==Vu?Vu.length:0,sn=se.get(j),zu=h.state.lights;!0!==H||!0!==z&&R===S||D.setState(j,R,R===S&&j.id===x);let ni=!1;j.version===sn.__version?(sn.needsLights&&sn.lightsStateVersion!==zu.state.version||sn.outputEncoding!==Bt||oe.isInstancedMesh&&!1===sn.instancing||!oe.isInstancedMesh&&!0===sn.instancing||oe.isSkinnedMesh&&!1===sn.skinning||!oe.isSkinnedMesh&&!0===sn.skinning||sn.envMap!==kt||!0===j.fog&&sn.fog!==gt||void 0!==sn.numClippingPlanes&&(sn.numClippingPlanes!==D.numPlanes||sn.numIntersection!==D.numIntersection)||sn.vertexAlphas!==cn||sn.vertexTangents!==Kt||sn.morphTargets!==Jt||sn.morphNormals!==Hn||sn.morphColors!==xl||sn.toneMapping!==Bu||!0===rt.isWebGL2&&sn.morphTargetsCount!==Xs)&&(ni=!0):(ni=!0,sn.__version=j.version);let Yr=sn.currentProgram;!0===ni&&(Yr=Rw(j,G,oe));let ma=!1,lf=!1,kw=!1;const Xi=Yr.getUniforms(),cf=sn.uniforms;if(we.useProgram(Yr.program)&&(ma=!0,lf=!0,kw=!0),j.id!==x&&(x=j.id,lf=!0),ma||S!==R){if(Xi.setValue(te,"projectionMatrix",R.projectionMatrix),rt.logarithmicDepthBuffer&&Xi.setValue(te,"logDepthBufFC",2/(Math.log(R.far+1)/Math.LN2)),S!==R&&(S=R,lf=!0,kw=!0),j.isShaderMaterial||j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshStandardMaterial||j.envMap){const Mr=Xi.map.cameraPosition;void 0!==Mr&&Mr.setValue(te,me.setFromMatrixPosition(R.matrixWorld))}(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial)&&Xi.setValue(te,"isOrthographic",!0===R.isOrthographicCamera),(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial||j.isShadowMaterial||oe.isSkinnedMesh)&&Xi.setValue(te,"viewMatrix",R.matrixWorldInverse)}if(oe.isSkinnedMesh){Xi.setOptional(te,oe,"bindMatrix"),Xi.setOptional(te,oe,"bindMatrixInverse");const Mr=oe.skeleton;Mr&&(rt.floatVertexTextures?(null===Mr.boneTexture&&Mr.computeBoneTexture(),Xi.setValue(te,"boneTexture",Mr.boneTexture,ne),Xi.setValue(te,"boneTextureSize",Mr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ow=Z.morphAttributes;if((void 0!==Ow.position||void 0!==Ow.normal||void 0!==Ow.color&&!0===rt.isWebGL2)&&ve.update(oe,Z,j,Yr),(lf||sn.receiveShadow!==oe.receiveShadow)&&(sn.receiveShadow=oe.receiveShadow,Xi.setValue(te,"receiveShadow",oe.receiveShadow)),lf&&(Xi.setValue(te,"toneMappingExposure",m.toneMappingExposure),sn.needsLights&&function(R,G){R.ambientLightColor.needsUpdate=G,R.lightProbe.needsUpdate=G,R.directionalLights.needsUpdate=G,R.directionalLightShadows.needsUpdate=G,R.pointLights.needsUpdate=G,R.pointLightShadows.needsUpdate=G,R.spotLights.needsUpdate=G,R.spotLightShadows.needsUpdate=G,R.rectAreaLights.needsUpdate=G,R.hemisphereLights.needsUpdate=G}(cf,kw),gt&&!0===j.fog&&dn.refreshFogUniforms(cf,gt),dn.refreshMaterialUniforms(cf,j,B,L,W),Wm.upload(te,sn.uniformsList,cf,ne)),j.isShaderMaterial&&!0===j.uniformsNeedUpdate&&(Wm.upload(te,sn.uniformsList,cf,ne),j.uniformsNeedUpdate=!1),j.isSpriteMaterial&&Xi.setValue(te,"center",oe.center),Xi.setValue(te,"modelViewMatrix",oe.modelViewMatrix),Xi.setValue(te,"normalMatrix",oe.normalMatrix),Xi.setValue(te,"modelMatrix",oe.matrixWorld),j.isShaderMaterial||j.isRawShaderMaterial){const Mr=j.uniformsGroups;for(let Fw=0,ere=Mr.length;Fw<ere;Fw++)if(rt.isWebGL2){const KO=Mr[Fw];ye.update(KO,Yr),ye.bind(KO,Yr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Yr}(R,G,Z,j,oe);we.setMaterial(j,It);let kt=Z.index;const cn=Z.attributes.position;if(null===kt){if(void 0===cn||0===cn.count)return}else if(0===kt.count)return;let Kt=1;!0===j.wireframe&&(kt=wt.getWireframeAttribute(Z),Kt=2),ue.setup(oe,j,Bt,Z,kt);let Jt,Hn=Ie;null!==kt&&(Jt=Se.get(kt),Hn=dt,Hn.setIndex(Jt));const xl=null!==kt?kt.count:cn.count,Bu=Z.drawRange.start*Kt,Vu=Z.drawRange.count*Kt,Xs=null!==gt?gt.start*Kt:0,sn=null!==gt?gt.count*Kt:1/0,zu=Math.max(Bu,Xs),ni=Math.min(xl,Bu+Vu,Xs+sn)-1,Yr=Math.max(0,ni-zu+1);if(0!==Yr){if(oe.isMesh)!0===j.wireframe?(we.setLineWidth(j.wireframeLinewidth*it()),Hn.setMode(1)):Hn.setMode(4);else if(oe.isLine){let ma=j.linewidth;void 0===ma&&(ma=1),we.setLineWidth(ma*it()),Hn.setMode(oe.isLineSegments?1:oe.isLineLoop?2:3)}else oe.isPoints?Hn.setMode(0):oe.isSprite&&Hn.setMode(4);if(oe.isInstancedMesh)Hn.renderInstances(zu,Yr,oe.count);else if(Z.isInstancedBufferGeometry){const ma=Math.min(Z.instanceCount,Z._maxInstanceCount);Hn.renderInstances(zu,Yr,ma)}else Hn.render(zu,Yr)}},this.compile=function(R,G){h=k.get(R),h.init(),p.push(h),R.traverseVisible(function(Z){Z.isLight&&Z.layers.test(G.layers)&&(h.pushLight(Z),Z.castShadow&&h.pushShadow(Z))}),h.setupLights(m.physicallyCorrectLights),R.traverse(function(Z){const j=Z.material;if(j)if(Array.isArray(j))for(let oe=0;oe<j.length;oe++)Rw(j[oe],R,Z);else Rw(j,R,Z)}),p.pop(),h=null};let Be=null;function Qt(){Xn.stop()}function vi(){Xn.start()}const Xn=new sP;function pa(R,G,Z,j){if(!1===R.visible)return;if(R.layers.test(G.layers))if(R.isGroup)Z=R.renderOrder;else if(R.isLOD)!0===R.autoUpdate&&R.update(G);else if(R.isLight)h.pushLight(R),R.castShadow&&h.pushShadow(R);else if(R.isSprite){if(!R.frustumCulled||U.intersectsSprite(R)){j&&me.setFromMatrixPosition(R.matrixWorld).applyMatrix4(de);const It=ut.update(R),Bt=R.material;Bt.visible&&d.push(R,It,Bt,Z,me.z,null)}}else if((R.isMesh||R.isLine||R.isPoints)&&(R.isSkinnedMesh&&R.skeleton.frame!==St.render.frame&&(R.skeleton.update(),R.skeleton.frame=St.render.frame),!R.frustumCulled||U.intersectsObject(R))){j&&me.setFromMatrixPosition(R.matrixWorld).applyMatrix4(de);const It=ut.update(R),Bt=R.material;if(Array.isArray(Bt)){const kt=It.groups;for(let cn=0,Kt=kt.length;cn<Kt;cn++){const Jt=kt[cn],Hn=Bt[Jt.materialIndex];Hn&&Hn.visible&&d.push(R,It,Hn,Z,me.z,Jt)}}else Bt.visible&&d.push(R,It,Bt,Z,me.z,null)}const gt=R.children;for(let It=0,Bt=gt.length;It<Bt;It++)pa(gt[It],G,Z,j)}function Un(R,G,Z,j){const oe=R.opaque,gt=R.transmissive,It=R.transparent;h.setupLightsView(Z),gt.length>0&&function(R,G,Z){const j=rt.isWebGL2;null===W&&(W=new Ya(1,1,{generateMipmaps:!0,type:Xe.has("EXT_color_buffer_half_float")?ch:Ua,minFilter:1008,samples:j&&!0===s?4:0})),m.getDrawingBufferSize(ie),j?W.setSize(ie.x,ie.y):W.setSize(ym(ie.x),ym(ie.y));const oe=m.getRenderTarget();m.setRenderTarget(W),m.clear();const gt=m.toneMapping;m.toneMapping=0,Xr(R,G,Z),m.toneMapping=gt,ne.updateMultisampleRenderTarget(W),ne.updateRenderTargetMipmap(W),m.setRenderTarget(oe)}(oe,G,Z),j&&we.viewport(E.copy(j)),oe.length>0&&Xr(oe,G,Z),gt.length>0&&Xr(gt,G,Z),It.length>0&&Xr(It,G,Z),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Xr(R,G,Z){const j=!0===G.isScene?G.overrideMaterial:null;for(let oe=0,gt=R.length;oe<gt;oe++){const It=R[oe],Bt=It.object,kt=It.geometry,cn=null===j?It.material:j,Kt=It.group;Bt.layers.test(Z.layers)&&Zie(Bt,G,Z,kt,cn,Kt)}}function Zie(R,G,Z,j,oe,gt){R.onBeforeRender(m,G,Z,j,oe,gt),R.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,R.matrixWorld),R.normalMatrix.getNormalMatrix(R.modelViewMatrix),oe.onBeforeRender(m,G,Z,j,R,gt),!0===oe.transparent&&2===oe.side?(oe.side=1,oe.needsUpdate=!0,m.renderBufferDirect(Z,G,j,oe,R,gt),oe.side=0,oe.needsUpdate=!0,m.renderBufferDirect(Z,G,j,oe,R,gt),oe.side=2):m.renderBufferDirect(Z,G,j,oe,R,gt),R.onAfterRender(m,G,Z,j,oe,gt)}function Rw(R,G,Z){!0!==G.isScene&&(G=ge);const j=se.get(R),oe=h.state.lights,It=oe.state.version,Bt=st.getParameters(R,oe.state,h.state.shadowsArray,G,Z),kt=st.getProgramCacheKey(Bt);let cn=j.programs;j.environment=R.isMeshStandardMaterial?G.environment:null,j.fog=G.fog,j.envMap=(R.isMeshStandardMaterial?We:_e).get(R.envMap||j.environment),void 0===cn&&(R.addEventListener("dispose",N),cn=new Map,j.programs=cn);let Kt=cn.get(kt);if(void 0!==Kt){if(j.currentProgram===Kt&&j.lightsStateVersion===It)return ZO(R,Bt),Kt}else Bt.uniforms=st.getUniforms(R),R.onBuild(Z,Bt,m),R.onBeforeCompile(Bt,m),Kt=st.acquireProgram(Bt,kt),cn.set(kt,Kt),j.uniforms=Bt.uniforms;const Jt=j.uniforms;(!R.isShaderMaterial&&!R.isRawShaderMaterial||!0===R.clipping)&&(Jt.clippingPlanes=D.uniform),ZO(R,Bt),j.needsLights=function(R){return R.isMeshLambertMaterial||R.isMeshToonMaterial||R.isMeshPhongMaterial||R.isMeshStandardMaterial||R.isShadowMaterial||R.isShaderMaterial&&!0===R.lights}(R),j.lightsStateVersion=It,j.needsLights&&(Jt.ambientLightColor.value=oe.state.ambient,Jt.lightProbe.value=oe.state.probe,Jt.directionalLights.value=oe.state.directional,Jt.directionalLightShadows.value=oe.state.directionalShadow,Jt.spotLights.value=oe.state.spot,Jt.spotLightShadows.value=oe.state.spotShadow,Jt.rectAreaLights.value=oe.state.rectArea,Jt.ltc_1.value=oe.state.rectAreaLTC1,Jt.ltc_2.value=oe.state.rectAreaLTC2,Jt.pointLights.value=oe.state.point,Jt.pointLightShadows.value=oe.state.pointShadow,Jt.hemisphereLights.value=oe.state.hemi,Jt.directionalShadowMap.value=oe.state.directionalShadowMap,Jt.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,Jt.spotShadowMap.value=oe.state.spotShadowMap,Jt.spotShadowMatrix.value=oe.state.spotShadowMatrix,Jt.pointShadowMap.value=oe.state.pointShadowMap,Jt.pointShadowMatrix.value=oe.state.pointShadowMatrix);const Hn=Kt.getUniforms(),xl=Wm.seqWithValue(Hn.seq,Jt);return j.currentProgram=Kt,j.uniformsList=xl,Kt}function ZO(R,G){const Z=se.get(R);Z.outputEncoding=G.outputEncoding,Z.instancing=G.instancing,Z.skinning=G.skinning,Z.morphTargets=G.morphTargets,Z.morphNormals=G.morphNormals,Z.morphColors=G.morphColors,Z.morphTargetsCount=G.morphTargetsCount,Z.numClippingPlanes=G.numClippingPlanes,Z.numIntersection=G.numClipIntersection,Z.vertexAlphas=G.vertexAlphas,Z.vertexTangents=G.vertexTangents,Z.toneMapping=G.toneMapping}Xn.setAnimationLoop(function(R){Be&&Be(R)}),"undefined"!=typeof self&&Xn.setContext(self),this.setAnimationLoop=function(R){Be=R,Re.setAnimationLoop(R),null===R?Xn.stop():Xn.start()},Re.addEventListener("sessionstart",Qt),Re.addEventListener("sessionend",vi),this.render=function(R,G){if(void 0===G||!0===G.isCamera){if(!0!==g){if(!0===R.autoUpdate&&R.updateMatrixWorld(),null===G.parent&&G.updateMatrixWorld(),!0===Re.enabled&&!0===Re.isPresenting&&(!0===Re.cameraAutoUpdate&&Re.updateCamera(G),G=Re.getCamera()),!0===R.isScene&&R.onBeforeRender(m,R,G,w),h=k.get(R,p.length),h.init(),p.push(h),de.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse),U.setFromProjectionMatrix(de),z=this.localClippingEnabled,H=D.init(this.clippingPlanes,z,G),d=rn.get(R,f.length),d.init(),f.push(d),pa(R,G,0,m.sortObjects),d.finish(),!0===m.sortObjects&&d.sort(ee,le),!0===H&&D.beginShadows(),X.render(h.state.shadowsArray,R,G),!0===H&&D.endShadows(),!0===this.info.autoReset&&this.info.reset(),pe.render(d,R),h.setupLights(m.physicallyCorrectLights),G.isArrayCamera){const j=G.cameras;for(let oe=0,gt=j.length;oe<gt;oe++){const It=j[oe];Un(d,R,It,It.viewport)}}else Un(d,R,G);null!==w&&(ne.updateMultisampleRenderTarget(w),ne.updateRenderTargetMipmap(w)),!0===R.isScene&&R.onAfterRender(m,R,G),ue.resetDefaultState(),x=-1,S=null,p.pop(),h=p.length>0?p[p.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(R,G,Z){se.get(R.texture).__webglTexture=G,se.get(R.depthTexture).__webglTexture=Z;const j=se.get(R);j.__hasExternalTextures=!0,j.__hasExternalTextures&&(j.__autoAllocateDepthBuffer=void 0===Z,j.__autoAllocateDepthBuffer||!0===Xe.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),j.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(R,G){const Z=se.get(R);Z.__webglFramebuffer=G,Z.__useDefaultFramebuffer=void 0===G},this.setRenderTarget=function(R,G=0,Z=0){w=R,b=G,y=Z;let j=!0;if(R){const kt=se.get(R);void 0!==kt.__useDefaultFramebuffer?(we.bindFramebuffer(36160,null),j=!1):void 0===kt.__webglFramebuffer?ne.setupRenderTarget(R):kt.__hasExternalTextures&&ne.rebindTextures(R,se.get(R.texture).__webglTexture,se.get(R.depthTexture).__webglTexture)}let oe=null,gt=!1,It=!1;if(R){const kt=R.texture;(kt.isData3DTexture||kt.isDataArrayTexture)&&(It=!0);const cn=se.get(R).__webglFramebuffer;R.isWebGLCubeRenderTarget?(oe=cn[G],gt=!0):oe=rt.isWebGL2&&R.samples>0&&!1===ne.useMultisampledRTT(R)?se.get(R).__webglMultisampledFramebuffer:cn,E.copy(R.viewport),O.copy(R.scissor),C=R.scissorTest}else E.copy(V).multiplyScalar(B).floor(),O.copy(K).multiplyScalar(B).floor(),C=F;if(we.bindFramebuffer(36160,oe)&&rt.drawBuffers&&j&&we.drawBuffers(R,oe),we.viewport(E),we.scissor(O),we.setScissorTest(C),gt){const kt=se.get(R.texture);te.framebufferTexture2D(36160,36064,34069+G,kt.__webglTexture,Z)}else if(It){const kt=se.get(R.texture);te.framebufferTextureLayer(36160,36064,kt.__webglTexture,Z||0,G||0)}x=-1},this.readRenderTargetPixels=function(R,G,Z,j,oe,gt,It){if(!R||!R.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Bt=se.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget&&void 0!==It&&(Bt=Bt[It]),Bt){we.bindFramebuffer(36160,Bt);try{const kt=R.texture,cn=kt.format,Kt=kt.type;if(cn!==Ur&&P.convert(cn)!==te.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Jt=Kt===ch&&(Xe.has("EXT_color_buffer_half_float")||rt.isWebGL2&&Xe.has("EXT_color_buffer_float"));if(!(Kt===Ua||P.convert(Kt)===te.getParameter(35738)||Kt===Yo&&(rt.isWebGL2||Xe.has("OES_texture_float")||Xe.has("WEBGL_color_buffer_float"))||Jt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");G>=0&&G<=R.width-j&&Z>=0&&Z<=R.height-oe&&te.readPixels(G,Z,j,oe,P.convert(cn),P.convert(Kt),gt)}finally{const kt=null!==w?se.get(w).__webglFramebuffer:null;we.bindFramebuffer(36160,kt)}}},this.copyFramebufferToTexture=function(R,G,Z=0){const j=Math.pow(2,-Z),oe=Math.floor(G.image.width*j),gt=Math.floor(G.image.height*j);ne.setTexture2D(G,0),te.copyTexSubImage2D(3553,Z,0,0,R.x,R.y,oe,gt),we.unbindTexture()},this.copyTextureToTexture=function(R,G,Z,j=0){const oe=G.image.width,gt=G.image.height,It=P.convert(Z.format),Bt=P.convert(Z.type);ne.setTexture2D(Z,0),te.pixelStorei(37440,Z.flipY),te.pixelStorei(37441,Z.premultiplyAlpha),te.pixelStorei(3317,Z.unpackAlignment),G.isDataTexture?te.texSubImage2D(3553,j,R.x,R.y,oe,gt,It,Bt,G.image.data):G.isCompressedTexture?te.compressedTexSubImage2D(3553,j,R.x,R.y,G.mipmaps[0].width,G.mipmaps[0].height,It,G.mipmaps[0].data):te.texSubImage2D(3553,j,R.x,R.y,It,Bt,G.image),0===j&&Z.generateMipmaps&&te.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(R,G,Z,j,oe=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const gt=R.max.x-R.min.x+1,It=R.max.y-R.min.y+1,Bt=R.max.z-R.min.z+1,kt=P.convert(j.format),cn=P.convert(j.type);let Kt;if(j.isData3DTexture)ne.setTexture3D(j,0),Kt=32879;else{if(!j.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ne.setTexture2DArray(j,0),Kt=35866}te.pixelStorei(37440,j.flipY),te.pixelStorei(37441,j.premultiplyAlpha),te.pixelStorei(3317,j.unpackAlignment);const Jt=te.getParameter(3314),Hn=te.getParameter(32878),xl=te.getParameter(3316),Bu=te.getParameter(3315),Vu=te.getParameter(32877),Xs=Z.isCompressedTexture?Z.mipmaps[0]:Z.image;te.pixelStorei(3314,Xs.width),te.pixelStorei(32878,Xs.height),te.pixelStorei(3316,R.min.x),te.pixelStorei(3315,R.min.y),te.pixelStorei(32877,R.min.z),Z.isDataTexture||Z.isData3DTexture?te.texSubImage3D(Kt,oe,G.x,G.y,G.z,gt,It,Bt,kt,cn,Xs.data):Z.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),te.compressedTexSubImage3D(Kt,oe,G.x,G.y,G.z,gt,It,Bt,kt,Xs.data)):te.texSubImage3D(Kt,oe,G.x,G.y,G.z,gt,It,Bt,kt,cn,Xs),te.pixelStorei(3314,Jt),te.pixelStorei(32878,Hn),te.pixelStorei(3316,xl),te.pixelStorei(3315,Bu),te.pixelStorei(32877,Vu),0===oe&&j.generateMipmaps&&te.generateMipmap(Kt),we.unbindTexture()},this.initTexture=function(R){R.isCubeTexture?ne.setTextureCube(R,0):R.isData3DTexture?ne.setTexture3D(R,0):R.isDataArrayTexture?ne.setTexture2DArray(R,0):ne.setTexture2D(R,0),we.unbindTexture()},this.resetState=function(){b=0,y=0,w=null,we.reset(),ue.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class extends jm{}).prototype.isWebGL1Renderer=!0;class fu extends Ci{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}class ra extends Vn{constructor(e,t,n,r=1){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}class sa extends Nt{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],o=[];function l(y,w,x,S){const E=S+1,O=[];for(let C=0;C<=E;C++){O[C]=[];const I=y.clone().lerp(x,C/E),L=w.clone().lerp(x,C/E),B=E-C;for(let ee=0;ee<=B;ee++)O[C][ee]=0===ee&&C===E?I:I.clone().lerp(L,ee/B)}for(let C=0;C<E;C++)for(let I=0;I<2*(E-C)-1;I++){const L=Math.floor(I/2);I%2==0?(h(O[C][L+1]),h(O[C+1][L]),h(O[C][L])):(h(O[C][L+1]),h(O[C+1][L+1]),h(O[C+1][L]))}}function h(y){s.push(y.x,y.y,y.z)}function f(y,w){const x=3*y;w.x=e[x+0],w.y=e[x+1],w.z=e[x+2]}function m(y,w,x,S){S<0&&1===y.x&&(o[w]=y.x-1),0===x.x&&0===x.z&&(o[w]=S/2/Math.PI+.5)}function g(y){return Math.atan2(y.z,-y.x)}function b(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}(function(y){const w=new T,x=new T,S=new T;for(let E=0;E<t.length;E+=3)f(t[E+0],w),f(t[E+1],x),f(t[E+2],S),l(w,x,S,y)})(r),function(y){const w=new T;for(let x=0;x<s.length;x+=3)w.x=s[x+0],w.y=s[x+1],w.z=s[x+2],w.normalize().multiplyScalar(y),s[x+0]=w.x,s[x+1]=w.y,s[x+2]=w.z}(n),function(){const y=new T;for(let w=0;w<s.length;w+=3){y.x=s[w+0],y.y=s[w+1],y.z=s[w+2];const x=g(y)/2/Math.PI+.5,S=b(y)/Math.PI+.5;o.push(x,1-S)}(function(){const y=new T,w=new T,x=new T,S=new T,E=new J,O=new J,C=new J;for(let I=0,L=0;I<s.length;I+=9,L+=6){y.set(s[I+0],s[I+1],s[I+2]),w.set(s[I+3],s[I+4],s[I+5]),x.set(s[I+6],s[I+7],s[I+8]),E.set(o[L+0],o[L+1]),O.set(o[L+2],o[L+3]),C.set(o[L+4],o[L+5]),S.copy(y).add(w).add(x).divideScalar(3);const B=g(S);m(E,L+0,y,B),m(O,L+2,w,B),m(C,L+4,x,B)}})(),function(){for(let y=0;y<o.length;y+=6){const w=o[y+0],x=o[y+2],S=o[y+4],E=Math.max(w,x,S),O=Math.min(w,x,S);E>.9&&O<.1&&(w<.2&&(o[y+0]+=1),x<.2&&(o[y+2]+=1),S<.2&&(o[y+4]+=1))}}()}(),this.setAttribute("position",new $e(s,3)),this.setAttribute("normal",new $e(s.slice(),3)),this.setAttribute("uv",new $e(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new sa(e.vertices,e.indices,e.radius,e.details)}}class wu extends sa{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wu(e.radius,e.detail)}}class _R extends zs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class dx extends nu{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new J(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Gr(i,e,t){return hx(i)?new i.constructor(i.subarray(e,void 0!==t?t:i.length)):i.slice(e,t)}function rl(i,e,t){return!i||!t&&i.constructor===e?i:"number"==typeof e.BYTES_PER_ELEMENT?new e(i):Array.prototype.slice.call(i)}function hx(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}class xg{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(n=2,s=a);for(let l=n-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=s,s=t[--n-1],e>=s)break t}o=n,n=0}}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(r=t[n],s=t[n-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ZX extends xg{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-n;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=n}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*n-t;break;case 2402:o=1,l=n+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(n-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(n-t)/(r-t),m=p*p,g=m*p,b=-h*g+2*h*m-h*p,y=(1+h)*g+(-1.5-2*h)*m+(-.5+h)*p+1,w=(-1-f)*g+(1.5+f)*m+.5*p,x=f*g-f*m;for(let S=0;S!==a;++S)s[S]=b*o[u+S]+y*o[c+S]+w*o[l+S]+x*o[d+S];return s}}class yR extends xg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(n-t)/(r-t),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class KX extends xg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gs{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=rl(t,this.TimeBufferType),this.values=rl(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:rl(e.times,Array),values:rl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new KX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new yR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ZX(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<e;)++s;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Gr(n,s,o),this.values=Gr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=n[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==r&&hx(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Gr(this.times),t=Gr(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(r)l=!0;else{const d=a*n,h=d-n,f=d+n;for(let p=0;p!==n;++p){const m=t[d+p];if(m!==t[h+p]||m!==t[f+p]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*n,h=o*n;for(let f=0;f!==n;++f)t[h+f]=t[d+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Gr(e,0,o),this.values=Gr(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=Gr(this.times,0),t=Gr(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Gs.prototype.TimeBufferType=Float32Array,Gs.prototype.ValueBufferType=Float32Array,Gs.prototype.DefaultInterpolation=2301;class Mu extends Gs{}Mu.prototype.ValueTypeName="bool",Mu.prototype.ValueBufferType=Array,Mu.prototype.DefaultInterpolation=2300,Mu.prototype.InterpolantFactoryMethodLinear=void 0,Mu.prototype.InterpolantFactoryMethodSmooth=void 0;(class extends Gs{}).prototype.ValueTypeName="color";(class extends Gs{}).prototype.ValueTypeName="number";class QX extends xg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Qn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Ih extends Gs{InterpolantFactoryMethodLinear(e){return new QX(this.times,this.values,this.getValueSize(),e)}}Ih.prototype.ValueTypeName="quaternion",Ih.prototype.DefaultInterpolation=2301,Ih.prototype.InterpolantFactoryMethodSmooth=void 0;class Cu extends Gs{}Cu.prototype.ValueTypeName="string",Cu.prototype.ValueBufferType=Array,Cu.prototype.DefaultInterpolation=2300,Cu.prototype.InterpolantFactoryMethodLinear=void 0,Cu.prototype.InterpolantFactoryMethodSmooth=void 0;(class extends Gs{}).prototype.ValueTypeName="vector";const Su={enabled:!1,files:{},add:function(i,e){!1!==this.enabled&&(this.files[i]=e)},get:function(i){if(!1!==this.enabled)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class xR{constructor(e,t,n){const r=this;let l,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return-1!==d&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],p=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return p}return null}}}const tY=new xR;class wR{constructor(e){this.manager=void 0!==e?e:tY,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Error;class Sg extends wR{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Su.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=hh("img");function l(){u(),Su.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Eu extends wR{constructor(e){super(e)}load(e,t,n,r){const s=new Vs,o=new Sg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},n,r),s}}class iY extends Ci{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const MR=new Et,CR=new T,SR=new T,ER=new Et,Ph=new T,mx=new T;class lY extends class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new J(512,512),this.map=null,this.mapPass=null,this.matrix=new Et,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new z0,this._frameExtents=new J(1,1),this._viewportCount=1,this._viewports=[new nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;CR.setFromMatrixPosition(e.matrixWorld),t.position.copy(CR),SR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(SR),t.updateMatrixWorld(),MR.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(MR),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}{constructor(){super(new ei(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new J(4,2),this._viewportCount=6,this._viewports=[new nn(2,1,1,1),new nn(0,1,1,1),new nn(3,1,1,1),new nn(1,1,1,1),new nn(3,0,1,1),new nn(1,0,1,1)],this._cubeDirections=[new T(1,0,0),new T(-1,0,0),new T(0,0,1),new T(0,0,-1),new T(0,1,0),new T(0,-1,0)],this._cubeUps=[new T(0,1,0),new T(0,1,0),new T(0,1,0),new T(0,1,0),new T(0,0,1),new T(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),Ph.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ph),mx.copy(n.position),mx.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(mx),n.updateMatrixWorld(),r.makeTranslation(-Ph.x,-Ph.y,-Ph.z),ER.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ER)}}class DR extends iY{constructor(e,t,n=0,r=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new lY}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class AR extends Nt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class FR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=LR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=LR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function LR(){return("undefined"==typeof performance?Date:performance).now()}const _x="\\[\\]\\.:\\/",bY=new RegExp("["+_x+"]","g"),vx="[^"+_x+"]",xY="[^"+_x.replace("\\.","")+"]",EY=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",vx)+/(WCOD+)?/.source.replace("WCOD",xY)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",vx)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",vx)+"$"),DY=["material","materials","bones"];class TY{constructor(e,t,n){const r=n||yn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}let yn=(()=>{class i{constructor(t,n,r){this.path=n,this.parsedPath=r||i.parseTrackName(n),this.node=i.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,n,r){return t&&t.isAnimationObjectGroup?new i.Composite(t,n,r):new i(t,n,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(bY,"")}static parseTrackName(t){const n=EY.exec(t);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==DY.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,n){if(void 0===n||""===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(n);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,n){t[n]=this.targetObject[this.propertyName]}_getValue_array(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[n++]=r[s]}_getValue_arrayElement(t,n){t[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,n){this.resolvedProperty.toArray(t,n)}_setValue_direct(t,n){this.targetObject[this.propertyName]=t[n]}_setValue_direct_setNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++]}_setValue_array_setNeedsUpdate(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,n){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,n){this.resolvedProperty[this.propertyIndex]=t[n]}_setValue_arrayElement_setNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,n){this.resolvedProperty.fromArray(t,n)}_setValue_fromArray_setNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,n){this.bind(),this.getValue(t,n)}_setValue_unbound(t,n){this.bind(),this.setValue(t,n)}bind(){let t=this.node;const n=this.parsedPath,r=n.objectName,s=n.propertyName;let o=n.propertyIndex;if(t||(t=i.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=TY,i})();yn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},yn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},yn.prototype.GetterByBindingType=[yn.prototype._getValue_direct,yn.prototype._getValue_array,yn.prototype._getValue_arrayElement,yn.prototype._getValue_toArray],yn.prototype.SetterByBindingTypeAndVersioning=[[yn.prototype._setValue_direct,yn.prototype._setValue_direct_setNeedsUpdate,yn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_array,yn.prototype._setValue_array_setNeedsUpdate,yn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_arrayElement,yn.prototype._setValue_arrayElement_setNeedsUpdate,yn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_fromArray,yn.prototype._setValue_fromArray_setNeedsUpdate,yn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class RY{constructor(e,t,n=0,r=1/0){this.ray=new Tm(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new D0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return yx(e,this,n,t),n.sort(zR),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)yx(e[r],this,n,t);return n.sort(zR),n}}function zR(i,e){return i.distance-e.distance}function yx(i,e,t,n){if(i.layers.test(e.layers)&&i.raycast(e,t),!0===n){const r=i.children;for(let s=0,o=r.length;s<o;s++)yx(r[s],e,t,!0)}}class UR{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos($n(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}var Fi;"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"143"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="143");class NY{constructor(){this.size=64,this.maxAge=120,this.radius=.15,this.trail=new Array,this.initTexture()}initTexture(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=this.size,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.texture=new Vs(this.canvas),this.canvas.id="touchTexture",this.canvas.style.width=this.canvas.style.height=`${this.canvas.width}px`}update(){this.clear(),this.trail.forEach((e,t)=>{e.age++,e.age>this.maxAge&&this.trail.splice(t,1)}),this.trail.forEach((e,t)=>{this.drawTouch(e)}),this.texture.needsUpdate=!0}clear(){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}addTouch(e,t){let n=0;const r=this.trail[this.trail.length-1];if(r){const s=r.x-e,o=r.y-t;n=Math.min(1e4*(s*s+o*o),1)}this.trail.push({x:e,y:t,age:0,force:n})}drawTouch(e){const t={x:e.x*this.size,y:(1-e.y)*this.size};let n=1;n=this.easeOutSine(e.age<.3*this.maxAge?e.age/(.3*this.maxAge):1-(e.age-.3*this.maxAge)/(.7*this.maxAge),0,1,1),n*=e.force;const r=this.size*this.radius*n,s=this.ctx.createRadialGradient(t.x,t.y,.25*r,t.x,t.y,r);s.addColorStop(0,"rgba(255, 255, 255, 0.2)"),s.addColorStop(1,"rgba(0, 0, 0, 0.0)"),this.ctx.beginPath(),this.ctx.fillStyle=s,this.ctx.arc(t.x,t.y,r,0,2*Math.PI),this.ctx.fill()}easeOutSine(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t}}class BY{constructor(){this.particleVertex="\n    // @author brunoimbrizi / http://brunoimbrizi.com\n\n    precision highp float;\n    #define GLSLIFY 1\n\n    attribute float pindex;\n    attribute vec3 position;\n    attribute vec3 offset;\n    attribute vec2 uv;\n    attribute float angle;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    uniform float uTime;\n    uniform float uRandom;\n    uniform float uDepth;\n    uniform float uSize;\n    uniform vec2 uTextureSize;\n    uniform sampler2D uTexture;\n    uniform sampler2D uTouch;\n\n    varying vec2 vPUv;\n    varying vec2 vUv;\n\n    //\n    // Description : Array and textureless GLSL 2D simplex noise function.\n    //      Author : Ian McEwan, Ashima Arts.\n    //  Maintainer : ijm\n    //     Lastmod : 20110822 (ijm)\n    //     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n    //               Distributed under the MIT License. See LICENSE file.\n    //               https://github.com/ashima/webgl-noise\n    //\n\n    vec3 mod289_1_0(vec3 x) {\n      return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n\n    vec2 mod289_1_0(vec2 x) {\n      return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n\n    vec3 permute_1_1(vec3 x) {\n      return mod289_1_0(((x*34.0)+1.0)*x);\n    }\n\n    float snoise_1_2(vec2 v)\n      {\n      const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                          0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                         -0.577350269189626,  // -1.0 + 2.0 * C.x\n                          0.024390243902439); // 1.0 / 41.0\n    // First corner\n      vec2 i  = floor(v + dot(v, C.yy) );\n      vec2 x0 = v -   i + dot(i, C.xx);\n\n    // Other corners\n      vec2 i1;\n      //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n      //i1.y = 1.0 - i1.x;\n      i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n      // x0 = x0 - 0.0 + 0.0 * C.xx ;\n      // x1 = x0 - i1 + 1.0 * C.xx ;\n      // x2 = x0 - 1.0 + 2.0 * C.xx ;\n      vec4 x12 = x0.xyxy + C.xxzz;\n      x12.xy -= i1;\n\n     // Permutations\n      i = mod289_1_0(i); // Avoid truncation effects in permutation\n      vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n        + i.x + vec3(0.0, i1.x, 1.0 ));\n\n      vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n      m = m*m ;\n      m = m*m ;\n\n    // Gradients: 41 points uniformly over a line, mapped onto a diamond.\n    // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n      vec3 x = 2.0 * fract(p * C.www) - 1.0;\n      vec3 h = abs(x) - 0.5;\n      vec3 ox = floor(x + 0.5);\n      vec3 a0 = x - ox;\n\n    // Normalise gradients implicitly by scaling m\n    // Approximation of: m *= inversesqrt( a0*a0 + h*h );\n      m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n    // Compute final noise value at P\n      vec3 g;\n      g.x  = a0.x  * x0.x  + h.x  * x0.y;\n      g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n      return 130.0 * dot(m, g);\n    }\n\n    float random(float n) {\n      return fract(sin(n) * 43758.5453123);\n    }\n\n    void main() {\n      vUv = uv;\n\n      // particle uv\n      vec2 puv = offset.xy / uTextureSize;\n      vPUv = puv;\n\n      // pixel color\n      vec4 colA = texture2D(uTexture, puv);\n      float grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\n\n      // displacement\n      vec3 displaced = offset;\n      // randomise\n      displaced.xy += vec2(random(pindex) - 0.5, random(offset.x + pindex) - 0.5) * uRandom;\n      float rndz = (random(pindex) + snoise_1_2(vec2(pindex * 0.1, uTime * 0.1)));\n      displaced.z += rndz * (random(pindex) * 2.0 * uDepth);\n      // center\n      displaced.xy -= uTextureSize * 0.5;\n\n      // touch\n      float t = texture2D(uTouch, puv).r;\n      displaced.z += t * 20.0 * rndz;\n      displaced.x += cos(angle) * t * 20.0 * rndz;\n      displaced.y += sin(angle) * t * 20.0 * rndz;\n\n      // particle size\n      float psize = (snoise_1_2(vec2(uTime, pindex) * 0.5) + 2.0);\n      psize *= max(grey, 0.2);\n      psize *= uSize;\n\n      // final position\n      vec4 mvPosition = modelViewMatrix * vec4(displaced, 1.0);\n      mvPosition.xyz += position * psize;\n      vec4 finalPosition = projectionMatrix * mvPosition;\n\n      gl_Position = finalPosition;\n    }\n    ",this.particleFragment="\n    // @author brunoimbrizi / http://brunoimbrizi.com\n\n    precision highp float;\n    #define GLSLIFY 1\n\n    uniform sampler2D uTexture;\n\n    varying vec2 vPUv;\n    varying vec2 vUv;\n\n    void main() {\n      vec4 color = vec4(0.0);\n      vec2 uv = vUv;\n      vec2 puv = vPUv;\n\n      // pixel color\n      vec4 colA = texture2D(uTexture, puv);\n\n      // greyscale\n      float grey = colA.r * 0.21 + colA.g * 0.71 + colA.b * 0.07;\n      //vec4 colB = vec4(grey, grey, grey, 1.0);\n      vec4 colB = vec4(colA.r, colA.g, colA.b, 1.0);\n\n      // circle\n      float border = 0.3;\n      float radius = 0.5;\n      float dist = radius - distance(uv, vec2(0.5));\n      float t = smoothstep(0.0, border, dist);\n\n      // final color\n      color = colB;\n      color.a = t;\n\n      gl_FragColor = color;\n    }\n    "}}!function(i){i.createTween=function(r,s,o,a,l){return new Le(c=>{let u;const d=h=>{u=u||h;const f=h-u;if(f<a){if(Array.isArray(s)&&Array.isArray(o)){const p=new Array;for(let m=0;m<s.length;m++)p.push(r(f,s[m],o[m],a,l));c.next(p)}else c.next(r(f,s,o,a,l));requestAnimationFrame(d)}else{if(Array.isArray(s)&&Array.isArray(o)){const p=new Array;for(let m=0;m<s.length;m++)p.push(o[m]);c.next(p)}else c.next(o);c.complete()}};requestAnimationFrame(d)})},i.linear=function(r,s,o,a){return(o-s)*r/a+s},i.easeInOutQuad=function(r,s,o,a){const l=o-s;return(r/=a/2)<1?l/2*r*r+s:-l/2*(--r*(r-2)-1)+s}}(Fi||(Fi={}));class VY extends at{constructor(e,t){super()}schedule(e,t=0){return this}}class wx extends VY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,n=!1;try{this.work(e)}catch(s){n=!0,r=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let KR=(()=>{class i{constructor(t,n=i.now){this.SchedulerAction=t,this.now=n}schedule(t,n=0,r){return new this.SchedulerAction(this,t).schedule(r,n)}}return i.now=()=>Date.now(),i})();class Ws extends KR{constructor(e,t=KR.now){super(e,()=>Ws.delegate&&Ws.delegate!==this?Ws.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Ws.delegate&&Ws.delegate!==this?Ws.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Du=new Ws(wx);function Mx(i){return!Pn(i)&&i-parseFloat(i)+1>=0}function QR(i=0,e=Du){return(!Mx(i)||i<0)&&(i=0),(!e||"function"!=typeof e.schedule)&&(e=Du),new Le(t=>(t.add(e.schedule(zY,i,{subscriber:t,counter:0,period:i})),t))}function zY(i){const{subscriber:e,counter:t,period:n}=i;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}const UY=["chart"];let kg=(()=>{class i{constructor(t){this.changeDetector=t,this.fps=-1,this.fpsMin=-1,this.fpsMax=-1,this.framesCnt=0,this.timeLastFpsCalc=0,this.fpsHistory=new Array,this.maxHistoryLength=60}end(){if(0===this.timeLastFpsCalc)return void(this.timeLastFpsCalc=Date.now());this.framesCnt++;const t=Date.now();if(t>=this.timeLastFpsCalc+1e3){this.fps=this.framesCnt/(t-this.timeLastFpsCalc)*1e3,(-1===this.fpsMin||this.fps<this.fpsMin)&&(this.fpsMin=this.fps),(-1===this.fpsMax||this.fps>this.fpsMax)&&(this.fpsMax=this.fps),this.changeDetector.detectChanges(),this.timeLastFpsCalc=t,this.framesCnt=0,this.fpsHistory.push(this.fps),this.fpsHistory.length>=this.maxHistoryLength&&this.fpsHistory.shift();const n=this.chart.nativeElement,r=n.getContext("2d");if(r){r.fillStyle="rgb(30, 30, 30)",r.fillRect(0,0,n.width,n.height),r.strokeStyle="rgb(255, 255, 255)",r.fillStyle="rgb(255, 255, 255)",r.beginPath(),r.moveTo(0,n.height);for(let s=0;s<=this.fpsHistory.length;s++)r.lineTo(n.width/this.maxHistoryLength*s,n.height-this.fpsHistory[s]/this.fpsMax*n.height),s===this.fpsHistory.length-1&&r.lineTo(n.width/this.maxHistoryLength*s,n.height);r.fill()}}}}return i.\u0275fac=function(t){return new(t||i)(A(Fn))},i.\u0275cmp=Rt({type:i,selectors:[["acuw-performance-monitor"]],viewQuery:function(t,n){if(1&t&&Vt(UY,5),2&t){let r;ze(r=Ue())&&(n.chart=r.first)}},decls:14,vars:12,consts:[["id","pm-container"],["id","fps-display-container"],["id","fps-display"],["id","min-max-display"],["id","max-fps-display"],["id","min-fps-display"],["width","90","height","40"],["chart",""]],template:function(t,n){1&t&&(_(0,"div",0),_(1,"div",1),_(2,"span",2),M(3),Id(4,"number"),v(),_(5,"div",3),_(6,"span",4),M(7),Id(8,"number"),v(),_(9,"span",5),M(10),Id(11,"number"),v(),v(),v(),xe(12,"canvas",6,7),v()),2&t&&(q(3),oo("FPS: ",-1!=n.fps?cp(4,3,n.fps,"1.0-0"):"-",""),q(4),oo("",-1!=n.fpsMax?cp(8,6,n.fpsMax,"1.0-0"):"-"," max"),q(3),oo("",-1!=n.fpsMin?cp(11,9,n.fpsMin,"1.0-0"):"-"," min"))},pipes:[LD],styles:["[_nghost-%COMP%]{--position: absolute;--color: rgb(255, 255, 255);--background-color: rgba(0, 0, 0, .8);--top: 5px;--left: 5px;--width: 100px;--padding: 5px;--display: flex;--flex-direction: column;--align-items: center}#pm-container[_ngcontent-%COMP%]{position:var(--position);color:var(--color);background-color:var(--background-color);top:5px;left:5px;width:100px;padding:5px;display:var(--display);flex-direction:var(--flex-direction);align-items:var(--align-items)}#fps-display-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}#min-max-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:10px;padding-left:5px}"],changeDetection:0}),i})();const HY=["container"],GY=["performanceMonitor"];function WY(i,e){1&i&&(_(0,"div",4),_(1,"div"),_(2,"span"),M(3,"Use two fingers for touch animation"),v(),Sf(),_(4,"svg",5),_(5,"g"),xe(6,"rect",6),v(),_(7,"g"),_(8,"g"),_(9,"g"),xe(10,"path",7),v(),v(),v(),v(),v(),v()),2&i&&$("@showHideGestureInformation",void 0)}function jY(i,e){1&i&&xe(0,"acuw-performance-monitor",null,8)}let $Y=(()=>{class i{constructor(t){this.ngZone=t,this.renderer=new jm({antialias:!0,alpha:!0}),this.scene=new fu,this.clock=new FR(!0),this.texture=new Vs,this.width=0,this.height=0,this.touch=new NY,this.mouse=new J,this.raycaster=new RY,this.pImageUrl="",this.pImageChanging=!1,this.gestureInfo$=QR(2e3),this.gestureInfoSubscription=new at,this.showTouchGestureInfo=!1,this.justifyContent="center",this.alignItems="center",this.backgroundColor="#000000",this.imageWidth="100%",this.imageHeight="100%",this.animationEnabled=!0,this.showPerformanceMonitor=!1}set imageUrl(t){this.pImageUrl=t,!0!==this.pImageChanging&&null!=this.mesh&&(this.pImageChanging=!0,this.triggerImageChange())}get imageUrl(){return this.pImageUrl}set horizontalAlignment(t){switch(t){case"start":this.justifyContent="flex-start";break;case"center":default:this.justifyContent="center";break;case"end":this.justifyContent="flex-end"}}get horizontalAlignment(){return this.justifyContent}set verticalAlignment(t){switch(t){case"top":this.alignItems="flex-start";break;case"center":default:this.alignItems="center";break;case"bottom":this.alignItems="flex-end"}}get verticalAlignment(){return this.alignItems}ngAfterViewInit(){if(""===this.pImageUrl)return;const t=this.canvasRef.nativeElement.clientWidth,n=this.canvasRef.nativeElement.clientHeight;this.camera=new ei(50,t/n,1,1e4),this.camera.position.z=300,this.initParticles(this.pImageUrl),this.renderer.setSize(t-1,n),this.canvasRef.nativeElement.appendChild(this.renderer.domElement),this.animate()}ngOnDestroy(){this.scene.clear(),this.renderer.clear(),this.texture.dispose(),this.renderer.dispose()}initParticles(t){(new Eu).load(t,r=>{this.texture=r,this.texture.minFilter=Nn,this.texture.magFilter=Nn,this.texture.format=Ur,this.width=r.image.width,this.height=r.image.height,this.initPoints(!0),this.initHitArea(),this.initTouch(),this.resize(),this.show()})}initPoints(t){const n=this.width*this.height;let r=n,s=0,o=new Float32Array;if(t){r=0,s=34;const b=this.texture.image,y=document.createElement("canvas"),w=y.getContext("2d");if(y.width=this.width,y.height=this.height,null!=w){w.scale(1,-1),w.drawImage(b,0,0,this.width,-1*this.height);const x=w.getImageData(0,0,y.width,y.height);o=Float32Array.from(x.data);for(let S=0;S<n;S++)o[4*S+0]>s&&r++}}const a={uTime:{value:0},uRandom:{value:1},uDepth:{value:2},uSize:{value:0},uTextureSize:{value:new J(this.width,this.height)},uTexture:{value:this.texture},uTouch:{value:null}},l=new BY,c=new _R({uniforms:a,vertexShader:l.particleVertex,fragmentShader:l.particleFragment,depthTest:!1,transparent:!0}),u=new AR,d=new Vn(new Float32Array(12),3);d.setXYZ(0,-.5,.5,0),d.setXYZ(1,.5,.5,0),d.setXYZ(2,-.5,-.5,0),d.setXYZ(3,.5,-.5,0),u.setAttribute("position",d);const h=new Vn(new Float32Array(8),2);h.setXY(0,0,0),h.setXY(1,1,0),h.setXY(2,0,1),h.setXY(3,1,1),u.setAttribute("uv",h),u.setIndex(new Vn(new Uint16Array([0,2,1,2,3,1]),1));const f=new Uint16Array(r),p=new Float32Array(3*r),m=new Float32Array(r);for(let b=0,y=0;b<n;b++)t&&o[4*b+0]<=s||(p[3*y+0]=b%this.width,p[3*y+1]=Math.floor(b/this.width),f[y]=b,m[y]=Math.random()*Math.PI,y++);u.setAttribute("pindex",new ra(f,1,!1)),u.setAttribute("offset",new ra(p,3,!1)),u.setAttribute("angle",new ra(m,1,!1)),this.mesh=new Si(u,c);const g=new Ci;g.add(this.mesh),this.scene.add(g)}initTouch(){this.mesh.material.uniforms.uTouch.value=this.touch.texture}initHitArea(){const t=new tl(this.width,this.height,1,1),n=new ea({color:16777215,wireframe:!0,depthTest:!1});n.visible=!1,this.hitArea=new Si(t,n),this.mesh.add(this.hitArea)}show(t=1e3){this.ngZone.runOutsideAngular(()=>{Fi.createTween(Fi.easeInOutQuad,[.5,0,70],[1.5,2,4],t).subscribe(n=>{this.mesh.material.uniforms.uSize.value=n[0],this.mesh.material.uniforms.uRandom.value=n[1],this.mesh.material.uniforms.uDepth.value=n[2]},()=>{},()=>{this.pImageChanging=!1})})}triggerImageChange(t=1e3){const n=this.mesh.material.uniforms.uSize.value,r=this.mesh.material.uniforms.uRandom.value,s=this.mesh.material.uniforms.uDepth.value;this.ngZone.runOutsideAngular(()=>{Fi.createTween(Fi.easeInOutQuad,[n,r,s],[0,5,-20],t).subscribe(o=>{this.mesh.material.uniforms.uSize.value=o[0],this.mesh.material.uniforms.uRandom.value=o[1],this.mesh.material.uniforms.uDepth.value=o[2]},()=>{},()=>{null!=this.mesh&&(null!=this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.geometry.dispose(),this.mesh.material.dispose()),null!=this.hitArea&&(null!=this.hitArea.parent&&this.hitArea.parent.remove(this.hitArea),this.hitArea.geometry.dispose(),this.hitArea.material.dispose()),this.initParticles(this.pImageUrl),this.pImageChanging=!1})})}animate(){this.ngZone.runOutsideAngular(()=>{if(window.requestAnimationFrame(()=>this.animate()),!0===this.animationEnabled){const t=this.clock.getDelta();null!=this.mesh&&(this.touch&&this.touch.update(),this.mesh.material.uniforms.uTime.value+=t),this.renderer.render(this.scene,this.camera)}this.performanceMonitor&&this.showPerformanceMonitor&&this.performanceMonitor.end()})}onMouseMove(t){const n=this.canvasRef.nativeElement.getBoundingClientRect(),r=this.canvasRef.nativeElement.children[0];if(this.mouse.x=(t.clientX-n.left-r.offsetLeft)/r.clientWidth*2-1,this.mouse.y=-(t.clientY-n.top-r.offsetTop)/r.clientHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera),void 0===this.hitArea)return;const s=this.raycaster.intersectObject(this.hitArea);void 0!==s&&s.length>0&&this.touch&&void 0!==s[0].uv&&this.touch.addTouch(s[0].uv.x,s[0].uv.y)}onTouchMove(t){if(t.touches.length<2)return this.showTouchGestureInfo=!0,this.gestureInfoSubscription.unsubscribe(),void(this.gestureInfoSubscription=this.gestureInfo$.subscribe({next:()=>{this.showTouchGestureInfo=!1,this.gestureInfoSubscription.unsubscribe()}}));t.preventDefault();const n=this.canvasRef.nativeElement.getBoundingClientRect(),r=this.canvasRef.nativeElement.children[0];this.mouse.x=(t.touches[0].clientX-n.left-r.offsetLeft)/r.clientWidth*2-1,this.mouse.y=-(t.touches[0].clientY-n.top-r.offsetTop)/r.clientHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const s=this.raycaster.intersectObject(this.hitArea);void 0!==s&&s.length>0&&this.touch&&void 0!==s[0].uv&&this.touch.addTouch(s[0].uv.x,s[0].uv.y)}resize(){if(void 0!==this.height){this.camera.aspect=this.canvasRef.nativeElement.clientWidth/this.canvasRef.nativeElement.clientHeight,this.camera.updateProjectionMatrix();const n=2*Math.tan(this.camera.fov*Math.PI/180/2)*this.camera.position.z/this.height;if(this.mesh.scale.set(n,n,1),void 0!==this.renderer){const r=null==this.imageWidth?this.canvasRef.nativeElement.clientWidth:this.distanceAsNumber(this.imageWidth,this.canvasRef.nativeElement.clientWidth),s=null==this.imageHeight?this.canvasRef.nativeElement.clientHeight:this.distanceAsNumber(this.imageHeight,this.canvasRef.nativeElement.clientHeight);this.renderer.setSize(r,s)}}}distanceAsNumber(t,n){let r=0;return r=t.includes("px")?Number.parseInt(t.replace("px",""),10):t.includes("%")?Number.parseInt(t.replace("%",""),10)/100*n:Number.parseInt(t,10),r}}return i.\u0275fac=function(t){return new(t||i)(A(lt))},i.\u0275cmp=Rt({type:i,selectors:[["lib-image-as-particles"]],viewQuery:function(t,n){if(1&t&&(Vt(HY,5),Vt(GY,5)),2&t){let r;ze(r=Ue())&&(n.canvasRef=r.first),ze(r=Ue())&&(n.performanceMonitor=r.first)}},hostBindings:function(t,n){1&t&&he("resize",function(){return n.resize()},!1,Xl)},inputs:{imageUrl:"imageUrl",backgroundColor:"backgroundColor",imageWidth:"imageWidth",imageHeight:"imageHeight",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",animationEnabled:"animationEnabled",showPerformanceMonitor:"showPerformanceMonitor"},decls:4,vars:8,consts:[[1,"threejs-container",3,"mousemove","touchmove"],["container",""],["class","touch-gesture-info",4,"ngIf"],[4,"ngIf"],[1,"touch-gesture-info"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","viewBox","0 0 24 24","fill","white","width","18px","height","18px"],["fill","none","height","24","width","24","x","0"],["d","M9,11.24V7.5C9,6.12,10.12,5,11.5,5S14,6.12,14,7.5v3.74c1.21-0.81,2-2.18,2-3.74C16,5.01,13.99,3,11.5,3S7,5.01,7,7.5 C7,9.06,7.79,10.43,9,11.24z M18.84,15.87l-4.54-2.26c-0.17-0.07-0.35-0.11-0.54-0.11H13v-6C13,6.67,12.33,6,11.5,6 S10,6.67,10,7.5v10.74c-3.6-0.76-3.54-0.75-3.67-0.75c-0.31,0-0.59,0.13-0.79,0.33l-0.79,0.8l4.94,4.94 C9.96,23.83,10.34,24,10.75,24h6.79c0.75,0,1.33-0.55,1.44-1.28l0.75-5.27c0.01-0.07,0.02-0.14,0.02-0.2 C19.75,16.63,19.37,16.09,18.84,15.87z"],["performanceMonitor",""]],template:function(t,n){1&t&&(_(0,"div",0,1),he("mousemove",function(s){return n.onMouseMove(s)})("touchmove",function(s){return n.onTouchMove(s)}),v(),je(2,WY,11,1,"div",2),je(3,jY,2,0,"acuw-performance-monitor",3)),2&t&&(Da("background-color",n.backgroundColor)("justify-content",n.justifyContent)("align-items",n.alignItems),q(2),$("ngIf",1==n.showTouchGestureInfo),q(1),$("ngIf",n.showPerformanceMonitor))},directives:[Qi,kg],styles:[".threejs-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#222}.touch-gesture-info[_ngcontent-%COMP%]{position:absolute;width:100%;display:flex;flex-direction:row;justify-content:center;top:20px;color:#fff}.touch-gesture-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#0000004d;display:flex;flex-direction:row;padding:6px 10px;border-radius:5px}"],data:{animation:[zr("showHideGestureInformation",[Ln(":enter",[xt({opacity:"0"}),Tn("300ms ease-in",xt({opacity:"1"}))]),Ln(":leave",[xt({opacity:"1"}),Tn("300ms ease-in",xt({opacity:"0"}))])])]}}),i})(),Rh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr]]}),i})(),qY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr,Rh]]}),i})();function JR(...i){const e=i[i.length-1];return"function"==typeof e&&i.pop(),df(i,void 0).lift(new XY(e))}class XY{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new YY(e,this.resultSelector))}}class YY extends Ye{constructor(e,t,n=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;Pn(e)?t.push(new KY(e)):t.push("function"==typeof e[ws]?new ZY(e[ws]()):new QY(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let o=0;o<t;o++){let a=e[o];if("function"==typeof a.hasValue&&!a.hasValue())return}let r=!1;const s=[];for(let o=0;o<t;o++){let a=e[o],l=a.next();if(a.hasCompleted()&&(r=!0),l.done)return void n.complete();s.push(l.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),r&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class ZY{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class KY{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[ws](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class QY extends Al{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[ws](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return Il(this.observable,new Tl(this))}}const Cx=new Le(po);function ek(i,e){return new Le(e?t=>e.schedule(eZ,0,{error:i,subscriber:t}):t=>t.error(i))}function eZ({error:i,subscriber:e}){e.error(i)}class ys{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Je(this.value);case"E":return ek(this.error);case"C":return qp()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new ys("N",e):ys.undefinedValueNotification}static createError(e){return new ys("E",void 0,e)}static createComplete(){return ys.completeNotification}}ys.completeNotification=new ys("C"),ys.undefinedValueNotification=new ys("N",void 0);class nZ{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Sx(e,this.delay,this.scheduler))}}class Sx extends Ye{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,s=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(s);if(n.length>0){const o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Sx.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new iZ(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(ys.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(ys.createComplete()),this.unsubscribe()}}class iZ{constructor(e,t){this.time=e,this.notification=t}}var Ei=(()=>(function(i){i[i.forward=0]="forward",i[i.backward=1]="backward"}(Ei||(Ei={})),Ei))();class rZ{constructor(){this.vertex="varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",this.splitTransitionFrag="\n            uniform float progress;\n            uniform float intensity;\n            uniform sampler2D texture1;\n            uniform sampler2D texture2;\n            uniform vec4 resolution1;\n            uniform vec4 resolution2;\n            varying vec2 vUv;\n            mat2 rotate(float a) {\n              float s = sin(a);\n              float c = cos(a);\n              return mat2(c, -s, s, c);\n            }\n            void main()\t{\n              vec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n              vec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n              vec2 uvDivided1 = fract(newUV1*vec2(intensity,1.));\n              vec2 uvDivided2 = fract(newUV2*vec2(intensity,1.));\n              vec2 uvDisplaced1 = newUV1 + rotate(3.1415926/4.)*uvDivided1*progress*0.1;\n              vec2 uvDisplaced2 = newUV2 + rotate(3.1415926/4.)*uvDivided2*(1. - progress)*0.1;\n              vec4 t1 = texture2D(texture1,uvDisplaced1);\n              vec4 t2 = texture2D(texture2,uvDisplaced2);\n              // Use black background color\n              // Top right\n              vec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n              vec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n              float pct1 = tr1.x * tr1.y;\n              float pct2 = tr2.x * tr2.y;\n              // Bottom left\n              vec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n              vec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n              pct1 *= bl1.x * bl1.y;\n              pct2 *= bl2.x * bl2.y;\n              vec4 t1wb = t1 * vec4(pct1,pct1,pct1,1.0);\n              vec4 t2wb = t2 * vec4(pct2,pct2,pct2,1.0);\n              gl_FragColor = mix(t1wb, t2wb, progress);\n            }\n    ",this.fadeFrag="\n            uniform float progress;\n            uniform sampler2D texture1;\n            uniform sampler2D texture2;\n            uniform vec4 resolution1;\n            uniform vec4 resolution2;\n            varying vec2 vUv;\n            mat2 rotate(float a) {\n              float s = sin(a);\n              float c = cos(a);\n              return mat2(c, -s, s, c);\n            }\n            void main()\t{\n              vec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n              vec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n              vec2 uvDisplaced1 = newUV1 + vec2(1.0,0)*progress*0.1;\n              vec2 uvDisplaced2 = newUV2 + vec2(1.0,0)*(1. - progress)*0.1;\n              vec4 t1 = texture2D(texture1,uvDisplaced1);\n              vec4 t2 = texture2D(texture2,uvDisplaced2);\n              // Use black background color\n              // Top right\n              vec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n              vec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n              float pct1 = tr1.x * tr1.y;\n              float pct2 = tr2.x * tr2.y;\n              // Bottom left\n              vec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n              vec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n              pct1 *= bl1.x * bl1.y;\n              pct2 *= bl2.x * bl2.y;\n              vec4 t1wb = t1 * vec4(pct1,pct1,pct1,1.0);\n              vec4 t2wb = t2 * vec4(pct2,pct2,pct2,1.0);\n              gl_FragColor = mix(t1wb, t2wb, progress);\n            }\n    ",this.noiseFrag="\n\t\tuniform float time;\n\t\tuniform float progress;\n\t\tuniform float width;\n\t\tuniform float scaleX;\n\t\tuniform float scaleY;\n\t\tuniform sampler2D texture1;\n\t\tuniform sampler2D texture2;\n\t\tuniform sampler2D displacement;\n\t\tuniform vec4 resolution1;\n\t\tuniform vec4 resolution2;\n\t\tvarying vec2 vUv;\n\t\tvarying vec4 vPosition;\n\t\t//\tClassic Perlin 3D Noise\n\t\t//\tby Stefan Gustavson\n\t\t//\n\t\tvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\n\t\tvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\t\tvec4 fade(vec4 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\t\tfloat cnoise(vec4 P){\n\t\t  ;\n\t\t  vec4 Pi0 = floor(P); // Integer part for indexing\n\t\t  vec4 Pi1 = Pi0 + 1.0; // Integer part + 1\n\t\t  Pi0 = mod(Pi0, 289.0);\n\t\t  Pi1 = mod(Pi1, 289.0);\n\t\t  vec4 Pf0 = fract(P); // Fractional part for interpolation\n\t\t  vec4 Pf1 = Pf0 - 1.0; // Fractional part - 1.0\n\t\t  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\t\t  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n\t\t  vec4 iz0 = vec4(Pi0.zzzz);\n\t\t  vec4 iz1 = vec4(Pi1.zzzz);\n\t\t  vec4 iw0 = vec4(Pi0.wwww);\n\t\t  vec4 iw1 = vec4(Pi1.wwww);\n\t\t  vec4 ixy = permute(permute(ix) + iy);\n\t\t  vec4 ixy0 = permute(ixy + iz0);\n\t\t  vec4 ixy1 = permute(ixy + iz1);\n\t\t  vec4 ixy00 = permute(ixy0 + iw0);\n\t\t  vec4 ixy01 = permute(ixy0 + iw1);\n\t\t  vec4 ixy10 = permute(ixy1 + iw0);\n\t\t  vec4 ixy11 = permute(ixy1 + iw1);\n\t\t  vec4 gx00 = ixy00 / 7.0;\n\t\t  vec4 gy00 = floor(gx00) / 7.0;\n\t\t  vec4 gz00 = floor(gy00) / 6.0;\n\t\t  gx00 = fract(gx00) - 0.5;\n\t\t  gy00 = fract(gy00) - 0.5;\n\t\t  gz00 = fract(gz00) - 0.5;\n\t\t  vec4 gw00 = vec4(0.75) - abs(gx00) - abs(gy00) - abs(gz00);\n\t\t  vec4 sw00 = step(gw00, vec4(0.0));\n\t\t  gx00 -= sw00 * (step(0.0, gx00) - 0.5);\n\t\t  gy00 -= sw00 * (step(0.0, gy00) - 0.5);\n\t\t  vec4 gx01 = ixy01 / 7.0;\n\t\t  vec4 gy01 = floor(gx01) / 7.0;\n\t\t  vec4 gz01 = floor(gy01) / 6.0;\n\t\t  gx01 = fract(gx01) - 0.5;\n\t\t  gy01 = fract(gy01) - 0.5;\n\t\t  gz01 = fract(gz01) - 0.5;\n\t\t  vec4 gw01 = vec4(0.75) - abs(gx01) - abs(gy01) - abs(gz01);\n\t\t  vec4 sw01 = step(gw01, vec4(0.0));\n\t\t  gx01 -= sw01 * (step(0.0, gx01) - 0.5);\n\t\t  gy01 -= sw01 * (step(0.0, gy01) - 0.5);\n\t\t  vec4 gx10 = ixy10 / 7.0;\n\t\t  vec4 gy10 = floor(gx10) / 7.0;\n\t\t  vec4 gz10 = floor(gy10) / 6.0;\n\t\t  gx10 = fract(gx10) - 0.5;\n\t\t  gy10 = fract(gy10) - 0.5;\n\t\t  gz10 = fract(gz10) - 0.5;\n\t\t  vec4 gw10 = vec4(0.75) - abs(gx10) - abs(gy10) - abs(gz10);\n\t\t  vec4 sw10 = step(gw10, vec4(0.0));\n\t\t  gx10 -= sw10 * (step(0.0, gx10) - 0.5);\n\t\t  gy10 -= sw10 * (step(0.0, gy10) - 0.5);\n\t\t  vec4 gx11 = ixy11 / 7.0;\n\t\t  vec4 gy11 = floor(gx11) / 7.0;\n\t\t  vec4 gz11 = floor(gy11) / 6.0;\n\t\t  gx11 = fract(gx11) - 0.5;\n\t\t  gy11 = fract(gy11) - 0.5;\n\t\t  gz11 = fract(gz11) - 0.5;\n\t\t  vec4 gw11 = vec4(0.75) - abs(gx11) - abs(gy11) - abs(gz11);\n\t\t  vec4 sw11 = step(gw11, vec4(0.0));\n\t\t  gx11 -= sw11 * (step(0.0, gx11) - 0.5);\n\t\t  gy11 -= sw11 * (step(0.0, gy11) - 0.5);\n\t\t  vec4 g0000 = vec4(gx00.x,gy00.x,gz00.x,gw00.x);\n\t\t  vec4 g1000 = vec4(gx00.y,gy00.y,gz00.y,gw00.y);\n\t\t  vec4 g0100 = vec4(gx00.z,gy00.z,gz00.z,gw00.z);\n\t\t  vec4 g1100 = vec4(gx00.w,gy00.w,gz00.w,gw00.w);\n\t\t  vec4 g0010 = vec4(gx10.x,gy10.x,gz10.x,gw10.x);\n\t\t  vec4 g1010 = vec4(gx10.y,gy10.y,gz10.y,gw10.y);\n\t\t  vec4 g0110 = vec4(gx10.z,gy10.z,gz10.z,gw10.z);\n\t\t  vec4 g1110 = vec4(gx10.w,gy10.w,gz10.w,gw10.w);\n\t\t  vec4 g0001 = vec4(gx01.x,gy01.x,gz01.x,gw01.x);\n\t\t  vec4 g1001 = vec4(gx01.y,gy01.y,gz01.y,gw01.y);\n\t\t  vec4 g0101 = vec4(gx01.z,gy01.z,gz01.z,gw01.z);\n\t\t  vec4 g1101 = vec4(gx01.w,gy01.w,gz01.w,gw01.w);\n\t\t  vec4 g0011 = vec4(gx11.x,gy11.x,gz11.x,gw11.x);\n\t\t  vec4 g1011 = vec4(gx11.y,gy11.y,gz11.y,gw11.y);\n\t\t  vec4 g0111 = vec4(gx11.z,gy11.z,gz11.z,gw11.z);\n\t\t  vec4 g1111 = vec4(gx11.w,gy11.w,gz11.w,gw11.w);\n\t\t  vec4 norm00 = taylorInvSqrt(vec4(dot(g0000, g0000), dot(g0100, g0100), dot(g1000, g1000), dot(g1100, g1100)));\n\t\t  g0000 *= norm00.x;\n\t\t  g0100 *= norm00.y;\n\t\t  g1000 *= norm00.z;\n\t\t  g1100 *= norm00.w;\n\t\t  vec4 norm01 = taylorInvSqrt(vec4(dot(g0001, g0001), dot(g0101, g0101), dot(g1001, g1001), dot(g1101, g1101)));\n\t\t  g0001 *= norm01.x;\n\t\t  g0101 *= norm01.y;\n\t\t  g1001 *= norm01.z;\n\t\t  g1101 *= norm01.w;\n\t\t  vec4 norm10 = taylorInvSqrt(vec4(dot(g0010, g0010), dot(g0110, g0110), dot(g1010, g1010), dot(g1110, g1110)));\n\t\t  g0010 *= norm10.x;\n\t\t  g0110 *= norm10.y;\n\t\t  g1010 *= norm10.z;\n\t\t  g1110 *= norm10.w;\n\t\t  vec4 norm11 = taylorInvSqrt(vec4(dot(g0011, g0011), dot(g0111, g0111), dot(g1011, g1011), dot(g1111, g1111)));\n\t\t  g0011 *= norm11.x;\n\t\t  g0111 *= norm11.y;\n\t\t  g1011 *= norm11.z;\n\t\t  g1111 *= norm11.w;\n\t\t  float n0000 = dot(g0000, Pf0);\n\t\t  float n1000 = dot(g1000, vec4(Pf1.x, Pf0.yzw));\n\t\t  float n0100 = dot(g0100, vec4(Pf0.x, Pf1.y, Pf0.zw));\n\t\t  float n1100 = dot(g1100, vec4(Pf1.xy, Pf0.zw));\n\t\t  float n0010 = dot(g0010, vec4(Pf0.xy, Pf1.z, Pf0.w));\n\t\t  float n1010 = dot(g1010, vec4(Pf1.x, Pf0.y, Pf1.z, Pf0.w));\n\t\t  float n0110 = dot(g0110, vec4(Pf0.x, Pf1.yz, Pf0.w));\n\t\t  float n1110 = dot(g1110, vec4(Pf1.xyz, Pf0.w));\n\t\t  float n0001 = dot(g0001, vec4(Pf0.xyz, Pf1.w));\n\t\t  float n1001 = dot(g1001, vec4(Pf1.x, Pf0.yz, Pf1.w));\n\t\t  float n0101 = dot(g0101, vec4(Pf0.x, Pf1.y, Pf0.z, Pf1.w));\n\t\t  float n1101 = dot(g1101, vec4(Pf1.xy, Pf0.z, Pf1.w));\n\t\t  float n0011 = dot(g0011, vec4(Pf0.xy, Pf1.zw));\n\t\t  float n1011 = dot(g1011, vec4(Pf1.x, Pf0.y, Pf1.zw));\n\t\t  float n0111 = dot(g0111, vec4(Pf0.x, Pf1.yzw));\n\t\t  float n1111 = dot(g1111, Pf1);\n\t\t  vec4 fade_xyzw = fade(Pf0);\n\t\t  vec4 n_0w = mix(vec4(n0000, n1000, n0100, n1100), vec4(n0001, n1001, n0101, n1101), fade_xyzw.w);\n\t\t  vec4 n_1w = mix(vec4(n0010, n1010, n0110, n1110), vec4(n0011, n1011, n0111, n1111), fade_xyzw.w);\n\t\t  vec4 n_zw = mix(n_0w, n_1w, fade_xyzw.z);\n\t\t  vec2 n_yzw = mix(n_zw.xy, n_zw.zw, fade_xyzw.y);\n\t\t  float n_xyzw = mix(n_yzw.x, n_yzw.y, fade_xyzw.x);\n\t\t  return 2.2 * n_xyzw;\n\t\t}\n\t\tfloat map(float value, float min1, float max1, float min2, float max2) {\n\t\t  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n\t\t}\n\t\tfloat parabola( float x, float k ) {\n\t\t  return pow( 4. * x * ( 1. - x ), k );\n\t\t}\n\t\tvoid main()\t{\n\t\t\tfloat dt = parabola(progress,1.);\n\t\t\tfloat border = 1.;\n\t\t\tvec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n      \t\tvec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n\t\t\tvec4 t1 = texture2D(texture1,newUV1);\n      \t\tvec4 t2 = texture2D(texture2,newUV2);\n      \t\t// Use black background color\n      \t\t// Top right\n      \t\tvec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n      \t\tvec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n      \t\tfloat pct1 = tr1.x * tr1.y;\n      \t\tfloat pct2 = tr2.x * tr2.y;\n      \t\t// Bottom left\n      \t\tvec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n      \t\tvec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n      \t\tpct1 *= bl1.x * bl1.y;\n      \t\tpct2 *= bl2.x * bl2.y;\n      \t\tvec4 t1wb = t1 * vec4(pct1,pct1,pct1,1.0);\n      \t\tvec4 t2wb = t2 * vec4(pct2,pct2,pct2,1.0);\n\t\t\tfloat realnoise = 0.5*(cnoise(vec4(newUV1.x*scaleX  + 0.*time/3., newUV1.y*scaleY,0.*time/3.,0.)) +1.);\n\t\t\tfloat w = width*dt;\n\t\t\tfloat maskvalue = smoothstep(1. - w,1.,vUv.x + mix(-w/2., 1. - w/2., progress));\n\t\t\tfloat mask = maskvalue + maskvalue*realnoise;\n\t\t\tfloat final = smoothstep(border,border+0.01,mask);\n\t\t\tgl_FragColor = mix(t1wb,t2wb,final);\n\t\t}\n\t",this.blurFrag="\n\t\t// author: gre\n\t\t// license: MIT\n\t\tuniform float progress;\n\t\tuniform float intensity;\n\t\tuniform float ratio;\n\t\tuniform sampler2D texture1;\n\t\tuniform sampler2D texture2;\n\t\tuniform vec4 resolution1;\n\t\tuniform vec4 resolution2;\n\t\tvarying vec2 vUv;\n\t\tconst int passes = 6;\n\n\t\tvoid main() {\n\t\t\tvec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n\t\t\tvec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n\n\t\t\tvec4 t1 = vec4(0.0);\n\t\t\tvec4 t2 = vec4(0.0);\n\t\t\tfloat disp = intensity/100.0*(0.5-distance(0.5, progress));\n\t\t\tfor (int xi=0; xi<passes; xi++)\n\t\t\t{\n\t\t\t\tfloat x = float(xi) / float(passes) - 0.5;\n\t\t\t\tfor (int yi=0; yi<passes; yi++)\n\t\t\t\t{\n\t\t\t\t\tfloat y = float(yi) / float(passes) - 0.5;\n\t\t\t\t\tvec2 v = vec2(x,y);\n\t\t\t\t\tfloat d = disp;\n\t\t\t\t\tt1 += texture2D(texture1,newUV1 + d*v);\n\t\t\t\t\tt2 += texture2D(texture2,newUV2 + d*v);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tt1 /= float(passes*passes);\n\t\t\tt2 /= float(passes*passes);\n\n\t\t\t// Use black background color\n\t\t\t// Top right\n\t\t\tvec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n\t\t\tvec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n\t\t\tfloat pct1 = tr1.x * tr1.y;\n\t\t\tfloat pct2 = tr2.x * tr2.y;\n\t\t\t// Bottom left\n\t\t\tvec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n\t\t\tvec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n\t\t\tpct1 *= bl1.x * bl1.y;\n\t\t\tpct2 *= bl2.x * bl2.y;\n\t\t\tvec4 t1wb = t1 * vec4(pct1,pct1,pct1,1.0);\n\t\t\tvec4 t2wb = t2 * vec4(pct2,pct2,pct2,1.0);\n\t\t\tgl_FragColor = mix(t1wb, t2wb, progress);\n\t\t}\n\t",this.distortionFrag="\n\tuniform float progress;\n\tuniform sampler2D displacementTexture;\n\tuniform sampler2D texture1;\n    uniform sampler2D texture2;\n    uniform vec4 resolution1;\n    uniform vec4 resolution2;\n\tuniform float angle1;\n\tuniform float angle2;\n\tuniform float intensity;\n\n\tvarying vec2 vUv;\n\n\tmat2 getRotM(float angle) {\n\t  float s = sin(angle);\n\t  float c = cos(angle);\n\t  return mat2(c, -s, s, c);\n\t}\n\n\tvoid main() {\n\t  vec2 newUV1 = (vUv - vec2(0.5,0.5))*resolution1.zw + vec2(0.5,0.5);\n      vec2 newUV2 = (vUv - vec2(0.5,0.5))*resolution2.zw + vec2(0.5,0.5);\n\t  vec4 t1 = texture2D(texture1,newUV1);\n      vec4 t2 = texture2D(texture2,newUV2);\n\n\t  vec4 disp = texture2D(displacementTexture, newUV1);\n\t  vec2 dispVec = vec2(disp.r, disp.g);\n\n\t  vec2 distortedPosition1 = newUV1 + getRotM(angle1) * dispVec * intensity / 100.0 * progress;\n\t  vec2 distortedPosition2 = newUV2 + getRotM(angle2) * dispVec * intensity / 100.0 * (1.0 - progress);\n\t  vec4 t1d = texture2D(texture1, distortedPosition1);\n\t  vec4 t2d = texture2D(texture2, distortedPosition2);\n\n\t  // Use black background color\n\t  // Top right\n\t  vec2 tr1 = step(newUV1, vec2(1.0, 1.0));\n\t  vec2 tr2 = step(newUV2, vec2(1.0, 1.0));\n\t  float pct1 = tr1.x * tr1.y;\n\t  float pct2 = tr2.x * tr2.y;\n\t  // Bottom left\n\t  vec2 bl1 = step(vec2(0.0, 0.0), newUV1);\n\t  vec2 bl2 = step(vec2(0.0, 0.0), newUV2);\n\t  pct1 *= bl1.x * bl1.y;\n\t  pct2 *= bl2.x * bl2.y;\n\t  vec4 t1wb = t1d * vec4(pct1,pct1,pct1,1.0);\n\t  vec4 t2wb = t2d * vec4(pct2,pct2,pct2,1.0);\n\t  gl_FragColor = mix(t1wb, t2wb, progress);\n\t}\n\t"}}const sZ=["threejsContainer"],oZ=["performanceMonitor"];function aZ(i,e){1&i&&(_(0,"div",4),_(1,"div",5),xe(2,"div"),xe(3,"div"),v(),v())}function lZ(i,e){1&i&&xe(0,"acuw-performance-monitor",null,6)}let Ex=(()=>{class i{constructor(t){this.ngZone=t,this.imageUrls=new Array,this.transitionDuration=1e3,this.animationEnabled=!0,this.startIndex=0,this.showPerformanceMonitor=!1,this.imageIndexChange=new qe,this.pAutoPlay=!1,this.pAutoPlayInterval=5e3,this.pImageSize="cover",this.pTransitionType="split",this.pIntensity=40,this.pScaleX=50,this.pScaleY=50,this.pWidth=.5,this.pDistortionImageUrl="",this.renderer=new jm({antialias:!0,alpha:!0}),this.scene=new fu,this.textures=new Array,this.nextImageIndex=0,this.tranistionOngoing=!1,this.shaders=new rZ,this.autoPlay$=new Le,this.autoPlaySubscription=new at,this.subscriptions=new at,this.basicAssetsLoaded$$=new Qe,this.forwardTextureLoaded$$=new Qe,this.backwardTextureLoaded$$=new Qe,this.showLoadingSpinner$$=new Qe,this.transitToForwardTexture$$=new Qe,this.transitToBackwardTexture$$=new Qe,this.showLoadingSpinner$=this.showLoadingSpinner$$.pipe(us(n=>n?Je(n).pipe(function(i,e=Du){const n=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-e.now():Math.abs(i);return r=>r.lift(new nZ(n,e))}(300)):Je(n))),this.subscribeToInitScene(),this.subscribeTransistionToBackwardTexture(),this.subscribeTransistionToForwardTexture()}get displacementImageUrl(){return this.pDistortionImageUrl}set displacementImageUrl(t){this.pDistortionImageUrl=t,null!=this.material&&this.setShaderProperties()}get imageSize(){return this.pImageSize}set imageSize(t){this.pImageSize=t,null!=this.mesh&&this.resize()}get autoPlay(){return this.pAutoPlay}set autoPlay(t){this.pAutoPlay=t,null!=this.mesh&&(!0===this.pAutoPlay?this.setAutoPlayInterval():this.stopAutoPlayInterval())}get autoPlayInterval(){return this.pAutoPlayInterval}set autoPlayInterval(t){this.pAutoPlayInterval=t,null!=this.mesh&&!0===this.pAutoPlay&&this.setAutoPlayInterval()}get transitionType(){return this.pTransitionType}set transitionType(t){this.pTransitionType=t,null!=this.material&&this.setShaderProperties()}get sizeX(){return this.pScaleX}set sizeX(t){this.pScaleX=t,null!=this.material&&this.setShaderProperties()}get sizeY(){return this.pScaleY}set sizeY(t){this.pScaleY=t,null!=this.material&&this.setShaderProperties()}get width(){return this.pWidth}set width(t){this.pWidth=t,null!=this.material&&this.setShaderProperties()}get intensity(){return this.intensity}set intensity(t){this.pIntensity=t,null!=this.material&&this.setShaderProperties()}ngAfterViewInit(){if(this.imageUrls.length<2)throw new Error("At least two images are required");this.camera=new ei(70,window.innerWidth/window.innerHeight,.001,1e3),this.camera.position.set(0,0,2),this.renderer.setSize(this.threejsContainer.nativeElement.clientWidth,this.threejsContainer.nativeElement.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.threejsContainer.nativeElement.appendChild(this.renderer.domElement),this.scene=new fu,this.textures=new Array(this.imageUrls.length),this.loadBasicAssets(),this.loadTexture(0===this.startIndex?this.imageUrls.length-1:this.startIndex-1,Ei.backward),this.loadTexture(this.startIndex===this.imageUrls.length-1?0:this.startIndex+1,Ei.forward),!0===this.pAutoPlay&&this.setAutoPlayInterval(),this.animate()}ngOnDestroy(){cancelAnimationFrame(this.animationFrameId),this.stopAutoPlayInterval(),this.threejsContainer.nativeElement.removeChild(this.renderer.domElement),this.textures.forEach(t=>{t.dispose()}),this.material&&this.material.dispose(),this.scene&&this.scene.clear(),this.renderer&&this.renderer.dispose(),this.subscriptions.unsubscribe()}subscribeToInitScene(){this.subscriptions.add(this.basicAssetsLoaded$$.pipe(Dn(()=>this.initBasiscScene())).subscribe())}subscribeTransistionToForwardTexture(){this.subscriptions.add(JR(this.transitToForwardTexture$$,this.forwardTextureLoaded$$).pipe(Dn(()=>this.showLoadingSpinner$$.next(!1)),Dn(()=>this.prepAndLoadNextImg(Ei.forward))).subscribe())}subscribeTransistionToBackwardTexture(){this.subscriptions.add(JR(this.transitToBackwardTexture$$,this.backwardTextureLoaded$$).pipe(Dn(()=>this.showLoadingSpinner$$.next(!1)),Dn(()=>this.prepAndLoadNextImg(Ei.backward))).subscribe())}loadBasicAssets(){this.showLoadingSpinner$$.next(!0);const t=new Array;t.push(new Promise(n=>{this.textures[this.startIndex]=(new Eu).load(this.imageUrls[this.startIndex],n)})),""!==this.displacementImageUrl&&t.push(new Promise(n=>{this.displacementTexture=(new Eu).load(this.displacementImageUrl,n)})),Promise.all(t).then(()=>this.basicAssetsLoaded$$.next()).catch(n=>console.error(n)).finally(()=>this.showLoadingSpinner$$.next(!1))}loadTexture(t,n){(new Eu).loadAsync(this.imageUrls[t]).then(r=>{switch(this.textures[t]=r,n){case Ei.forward:this.forwardTextureLoaded$$.next();break;case Ei.backward:this.backwardTextureLoaded$$.next()}}).catch(r=>console.error(r))}initBasiscScene(){const t=new tl(1,1,2,2);this.nextImageIndex=this.startIndex,this.imageIndexChange.emit(this.nextImageIndex),this.material=new zs({side:2,uniforms:{time:{value:0},progress:{value:0},border:{value:0},intensity:{value:50},angle1:{value:Math.PI/4},angle2:{value:-Math.PI+Math.PI/4},scaleX:{value:40},scaleY:{value:40},transition:{value:40},swipe:{value:0},width:{value:.5},radius:{value:0},texture1:{value:this.textures[this.startIndex]},texture2:{value:null},displacementTexture:{value:this.displacementTexture},resolution1:{value:new nn},resolution2:{value:new nn}},vertexShader:this.shaders.vertex}),this.setShaderProperties(),this.mesh=new Si(t,this.material),this.scene.add(this.mesh),this.resize()}setAutoPlayInterval(){this.autoPlay$=QR(this.pAutoPlayInterval),this.autoPlaySubscription=this.autoPlay$.pipe(Dn(()=>this.transitToForwardTexture$$.next())).subscribe()}resetAutoPlayInterval(){this.autoPlay$=Cx,this.autoPlaySubscription.unsubscribe(),this.setAutoPlayInterval()}stopAutoPlayInterval(){this.autoPlay$=Cx,this.autoPlaySubscription.unsubscribe()}setShaderProperties(){switch(this.transitionType){case"split":this.material.uniforms.intensity.value=this.pIntensity,this.material.fragmentShader=this.shaders.splitTransitionFrag;break;case"fade":this.material.fragmentShader=this.shaders.fadeFrag;break;case"noise":this.material.uniforms.scaleX.value=this.pScaleX,this.material.uniforms.scaleY.value=this.pScaleY,this.material.uniforms.width.value=this.pWidth,this.material.fragmentShader=this.shaders.noiseFrag;break;case"blur":this.material.uniforms.intensity.value=this.pIntensity,this.material.fragmentShader=this.shaders.blurFrag;break;case"distortion":this.material.uniforms.displacementTexture.value=(new Eu).load(this.displacementImageUrl),this.material.uniforms.intensity.value=this.pIntensity,this.material.fragmentShader=this.shaders.distortionFrag}this.material.needsUpdate=!0}animate(){!0===this.animationEnabled&&this.renderer.render(this.scene,this.camera),this.performanceMonitor&&this.showPerformanceMonitor&&this.performanceMonitor.end(),this.ngZone.runOutsideAngular(()=>{this.animationFrameId=window.requestAnimationFrame(()=>this.animate())})}resize(){const t=this.threejsContainer.nativeElement.offsetWidth,n=this.threejsContainer.nativeElement.offsetHeight;n&&n&&(this.renderer.setSize(t,n),this.camera.aspect=t/n,this.updateTextureResolution(this.nextImageIndex,1),this.camera.fov=180/Math.PI*2*Math.atan(1/(2*this.camera.position.z)),this.mesh.scale.x=this.camera.aspect,this.mesh.scale.y=1,this.camera.updateProjectionMatrix())}updateTextureResolution(t,n){const r=this.textures[t],s=this.threejsContainer.nativeElement.offsetWidth,o=this.threejsContainer.nativeElement.offsetHeight,a=r.image.height/r.image.width,l=o/s;let c,u;"cover"===this.pImageSize?l>a?(c=s/o*a,u=1):(c=1,u=o/s/a):"contain"===this.pImageSize&&(l<a?(c=s/o*a,u=1):(c=1,u=o/s/a)),1===n?(this.material.uniforms.resolution1.value.x=s,this.material.uniforms.resolution1.value.y=o,this.material.uniforms.resolution1.value.z=c,this.material.uniforms.resolution1.value.w=u):2===n&&(this.material.uniforms.resolution2.value.x=s,this.material.uniforms.resolution2.value.y=o,this.material.uniforms.resolution2.value.z=c,this.material.uniforms.resolution2.value.w=u)}transitionToNextTexture(t){this.imageIndexChange.emit(this.nextImageIndex),this.ngZone.runOutsideAngular(()=>{t===Ei.backward?(this.material.uniforms.texture2.value=this.material.uniforms.texture1.value,this.material.uniforms.resolution2.value.x=this.material.uniforms.resolution1.value.x,this.material.uniforms.resolution2.value.y=this.material.uniforms.resolution1.value.y,this.material.uniforms.resolution2.value.z=this.material.uniforms.resolution1.value.z,this.material.uniforms.resolution2.value.w=this.material.uniforms.resolution1.value.w,this.material.uniforms.progress.value=1,this.material.uniforms.texture1.value=this.textures[this.nextImageIndex],this.updateTextureResolution(this.nextImageIndex,1),Fi.createTween(Fi.linear,1,0,this.transitionDuration).subscribe({next:n=>{this.material.uniforms.progress.value=n},complete:()=>{this.tranistionOngoing=!1,this.material.uniforms.texture2.value=this.textures[this.nextImageIndex],this.updateTextureResolution(this.nextImageIndex,2),this.material.uniforms.progress.value=0}})):(this.material.uniforms.texture2.value=this.textures[this.nextImageIndex],this.updateTextureResolution(this.nextImageIndex,2),Fi.createTween(Fi.linear,0,1,this.transitionDuration).subscribe({next:n=>{this.material.uniforms.progress.value=n},complete:()=>{this.tranistionOngoing=!1,this.material.uniforms.texture1.value=this.textures[this.nextImageIndex],this.updateTextureResolution(this.nextImageIndex,1),this.material.uniforms.progress.value=0}}))})}prepAndLoadNextImg(t){this.tranistionOngoing=!0;let n=0;t===Ei.forward?(this.nextImageIndex=this.nextImageIndex<this.imageUrls.length-1?this.nextImageIndex+1:0,n=this.nextImageIndex+1>this.imageUrls.length-1?0:this.nextImageIndex+1,this.loadTexture(n,Ei.forward)):(this.nextImageIndex=this.nextImageIndex>0?this.nextImageIndex-1:this.imageUrls.length-1,n=this.nextImageIndex-1<0?this.imageUrls.length-1:this.nextImageIndex-1,this.loadTexture(n,Ei.backward)),this.transitionToNextTexture(t)}nextImage(t){if(this.tranistionOngoing)console.warn("cannot go to next image. transition still ongoing.");else switch(this.pAutoPlay&&this.resetAutoPlayInterval(),this.showLoadingSpinner$$.next(!0),t){case Ei.backward:this.transitToBackwardTexture$$.next();break;case Ei.forward:this.transitToForwardTexture$$.next()}}next(){this.nextImage(Ei.forward)}prev(){this.nextImage(Ei.backward)}}return i.\u0275fac=function(t){return new(t||i)(A(lt))},i.\u0275cmp=Rt({type:i,selectors:[["lib-image-transition"]],viewQuery:function(t,n){if(1&t&&(Vt(sZ,5),Vt(oZ,5)),2&t){let r;ze(r=Ue())&&(n.threejsContainer=r.first),ze(r=Ue())&&(n.performanceMonitor=r.first)}},hostBindings:function(t,n){1&t&&he("resize",function(){return n.resize()},!1,Xl)},inputs:{imageUrls:"imageUrls",displacementImageUrl:"displacementImageUrl",imageSize:"imageSize",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",transitionDuration:"transitionDuration",transitionType:"transitionType",sizeX:"sizeX",sizeY:"sizeY",width:"width",intensity:"intensity",animationEnabled:"animationEnabled",startIndex:"startIndex",showPerformanceMonitor:"showPerformanceMonitor"},outputs:{imageIndexChange:"imageIndexChange"},decls:5,vars:4,consts:[[1,"threejs-container"],["threejsContainer",""],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"lds-ripple"],["performanceMonitor",""]],template:function(t,n){1&t&&(_(0,"div",0,1),je(2,aZ,4,0,"div",2),Id(3,"async"),v(),je(4,lZ,2,0,"acuw-performance-monitor",3)),2&t&&(q(2),$("ngIf",function(i,e,t){const n=i+20,r=ce(),s=Ll(r,n);return Pd(r,n)?pE(r,Ni(),e,s.transform,t,s):s.transform(t)}(3,2,n.showLoadingSpinner$)),q(2),$("ngIf",n.showPerformanceMonitor))},directives:[Qi,kg],pipes:[OD],styles:[".threejs-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.loading-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lds-ripple[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px;background-color:#0006;border-radius:40px;box-shadow:0 0 24px 12px #00000080}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #fff;opacity:1;border-radius:50%;animation:lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.lds-ripple[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0px;left:0px;width:72px;height:72px;opacity:0}}"]}),i})(),tk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr,Rh]]}),i})();class Dx{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nk extends Dx{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class Tx extends Dx{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class cZ extends Dx{constructor(e){super(),this.element=e instanceof ft?e.nativeElement:e}}class ik{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof nk?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Tx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof cZ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class uZ extends ik{constructor(e,t,n,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);-1!==r&&t.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ax=(()=>{class i extends ik{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new qe,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=n.createComponent(s,n.length,t.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(A(ao),A(Ui),A(bt))},i.\u0275dir=De({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[nt]}),i})(),rk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({}),i})();const dZ=function(i,e){return{"full-container":i,"auto-container":e}},sk=function(i){return{"auto-visibility":i}};let hZ=(()=>{class i{constructor(t){this.changeRef=t,this.imageUrls=new Array,this.displacementImageUrl="",this.forceFullscreen=!1,this.forceShowNavButtons=!1,this.imageSize="cover",this.autoPlay=!1,this.autoPlayInterval=5e3,this.transitionDuration=1e3,this.transitionType="split",this.sizeX=50,this.sizeY=50,this.width=.5,this.intensity=40,this.startIndex=0,this.currentImageIndex=1,this.showPerformanceMonitor=!1,this.swipeCoord=new Array,this.swipeTime=0}ngOnInit(){}keyEvent(t){"ArrowRight"===t.key&&this.imageTransition.next(),"ArrowLeft"===t.key&&this.imageTransition.prev(),"Escape"===t.key&&this.close()}close(){var t;null===(t=this.overlayRef)||void 0===t||t.detach()}imageIndexChange(t){this.currentImageIndex=t+1,this.changeRef.detectChanges()}swipe(t,n){const r=[t.changedTouches[0].clientX,t.changedTouches[0].clientY],s=(new Date).getTime();if("start"===n)this.swipeCoord=r,this.swipeTime=s;else if("end"===n){const o=[r[0]-this.swipeCoord[0],r[1]-this.swipeCoord[1]];if(s-this.swipeTime<1e3&&Math.abs(o[0])>30&&Math.abs(o[0])>Math.abs(3*o[1])){const l=o[0]<0?"next":"previous";"next"===l?this.imageTransition.next():"previous"===l&&this.imageTransition.prev()}}}}return i.\u0275fac=function(t){return new(t||i)(A(Fn))},i.\u0275cmp=Rt({type:i,selectors:[["lib-lightbox-overlay"]],viewQuery:function(t,n){if(1&t&&Vt(Ex,5),2&t){let r;ze(r=Ue())&&(n.imageTransition=r.first)}},hostBindings:function(t,n){1&t&&he("keyup",function(s){return n.keyEvent(s)},!1,Xl)},decls:19,vars:25,consts:[[3,"ngClass"],[1,"index-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","white",1,"ligthbox-button","close-button",3,"click"],["d","M0 0h24v24H0z","fill","none"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","white",1,"ligthbox-button","prev-button",3,"ngClass","click"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","white",1,"ligthbox-button","next-button",3,"ngClass","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],[3,"imageUrls","startIndex","imageSize","autoPlay","autoPlayInterval","transitionDuration","transitionType","sizeX","sizeY","width","intensity","displacementImageUrl","showPerformanceMonitor","imageIndexChange","touchstart","touchend"],["imageTransition",""]],template:function(t,n){if(1&t){const r=on();_(0,"div",0),_(1,"div",1),_(2,"span"),M(3),v(),_(4,"span"),M(5,"/"),v(),_(6,"span"),M(7),v(),v(),Sf(),_(8,"svg",2),he("click",function(){return n.close()}),xe(9,"path",3),xe(10,"path",4),v(),_(11,"svg",5),he("click",function(){return Ze(r),Pr(18).prev()}),xe(12,"path",3),xe(13,"path",6),v(),_(14,"svg",7),he("click",function(){return Ze(r),Pr(18).next()}),xe(15,"path",3),xe(16,"path",8),v(),ht.lFrame.currentNamespace=null,_(17,"lib-image-transition",9,10),he("imageIndexChange",function(o){return n.imageIndexChange(o)})("touchstart",function(o){return n.swipe(o,"start")})("touchend",function(o){return n.swipe(o,"end")}),v(),v()}2&t&&($("ngClass",lp(18,dZ,!0===n.forceFullscreen,!1===n.forceFullscreen)),q(3),gn(n.currentImageIndex),q(4),gn(n.imageUrls.length),q(4),$("ngClass",Fs(21,sk,!1===n.forceShowNavButtons)),q(3),$("ngClass",Fs(23,sk,!1===n.forceShowNavButtons)),q(3),$("imageUrls",n.imageUrls)("startIndex",n.startIndex)("imageSize",n.imageSize)("autoPlay",n.autoPlay)("autoPlayInterval",n.autoPlayInterval)("transitionDuration",n.transitionDuration)("transitionType",n.transitionType)("sizeX",n.sizeX)("sizeY",n.sizeY)("width",n.width)("intensity",n.intensity)("displacementImageUrl",n.displacementImageUrl)("showPerformanceMonitor",n.showPerformanceMonitor))},directives:[Cc,Ex],styles:[".auto-container[_ngcontent-%COMP%]{position:relative;width:1100px;height:800px;max-width:90vw;max-height:90vh;background-color:#000;box-shadow:0 0 15px 10px #00000080}.full-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;max-width:100vw;max-height:100vh;background-color:#000;box-shadow:0 0 15px 10px #00000080}.index-indicator[_ngcontent-%COMP%]{position:absolute;z-index:1;color:#fff;background-color:#0006;border-radius:0 0 5px;padding:8px}.ligthbox-button[_ngcontent-%COMP%]{position:absolute;z-index:1;cursor:pointer;background-color:#0006;width:36px;height:36px}.ligthbox-button[_ngcontent-%COMP%]:hover{fill:#ffffff80}.close-button[_ngcontent-%COMP%]{top:0;right:0;border-radius:0 0 0 5px}.prev-button[_ngcontent-%COMP%]{top:calc(50% - 18px);left:0;border-radius:0 5px 5px 0}.next-button[_ngcontent-%COMP%]{top:calc(50% - 18px);right:0;border-radius:5px 0 0 5px}@media (max-width: 600px){.auto-container[_ngcontent-%COMP%]{width:100vw;height:100vh;max-width:100vw;max-height:100vh}.auto-visibility[_ngcontent-%COMP%]{visibility:collapse}}lib-image-transition[_ngcontent-%COMP%]{touch-action:none}"]}),i})();function Wt(i){return null!=i&&"false"!=`${i}`}function br(i,e=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):e}function ok(i){return Array.isArray(i)?i:[i]}function ti(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Ao(i){return i instanceof ft?i.nativeElement:i}function ca(i,e,t,n){return Pt(t)&&(n=t,t=void 0),n?ca(i,e,t).pipe(mt(r=>Pn(r)?n(...r):n(r))):new Le(r=>{ak(i,e,function(o){r.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},r,t)})}function ak(i,e,t,n,r){let s;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const o=i;i.addEventListener(e,t,r),s=()=>o.removeEventListener(e,t,r)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const o=i;i.on(e,t),s=()=>o.off(e,t)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const o=i;i.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let o=0,a=i.length;o<a;o++)ak(i[o],e,t,n,r)}n.add(s)}new class extends Ws{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends wx{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let bZ=1;const xZ=Promise.resolve(),Og={};function lk(i){return i in Og&&(delete Og[i],!0)}const ck={setImmediate(i){const e=bZ++;return Og[e]=!0,xZ.then(()=>lk(e)&&i()),e},clearImmediate(i){lk(i)}};new class extends Ws{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends wx{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=ck.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(ck.clearImmediate(t),e.scheduled=void 0)}});class EZ{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new DZ(e,this.durationSelector))}}class DZ extends Al{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:r}=this;t=r(e)}catch(r){return this.destination.error(r)}const n=Il(t,new Tl(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function uk(i=0,e,t){let n=-1;return Mx(e)?n=Number(e)<1?1:Number(e):Po(e)&&(t=e),Po(t)||(t=Du),new Le(r=>{const s=Mx(i)?i:+i-t.now();return t.schedule(TZ,s,{index:0,period:n,subscriber:r})})}function TZ(i){const{index:e,period:t,subscriber:n}=i;if(n.next(e),!n.closed){if(-1===t)return n.complete();i.index=e+1,this.schedule(i,t)}}function dk(i,e=Du){return function(i){return function(t){return t.lift(new EZ(i))}}(()=>uk(i,e))}function Zt(i){return e=>e.lift(new AZ(i))}class AZ{constructor(e){this.notifier=e}call(e,t){const n=new IZ(e),r=Il(this.notifier,new Tl(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class IZ extends Al{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Ix;try{Ix="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Ix=!1}let Tu,_i=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(i){return i===ND}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ix)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(Y(mp))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({}),i})();const hk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fk(){if(Tu)return Tu;if("object"!=typeof document||!document)return Tu=new Set(hk),Tu;let i=document.createElement("input");return Tu=new Set(hk.filter(e=>(i.setAttribute("type",e),i.type===e))),Tu}let Oh,Fg,ul,Px;function Au(i){return function(){if(null==Oh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oh=!0}))}finally{Oh=Oh||!1}return Oh}()?i:!!i.capture}function pk(){if(null==ul){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ul=!1,ul;if("scrollBehavior"in document.documentElement.style)ul=!0;else{const i=Element.prototype.scrollTo;ul=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return ul}function Fh(){if("object"!=typeof document||!document)return 0;if(null==Fg){const i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",i.appendChild(t),document.body.appendChild(i),Fg=0,0===i.scrollLeft&&(i.scrollLeft=1,Fg=0===i.scrollLeft?1:2),i.remove()}return Fg}function dl(i){return i.composedPath?i.composedPath()[0]:i.target}function Rx(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const OZ=new Ce("cdk-dir-doc",{providedIn:"root",factory:function(){return X_(bt)}}),LZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wr=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new qe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function(i){const e=(null==i?void 0:i.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?LZ.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(Y(OZ,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Lh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({}),i})(),Lg=(()=>{class i{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new Qe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Le(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(dk(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(wi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=Ao(n),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ca(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(Y(lt),Y(_i),Y(bt,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ng=(()=>{class i{constructor(t,n,r,s){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new Qe,this._elementScrolled=new Le(o=>this.ngZone.runOutsideAngular(()=>ca(this.elementRef.nativeElement,"scroll").pipe(Zt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&0!=Fh()?(null!=t.left&&(t.right=n.scrollWidth-n.clientWidth-t.left),2==Fh()?t.left=t.right:1==Fh()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const n=this.elementRef.nativeElement;pk()?n.scrollTo(t):(null!=t.top&&(n.scrollTop=t.top),null!=t.left&&(n.scrollLeft=t.left))}measureScrollOffset(t){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:n:"end"==t&&(t=o?n:r),o&&2==Fh()?t==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Fh()?t==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Lg),A(lt),A(Wr,8))},i.\u0275dir=De({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),hl=(()=>{class i{constructor(t,n,r){this._platform=t,this._change=new Qe,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(dk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(Y(_i),Y(lt),Y(bt,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Nh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({}),i})(),mk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[Lh,kh,Nh],Lh,Nh]}),i})();class UZ{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new HZ(e,this.predicate,this.inclusive))}}class HZ extends Ye{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}function js(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}const yk=pk();class eK{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ti(-this._previousScrollPosition.left),e.style.top=ti(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,n=e.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yk&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yk&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class tK{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bk{enable(){}disable(){}attach(){}}function Lx(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function xk(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class nK{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Lx(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let iK=(()=>{class i{constructor(t,n,r,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new bk,this.close=o=>new tK(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new eK(this._viewportRuler,this._document),this.reposition=o=>new nK(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return i.\u0275fac=function(t){return new(t||i)(Y(Lg),Y(hl),Y(lt),Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class wk{constructor(e){if(this.scrollStrategy=new bk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class rK{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class sK{constructor(e,t,n,r,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Qe,this._attachments=new Qe,this._detachments=new Qe,this._locationChanges=at.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Qe,this._outsidePointerEvents=new Qe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Nr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ti(this._config.width),e.height=ti(this._config.height),e.minWidth=ti(this._config.minWidth),e.minHeight=ti(this._config.minHeight),e.maxWidth=ti(this._config.maxWidth),e.maxHeight=ti(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=ok(t||[]).filter(s=>!!s);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Zt(Ms(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let Mk=(()=>{class i{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Rx()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(t),Rx()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(t){return new(t||i)(Y(bt),Y(_i))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ck="cdk-overlay-connected-position-bounding-box",oK=/([A-Za-z%]+)$/;class aK{constructor(e,t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Qe,this._resizeSubscription=at.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Ck),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,n)?r.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(r.length){let o=null,a=-1;for(const l of r){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ck),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;n="start"==t.originX?s:o}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,s;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,n,r){const s=Ek(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-n.height,p=this._subtractOverflows(s.width,0-o,o+s.width-n.width),m=this._subtractOverflows(s.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,s=n.right-t.x,o=Sk(this._overlayRef.getConfig().minHeight),a=Sk(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Ek(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-n.top-e.y,0),c=Math.max(s.left-n.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-n.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-n.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new rK(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=n.height-e.y+2*this._viewportMargin,s=n.height-a+this._viewportMargin;else{const f=Math.min(n.bottom-e.y+n.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=n.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=n.right-e.x;else{const f=Math.min(n.right-e.x+n.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ti(n.height),r.top=ti(n.top),r.bottom=ti(n.bottom),r.width=ti(n.width),r.left=ti(n.left),r.right=ti(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ti(s)),o&&(r.maxWidth=ti(o))}this._lastBoundingBoxSize=n,fl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){fl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();fl(n,this._getExactOverlayY(t,e,u)),fl(n,this._getExactOverlayX(t,e,u))}else n.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),o.maxHeight&&(r?n.maxHeight=ti(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=ti(o.maxWidth):s&&(n.maxWidth="")),fl(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ti(s.y),r}_getExactOverlayX(e,t,n){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ti(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xk(e,n),isOriginOutsideView:Lx(e,n),isOverlayClipped:xk(t,n),isOverlayOutsideView:Lx(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ok(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ft)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function fl(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Sk(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(oK);return t&&"px"!==t?null:parseFloat(e)}return i||null}function Ek(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const Dk="cdk-global-overlay-wrapper";class lK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Dk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=n,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(Dk),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let cK=(()=>{class i{constructor(t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new lK}flexibleConnectedTo(t){return new aK(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(Y(hl),Y(bt),Y(_i),Y(Mk))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Tk=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uK=(()=>{class i extends Tk{constructor(t){super(t),this._keydownListener=n=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(n);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dK=(()=>{class i extends Tk{constructor(t,n){super(t),this._platform=n,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=dl(r)},this._clickListener=r=>{const s=dl(r),o="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(r)}}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(t){return new(t||i)(Y(bt),Y(_i))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hK=0,Hh=(()=>{class i{constructor(t,n,r,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new wk(t);return o.direction=o.direction||this._directionality.value,new sK(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+hK++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(xc)),new uZ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(Y(iK),Y(Mk),Y(ao),Y(cK),Y(uK),Y(mi),Y(lt),Y(bt),Y(Wr),Y(yp),Y(dK))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const fK=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ak=new Ce("cdk-connected-overlay-scroll-strategy");let Ik=(()=>{class i{constructor(t){this.elementRef=t}}return i.\u0275fac=function(t){return new(t||i)(A(ft))},i.\u0275dir=De({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),Pk=(()=>{class i{constructor(t,n,r,s,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=at.EMPTY,this._attachSubscription=at.EMPTY,this._detachSubscription=at.EMPTY,this._positionSubscription=at.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new qe,this.positionChange=new qe,this.attach=new qe,this.detach=new qe,this.overlayKeydown=new qe,this.overlayOutsideClick=new qe,this._templatePortal=new Tx(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Wt(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Wt(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Wt(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Wt(t)}get push(){return this._push}set push(t){this._push=Wt(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=fK);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!js(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new wk({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Ik?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(i,e=!1){return t=>t.lift(new UZ(i,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(A(Hh),A(hr),A(Ui),A(Ak),A(Wr,8))},i.\u0275dir=De({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ri]}),i})();const mK={provide:Ak,deps:[Hh],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let Rk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({providers:[Hh,mK],imports:[[Lh,rk,mk],mk]}),i})(),gK=(()=>{class i{constructor(t){this.overlay=t,this.imageUrls=new Array,this.displacementImageUrl="",this.forceFullscreen=!1,this.forceShowNavButtons=!1,this.imageSize="cover",this.autoPlay=!1,this.autoPlayInterval=5e3,this.transitionDuration=1e3,this.transitionType="split",this.sizeX=50,this.sizeY=50,this.width=.5,this.intensity=40,this.showPerformanceMonitor=!1}ngOnInit(){}open(t=0){this.overlayRef=this.overlay.create({hasBackdrop:!0,positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:this.overlay.scrollStrategies.block()}),this.overlayRef.backdropClick().subscribe({next:()=>{var r;null===(r=this.overlayRef)||void 0===r||r.detach()}});const n=this.overlayRef.attach(new nk(hZ));n.instance.overlayRef=this.overlayRef,n.instance.imageUrls=this.imageUrls,n.instance.displacementImageUrl=this.displacementImageUrl,n.instance.forceFullscreen=this.forceFullscreen,n.instance.forceShowNavButtons=this.forceShowNavButtons,n.instance.imageSize=this.imageSize,n.instance.autoPlay=this.autoPlay,n.instance.autoPlayInterval=this.autoPlayInterval,n.instance.transitionDuration=this.transitionDuration,n.instance.transitionType=this.transitionType,n.instance.sizeX=this.sizeX,n.instance.sizeY=this.sizeY,n.instance.width=this.width,n.instance.intensity=this.intensity,n.instance.startIndex=t,n.instance.showPerformanceMonitor=this.showPerformanceMonitor}close(){var t;null===(t=this.overlayRef)||void 0===t||t.detach()}}return i.\u0275fac=function(t){return new(t||i)(A(Hh))},i.\u0275cmp=Rt({type:i,selectors:[["lib-lightbox"]],inputs:{imageUrls:"imageUrls",displacementImageUrl:"displacementImageUrl",forceFullscreen:"forceFullscreen",forceShowNavButtons:"forceShowNavButtons",imageSize:"imageSize",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",transitionDuration:"transitionDuration",transitionType:"transitionType",sizeX:"sizeX",sizeY:"sizeY",width:"width",intensity:"intensity",showPerformanceMonitor:"showPerformanceMonitor"},decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})(),_K=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr,tk,Rk,Rh]]}),i})();const kk=new T,vK=new Qn,Ok=new T;class yK extends Ci{constructor(e=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const $s=new Et,bK=new Et;class Fk{constructor(e={}){const t=this;let n,r,s,o;const a={camera:{fov:0,style:""},objects:new WeakMap},l=void 0!==e.element?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l;const c=document.createElement("div");function u(p){return Math.abs(p)<1e-10?0:p}function d(p){const m=p.elements;return"matrix3d("+u(m[0])+","+u(-m[1])+","+u(m[2])+","+u(m[3])+","+u(m[4])+","+u(-m[5])+","+u(m[6])+","+u(m[7])+","+u(m[8])+","+u(-m[9])+","+u(m[10])+","+u(m[11])+","+u(m[12])+","+u(-m[13])+","+u(m[14])+","+u(m[15])+")"}function h(p){const m=p.elements;return"translate(-50%,-50%)matrix3d("+u(m[0])+","+u(m[1])+","+u(m[2])+","+u(m[3])+","+u(-m[4])+","+u(-m[5])+","+u(-m[6])+","+u(-m[7])+","+u(m[8])+","+u(m[9])+","+u(m[10])+","+u(m[11])+","+u(m[12])+","+u(m[13])+","+u(m[14])+","+u(m[15])+")"}function f(p,m,g,b){if(p.isCSS3DObject){const y=!0===p.visible&&!0===p.layers.test(g.layers);if(p.element.style.display=!0===y?"":"none",!0===y){let w;p.onBeforeRender(t,m,g),p.isCSS3DSprite?($s.copy(g.matrixWorldInverse),$s.transpose(),0!==p.rotation2D&&$s.multiply(bK.makeRotationZ(p.rotation2D)),p.matrixWorld.decompose(kk,vK,Ok),$s.setPosition(kk),$s.scale(Ok),$s.elements[3]=0,$s.elements[7]=0,$s.elements[11]=0,$s.elements[15]=1,w=h($s)):w=h(p.matrixWorld);const x=p.element,S=a.objects.get(p);void 0!==S&&S.style===w||(x.style.transform=w,a.objects.set(p,{style:w})),x.parentNode!==c&&c.appendChild(x),p.onAfterRender(t,m,g)}}for(let y=0,w=p.children.length;y<w;y++)f(p.children[y],m,g,b)}c.style.transformStyle="preserve-3d",c.style.pointerEvents="none",l.appendChild(c),this.getSize=function(){return{width:n,height:r}},this.render=function(p,m){const g=m.projectionMatrix.elements[5]*o;let b,y;a.camera.fov!==g&&(l.style.perspective=m.isPerspectiveCamera?g+"px":"",a.camera.fov=g),!0===p.autoUpdate&&p.updateMatrixWorld(),null===m.parent&&m.updateMatrixWorld(),m.isOrthographicCamera&&(b=-(m.right+m.left)/2,y=(m.top+m.bottom)/2);const w=m.isOrthographicCamera?"scale("+g+")translate("+u(b)+"px,"+u(y)+"px)"+d(m.matrixWorldInverse):"translateZ("+g+"px)"+d(m.matrixWorldInverse),x=w+"translate("+s+"px,"+o+"px)";a.camera.style!==x&&(c.style.transform=x,a.camera.style=x),f(p,p,m,w)},this.setSize=function(p,m){n=p,r=m,s=n/2,o=r/2,l.style.width=p+"px",l.style.height=m+"px",c.style.width=p+"px",c.style.height=m+"px"}}}class xK{constructor(e,t,n){this.isUserInteracting=!1,this.restoringAnimationOngoing=!1,this.restoringOriginPosTimeout=0,this.userInteracted=!1,this.userInteractedSubject=new Qe,this.rotationSpeed=1,this.verticalRotation=!0,this.horizontalRotation=!0,this.autoRotationY=!1,this.autoRotationX=!1,this.autoRotationZ=!1,this.restoreOriginPosition=!1,this.autoRotationSpeed=.002,this.userInteracted$=this.userInteractedSubject.asObservable(),this.controlsEnabled=!0,this.mouseDown=r=>{!1===this.controlsEnabled||!0===this.restoringAnimationOngoing||(window.clearTimeout(this.restoringOriginPosTimeout),this.isUserInteracting=!0,this.startDraggingPosition=new J(0,0),this.startDraggingPosition.set(r.offsetX,r.offsetY),this.touchArea.addEventListener("pointermove",this.mouseMove,!1),this.touchArea.addEventListener("pointerup",this.mouseUp,!1))},this.mouseMove=r=>{if(!1!==this.controlsEnabled&&!this.restoringAnimationOngoing&&this.isUserInteracting){0==this.userInteracted&&(this.userInteracted=!0,this.userInteractedSubject.next(this.userInteracted));const o=new J(r.offsetX-this.startDraggingPosition.x,r.offsetY-this.startDraggingPosition.y);this.startDraggingPosition.set(r.offsetX,r.offsetY);const a=1==this.verticalRotation?o.x*Math.PI/180*this.rotationSpeed:0,l=1==this.horizontalRotation?o.y*Math.PI/180*this.rotationSpeed:0;var s=(new Qn).setFromEuler(new ph(l,a,0,"XYZ"));this.obj.quaternion.multiplyQuaternions(s,this.obj.quaternion)}},this.mouseUp=()=>{!1===this.controlsEnabled||this.restoringAnimationOngoing||(this.resetMousePosition(),this.isUserInteracting=!1,this.restoreOriginPosition&&this.restoreOriginalPosition(),this.touchArea.removeEventListener("mousemove",this.mouseMove,!1),this.touchArea.removeEventListener("mouseup",this.mouseUp,!1))},this.onTouchStart=r=>{!1===this.controlsEnabled||this.restoringAnimationOngoing||(window.clearTimeout(this.restoringOriginPosTimeout),this.isUserInteracting=!0,this.restoringAnimationOngoing=!1,this.startDraggingPosition.set(r.touches[0].pageX,r.touches[0].pageY))},this.onTouchMove=r=>{if(!1!==this.controlsEnabled&&!this.restoringAnimationOngoing&&this.isUserInteracting&&!this.restoringAnimationOngoing){0==this.userInteracted&&(this.userInteracted=!0,this.userInteractedSubject.next(this.userInteracted));const o=new J(r.touches[0].pageX-this.startDraggingPosition.x,r.touches[0].pageY-this.startDraggingPosition.y);this.startDraggingPosition.set(r.touches[0].pageX,r.touches[0].pageY);const a=1==this.verticalRotation?o.x*Math.PI/180*this.rotationSpeed:0,l=1==this.horizontalRotation?o.y*Math.PI/180*this.rotationSpeed:0;var s=(new Qn).setFromEuler(new ph(l,a,0,"XYZ"));this.obj.quaternion.multiplyQuaternions(s,this.obj.quaternion)}},this.onTouchEnd=r=>{!1===this.controlsEnabled||this.restoringAnimationOngoing||(this.isUserInteracting=!1,this.resetMousePosition(),this.restoreOriginPosition&&this.restoreOriginalPosition())},this.rendererDom=e,this.obj=t,this.touchArea=null!=n?n:this.rendererDom,this.startDraggingPosition=new J(0,0),this.addEventlisteners()}update(){if(!(this.isUserInteracting||this.restoringAnimationOngoing||this.userInteracted)){var e=1==this.autoRotationY?this.autoRotationSpeed:0,t=1==this.autoRotationX?this.autoRotationSpeed:0,n=1==this.autoRotationZ?this.autoRotationSpeed:0,r=(new Qn).setFromEuler(new ph(t,e,n,"XYZ"));this.obj.quaternion.multiplyQuaternions(r,this.obj.quaternion)}}removeEventlisteners(){this.touchArea.removeEventListener("mousedown",this.mouseDown,!1),this.touchArea.removeEventListener("mousemove",this.mouseMove,!1),this.touchArea.removeEventListener("mouseup",this.mouseUp,!1),this.touchArea.removeEventListener("touchstart",this.onTouchStart,!1),this.touchArea.removeEventListener("touchmove",this.onTouchMove,!1),this.touchArea.removeEventListener("touchend",this.onTouchEnd,!1)}resetUserInteractionFlag(){this.userInteracted=!1,this.userInteractedSubject.next(this.userInteracted)}addEventlisteners(){this.touchArea.addEventListener("mousedown",this.mouseDown,!1),this.touchArea.addEventListener("touchend",this.onTouchEnd,!1),this.touchArea.addEventListener("touchstart",this.onTouchStart,!1),this.touchArea.addEventListener("touchmove",this.onTouchMove,!1)}resetMousePosition(){this.startDraggingPosition.set(0,0)}restoreOriginalPosition(){this.restoringOriginPosTimeout=window.setTimeout(()=>{var e=new Ci;e.position.set(0,0,0),e.rotation.set(0,0,0),Fi.createTween(Fi.linear,[this.obj.position.x,this.obj.position.y,this.obj.position.z],[e.position.x,e.position.y,e.position.z],1e3).subscribe({next:t=>{0==this.restoringAnimationOngoing&&(this.restoringAnimationOngoing=!0),this.obj.rotation.set(t[0],t[1],t[2])},complete:()=>{this.restoringAnimationOngoing=!1,this.resetUserInteractionFlag()}})},5e3)}}const wK=["threejsContainer"],MK=["indicationDots"],CK=["performanceMonitor"],SK=function(i){return{fill:i}},EK=function(i,e){return{stroke:i,visibility:e}};function DK(i,e){if(1&i&&(Sf(),_(0,"svg",7),xe(1,"circle",8),xe(2,"path",9),v()),2&i){const t=e.index,n=fe();q(1),$("ngStyle",Fs(3,SK,n.activeCarouselElement===t?n.activeDotColor:n.dotColor)),q(1),ny("id",t),$("ngStyle",lp(5,EK,n.dotAnimationCircleColor,n.activeCarouselElement===t&&n.autoPlay?"visible":"hidden"))}}function TK(i,e){1&i&&xe(0,"acuw-performance-monitor",null,10)}const AK=function(i){return{visibility:i}};let Lk=(()=>{class i{constructor(t){this.el=t,this.htmlElement=this.el.nativeElement}}return i.\u0275fac=function(t){return new(t||i)(A(ft))},i.\u0275dir=De({type:i,selectors:[["acuw-carousel-item"]],hostAttrs:[1,"acuw-carousel-item"]}),i})(),Nk=(()=>{class i{constructor(t,n){this.ngZone=t,this.animationBuilder=n,this.showDots=!0,this.dotColor="#fff",this.activeDotColor="#3f51b5",this.dotAnimationCircleColor="#fff",this.activeCarouselElement=0,this.initAnimation=!0,this.radius=200,this.yPosition=0,this.cameraFov=65,this.cameraDistance=600,this.autoPlay=!1,this.autoPlayInterval=5e3,this.rotationDuration=500,this.showPerformanceMonitor=!1,this.activeElementChanged=new qe,this.css3dRenderer=new Fk,this.scene=new fu,this.carouselGroup=new hu,this.carouselObjSubsciptions=new Array,this.rotationSubscription=new at,this.animation=!0,this.userMove=!1}ngAfterViewInit(){this.camera=new ei(this.cameraFov,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,0,this.cameraDistance);const t=this.threejsContainer.nativeElement.clientWidth,n=this.threejsContainer.nativeElement.clientHeight;this.css3dRenderer=new Fk,this.css3dRenderer.setSize(t,n),this.css3dRenderer.domElement.style.position="absolute",this.css3dRenderer.domElement.style.top="0",this.threejsContainer.nativeElement.appendChild(this.css3dRenderer.domElement),this.initCarouselObjects(),this.objectControls=new xK(this.css3dRenderer.domElement,this.carouselGroup,this.threejsContainer.nativeElement),this.objectControls.userInteracted$.subscribe({next:r=>{this.userMove=r,this.rotationSubscription.unsubscribe()}}),this.autoPlay&&this.startDotAnimation(this.activeCarouselElement),this.animate()}ngOnChanges(t){let n=t.activeCarouselElement;n&&!n.firstChange&&this.carouselGroup&&this.rotateTo(n.currentValue,!0),n=t.radius,n&&!n.firstChange&&this.carouselGroup&&this.updateRadius(),n=t.cameraFov,n&&!n.firstChange&&this.camera&&(this.camera.fov=this.cameraFov,this.camera.updateProjectionMatrix()),n=t.cameraDistance,n&&!n.firstChange&&this.camera&&(this.camera.position.set(0,0,this.cameraDistance),this.camera.updateProjectionMatrix()),n=t.autoPlay,n&&this.carouselGroup&&(!0===n.currentValue?this.startDotAnimation(this.activeCarouselElement):this.resetDotAnimation())}ngOnDestroy(){cancelAnimationFrame(this.animationFrameId),this.rotationSubscription.unsubscribe(),this.threejsContainer.nativeElement.removeChild(this.css3dRenderer.domElement),this.scene.clear()}resize(){const t=this.threejsContainer.nativeElement.clientWidth,n=this.threejsContainer.nativeElement.clientHeight;this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.css3dRenderer.setSize(t,n)}animate(){1==this.animation&&this.css3dRenderer.render(this.scene,this.camera),this.performanceMonitor&&this.showPerformanceMonitor&&this.performanceMonitor.end(),this.ngZone.runOutsideAngular(()=>{this.animationFrameId=window.requestAnimationFrame(()=>this.animate())})}startDotAnimation(t){if(this.dotAnimationPlayer||!this.dots)return;let n;n=this.animationBuilder.build(this.showDots?[xt({strokeDasharray:"0,250.2",visibility:"visible"}),Tn(this.autoPlayInterval,xt({strokeDasharray:"250.2,250.2",visibility:"hidden"}))]:[xt({strokeDasharray:"0,250.2",visibility:"hidden"}),Tn(this.autoPlayInterval,xt({strokeDasharray:"250.2,250.2",visibility:"hidden"}))]);const r=this.dots.nativeElement.children[t].getElementsByTagName("path")[0];this.dotAnimationPlayer=n.create(r),this.dotAnimationPlayer.play(),this.dotAnimationPlayer.onDone(()=>{this.dotAnimationPlayer=null,this.next()})}resetDotAnimation(){this.dotAnimationPlayer&&this.dotAnimationPlayer.hasStarted()&&(this.dotAnimationPlayer.reset(),this.dotAnimationPlayer=null)}initCarouselObjects(t=!0){var n;this.carouselElements=new Array;for(let l=0;l<this.carouselItemTemplates.length;l++){let c=null===(n=this.carouselItemTemplates.get(l))||void 0===n?void 0:n.htmlElement;if(c){var r=new yK(c);r.element.style.pointerEvents="none",this.carouselElements.push(r),this.carouselObjSubsciptions.push(new at)}}this.carouselGroup.clear();var s=-this.activeCarouselElement*Math.PI*2/this.carouselElements.length;this.carouselGroup.rotation.set(0,s,0);var o=0;const a=this.carouselElements.length;this.carouselElements.forEach(l=>{this.carouselObjSubsciptions[o].unsubscribe();let c=new Ci,u=2*o*(Math.PI/a);c.position.setFromCylindricalCoords(this.radius,u,this.yPosition);let d=new T(2*c.position.x,c.position.y,2*c.position.z);c.lookAt(d),l.rotation.x=c.rotation.x,l.rotation.y=c.rotation.y,l.rotation.z=c.rotation.z,!0===this.initAnimation&&!0===t?(l.position.x=2e3*Math.random()-1e3,l.position.y=500*Math.random(),l.position.z=500*Math.random(),this.carouselGroup.add(l),this.ngZone.runOutsideAngular(()=>{this.carouselObjSubsciptions[o]=Fi.createTween(Fi.easeInOutQuad,[l.position.x,l.position.y,l.position.z],[c.position.x,c.position.y,c.position.z],2e3).subscribe({next:h=>{l.position.set(h[0],h[1],h[2])}})})):(l.position.x=c.position.x,l.position.y=c.position.y,l.position.z=c.position.z,this.carouselGroup.add(l)),o+=1}),this.scene.add(this.carouselGroup)}next(){return this.rotateTo(this.activeCarouselElement>=this.carouselElements.length-1?0:this.activeCarouselElement+1)}previous(){return this.rotateTo(0==this.activeCarouselElement?this.carouselElements.length-1:this.activeCarouselElement-1)}rotateTo(t,n=!1){return new Promise((r,s)=>{t>this.carouselElements.length-1&&(console.error("target index is greater than available carousel items"),s("target index is greater than available carousel items")),this.resetDotAnimation(),t>this.activeCarouselElement?0==this.activeCarouselElement&&0!=this.carouselGroup.rotation.y&&0==this.carouselGroup.rotation.x&&0==this.carouselGroup.rotation.z&&this.carouselGroup.rotation.set(0,0,0):t==this.carouselElements.length-1&&0==this.activeCarouselElement&&0==this.carouselGroup.rotation.y&&0==this.carouselGroup.rotation.x&&0==this.carouselGroup.rotation.z&&this.carouselGroup.rotation.set(0,-2*Math.PI,0);const o=this.carouselGroup.quaternion.clone(),a=-t*Math.PI*2/this.carouselElements.length;let l=(new Qn).setFromEuler(new ph(0,a,0,"XYZ"));n?(this.carouselGroup.quaternion.slerpQuaternions(o,l,1),this.rotationCompleted(t),r(this.activeCarouselElement)):(this.rotationSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.rotationSubscription=Fi.createTween(Fi.easeInOutQuad,0,1,this.rotationDuration).subscribe({next:c=>{this.carouselGroup.quaternion.slerpQuaternions(o,l,c)},complete:()=>{this.carouselGroup.quaternion.slerpQuaternions(o,l,1),this.ngZone.run(()=>{this.rotationCompleted(t),r(this.activeCarouselElement)})}})}))})}rotationCompleted(t){this.activeCarouselElement=t,this.activeElementChanged.emit(this.activeCarouselElement),this.objectControls.resetUserInteractionFlag(),this.autoPlay&&this.startDotAnimation(this.activeCarouselElement)}updateCarouselItems(){this.initCarouselObjects(!1)}updateRadius(){for(let t=0;t<this.carouselGroup.children.length;t++){let n=2*t*(Math.PI/this.carouselGroup.children.length);this.carouselGroup.children[t].position.setFromCylindricalCoords(this.radius,n,this.yPosition)}}}return i.\u0275fac=function(t){return new(t||i)(A(lt),A(Zb))},i.\u0275cmp=Rt({type:i,selectors:[["acuw-carousel"]],contentQueries:function(t,n,r){if(1&t&&an(r,Lk,4),2&t){let s;ze(s=Ue())&&(n.carouselItemTemplates=s)}},viewQuery:function(t,n){if(1&t&&(Vt(wK,5),Vt(MK,5),Vt(CK,5)),2&t){let r;ze(r=Ue())&&(n.threejsContainer=r.first),ze(r=Ue())&&(n.dots=r.first),ze(r=Ue())&&(n.performanceMonitor=r.first)}},hostBindings:function(t,n){1&t&&he("resize",function(){return n.resize()},!1,Xl)},inputs:{showDots:"showDots",dotColor:"dotColor",activeDotColor:"activeDotColor",dotAnimationCircleColor:"dotAnimationCircleColor",activeCarouselElement:"activeCarouselElement",initAnimation:"initAnimation",radius:"radius",yPosition:"yPosition",cameraFov:"cameraFov",cameraDistance:"cameraDistance",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",rotationDuration:"rotationDuration",showPerformanceMonitor:"showPerformanceMonitor"},outputs:{activeElementChanged:"activeElementChanged"},features:[ri],decls:7,vars:5,consts:[[1,"carousel-container"],[1,"threejs-container"],["threejsContainer",""],[1,"dots",3,"ngStyle"],["indicationDots",""],["viewBox","0 0 100 100",4,"ngFor","ngForOf"],[4,"ngIf"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","45",3,"ngStyle"],["fill","none","stroke-linecap","round","stroke-width","20","d","M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80",3,"id","ngStyle"],["performanceMonitor",""]],template:function(t,n){1&t&&(_(0,"div",0),xe(1,"div",1,2),_(3,"div",3,4),je(5,DK,3,8,"svg",5),v(),je(6,TK,2,0,"acuw-performance-monitor",6),v()),2&t&&(q(3),$("ngStyle",Fs(3,AK,n.showDots?"visible":"hidden")),q(2),$("ngForOf",n.carouselItemTemplates),q(1),$("ngIf",n.showPerformanceMonitor))},directives:[Ky,Ho,Qi,kg],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:inherit}.threejs-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:inherit}.dots[_ngcontent-%COMP%]{position:absolute;bottom:0%;display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap;width:100%;overflow:hidden}.dots[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;margin:0 5px 24px}"],data:{animation:[zr("dotsAnimation",[Ln(":enter",[Kb("svg",[xt({opacity:0,transform:"translateY(200%)"}),iI(100,[Tn("300ms ease-in",xt({opacity:1,transform:"none"}))])],{optional:!0})]),Ln(":leave",[Kb("svg",[iI(100,[Tn("300ms ease-in",xt({opacity:0,transform:"translateY(200%)"}))])],{optional:!0})])]),zr("autoPlayAnimation",[hs("false",xt({strokeDasharray:"0,250.2"})),hs("true",xt({strokeDasharray:"250.2,250.2"})),Ln("false => true",Tn(5e3))])]}}),i})(),IK=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr,Rh]]}),i})(),Gh=(()=>{class i{constructor(){}getTabIndexFromParam(t){switch(t){case"demo":default:return 0;case"description":return 1}}getParamFromTabIndex(t){switch(t){case 0:default:return"demo";case 1:return"description"}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Nx(i,e=Du){return t=>t.lift(new PK(i,e))}class PK{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new RK(e,this.dueTime,this.scheduler))}}class RK extends Ye{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(kK,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function kK(i){i.debouncedNext()}class FK{constructor(e){this.total=e}call(e,t){return t.subscribe(new LK(e,this.total))}}class LK extends Ye{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function Bg(i,e){return t=>t.lift(new NK(i,e))}class NK{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new BK(e,this.compare,this.keySelector))}}class BK extends Ye{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:r}=this;n=r(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}let Bk=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),VK=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,n)=>this._cleanupObserver(n))}observe(t){const n=Ao(t);return new Le(r=>{const o=this._observeElement(n).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const n=new Qe,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:n,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:n,stream:r}=this._observedElements.get(t);n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(Y(Bk))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Bx=(()=>{class i{constructor(t,n,r){this._contentObserver=t,this._elementRef=n,this._ngZone=r,this.event=new qe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Wt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=br(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Nx(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(A(VK),A(ft),A(lt))},i.\u0275dir=De({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Vg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({providers:[Bk]}),i})();class Uk{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Qe,this._typeaheadSubscription=at.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Qe,this.change=new Qe,e instanceof Aa&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Dn(t=>this._pressedLetters.push(t)),Nx(e),wi(()=>this._pressedLetters.length>0),mt(()=>this._pressedLetters.join(""))).subscribe(t=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||js(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Aa?this._items.toArray():this._items}}class HK extends Uk{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class Hk extends Uk{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let Gk=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function(i){try{return i.frameElement}catch(e){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(n&&(-1===jk(n)||!this.isVisible(n)))return!1;let r=t.nodeName.toLowerCase(),s=jk(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||Wk(i))}(t)&&!this.isDisabled(t)&&((null==n?void 0:n.ignoreVisibility)||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(Y(_i))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Wk(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function jk(i){if(!Wk(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class JK{constructor(e,t,n,r,s=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let n=0;n<t.length;n++){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let n=t.length-1;n>=0;n--){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Nr(1)).subscribe(e)}}let eQ=(()=>{class i{constructor(t,n,r){this._checker=t,this._ngZone=n,this._document=r}create(t,n=!1){return new JK(t,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(t){return new(t||i)(Y(Gk),Y(lt),Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $k(i){return 0===i.offsetX&&0===i.offsetY}function qk(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const tQ=new Ce("cdk-input-modality-detector-options"),nQ={ignoreKeys:[18,17,224,91,16]},Iu=Au({passive:!0,capture:!0});let iQ=(()=>{class i{constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Lr(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=dl(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next($k(o)?"keyboard":"mouse"),this._mostRecentTarget=dl(o))},this._onTouchstart=o=>{qk(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dl(o))},this._options=Object.assign(Object.assign({},nQ),s),this.modalityDetected=this._modality.pipe(e=>e.lift(new FK(1))),this.modalityChanged=this.modalityDetected.pipe(Bg()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Iu),r.addEventListener("mousedown",this._onMousedown,Iu),r.addEventListener("touchstart",this._onTouchstart,Iu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Iu),document.removeEventListener("mousedown",this._onMousedown,Iu),document.removeEventListener("touchstart",this._onTouchstart,Iu))}}return i.\u0275fac=function(t){return new(t||i)(Y(_i),Y(lt),Y(bt),Y(tQ,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rQ=new Ce("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),oQ=new Ce("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let aQ=(()=>{class i{constructor(t,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(a=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,a(),"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return i.\u0275fac=function(t){return new(t||i)(Y(rQ,8),Y(lt),Y(bt),Y(oQ,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const lQ=new Ce("cdk-focus-monitor-default-options"),zg=Au({passive:!0,capture:!0});let Pu=(()=>{class i{constructor(t,n,r,s,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Qe,this._rootNodeFocusAndBlurListener=a=>{const l=dl(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,n=!1){const r=Ao(t);if(!this._platform.isBrowser||1!==r.nodeType)return Je(null);const s=function(i){if(function(){if(null==Px){const i="undefined"!=typeof document?document.head:null;Px=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Px}()){const e=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const a={checkChildren:n,subject:new Qe,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const n=Ao(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=Ao(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=dl(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r.subject,null))}_emitOrigin(t,n){this._ngZone.run(()=>t.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,zg),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,zg)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zg),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zg),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r.subject,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}}return i.\u0275fac=function(t){return new(t||i)(Y(lt),Y(_i),Y(iQ),Y(bt,8),Y(lQ,8))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cQ=(()=>{class i{constructor(t,n){this._elementRef=t,this._focusMonitor=n,this.cdkFocusChange=new qe}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>this.cdkFocusChange.emit(n))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Pu))},i.\u0275dir=De({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),i})();const Yk="cdk-high-contrast-black-on-white",Zk="cdk-high-contrast-white-on-black",Vx="cdk-high-contrast-active";let Kk=(()=>{class i{constructor(t,n){this._platform=t,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Vx),t.remove(Yk),t.remove(Zk),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(t.add(Vx),t.add(Yk)):2===n&&(t.add(Vx),t.add(Zk))}}}return i.\u0275fac=function(t){return new(t||i)(Y(_i),Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uQ=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(Y(Kk))},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[kh,Vg]]}),i})();function Jk(){return"undefined"!=typeof window&&void 0!==window.document}function zx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ua(i){switch(i.length){case 0:return new kc;case 1:return i[0];default:return new sI(i)}}function e2(i,e,t,n,r={},s={}){const o=[],a=[];let l=-1,c=null;if(n.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let m=p,g=u[p];if("offset"!==p)switch(m=e.normalizePropertyName(m,o),g){case"!":g=r[p];break;case _o:g=s[p];break;default:g=e.normalizeStyleValue(p,m,g,o)}f[m]=g}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function Ux(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&Hx(t,"start",i)));break;case"done":i.onDone(()=>n(t&&Hx(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&Hx(t,"destroy",i)))}}function Hx(i,e,t){const n=t.totalTime,s=Gx(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==n?i.totalTime:n,!!t.disabled),o=i._data;return null!=o&&(s._data=o),s}function Gx(i,e,t,n,r="",s=0,o){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function xr(i,e,t){let n;return i instanceof Map?(n=i.get(e),n||i.set(e,n=t)):(n=i[e],n||(n=i[e]=t)),n}function t2(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let Wx=(i,e)=>!1,n2=(i,e,t)=>[];(zx()||"undefined"!=typeof Element)&&(Wx=Jk()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),n2=(i,e,t)=>{let n=[];if(t){const r=i.querySelectorAll(e);for(let s=0;s<r.length;s++)n.push(r[s])}else{const r=i.querySelector(e);r&&n.push(r)}return n});let pl=null,r2=!1;function jx(i){pl||(pl=("undefined"!=typeof document?document.body:null)||{},r2=!!pl.style&&"WebkitAppearance"in pl.style);let e=!0;return pl.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in pl.style,!e&&r2&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in pl.style)),e}const $x=Wx,qx=n2;function s2(i){const e={};return Object.keys(i).forEach(t=>{const n=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=i[t]}),e}let o2=(()=>{class i{validateStyleProperty(t){return jx(t)}matchesElement(t,n){return!1}containsElement(t,n){return $x(t,n)}query(t,n,r){return qx(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,a=[],l){return new kc(r,s)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})(),Xx=(()=>{class i{}return i.NOOP=new o2,i})();const Yx="ng-enter",Ug="ng-leave",Hg="ng-trigger",Gg=".ng-trigger",l2="ng-animating",Zx=".ng-animating";function ml(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Kx(parseFloat(e[1]),e[2])}function Kx(i,e){return"s"===e?1e3*i:i}function Wg(i,e,t){return i.hasOwnProperty("duration")?i:function(i,e,t){let r,s=0,o="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};r=Kx(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Kx(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=i;if(!t){let a=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${i}" is invalid.`)}return{duration:r,delay:s,easing:o}}(i,e,t)}function Ru(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function da(i,e,t={}){if(e)for(let n in i)t[n]=i[n];else Ru(i,t);return t}function u2(i,e,t){return t?e+":"+t+";":""}function d2(i){let e="";for(let t=0;t<i.style.length;t++){const n=i.style.item(t);e+=u2(0,n,i.style.getPropertyValue(n))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=u2(0,vQ(t),i.style[t]));i.setAttribute("style",e)}function qs(i,e,t){i.style&&(Object.keys(e).forEach(n=>{const r=Jx(n);t&&!t.hasOwnProperty(n)&&(t[n]=i.style[r]),i.style[r]=e[n]}),zx()&&d2(i))}function gl(i,e){i.style&&(Object.keys(e).forEach(t=>{const n=Jx(t);i.style[n]=""}),zx()&&d2(i))}function Wh(i){return Array.isArray(i)?1==i.length?i[0]:nI(i):i}const Qx=new RegExp("{{\\s*(.+?)\\s*}}","g");function h2(i){let e=[];if("string"==typeof i){let t;for(;t=Qx.exec(i);)e.push(t[1]);Qx.lastIndex=0}return e}function jg(i,e,t){const n=i.toString(),r=n.replace(Qx,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return r==n?i:r}function $g(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const _Q=/-+([a-z0-9])/g;function Jx(i){return i.replace(_Q,(...e)=>e[1].toUpperCase())}function vQ(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function f2(i,e){return 0===i||0===e}function p2(i,e,t){const n=Object.keys(t);if(n.length&&e.length){let s=e[0],o=[];if(n.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=ew(i,l)})}}return e}function wr(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function ew(i,e){return window.getComputedStyle(i)[e]}function yQ(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function(i,e,t){if(":"==i[0]){const l=function(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof l)return void e.push(l);i=l}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const r=n[1],s=n[2],o=n[3];e.push(m2(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(m2(o,r))}(n,t,e)):t.push(i),t}const Xg=new Set(["true","1"]),Yg=new Set(["false","0"]);function m2(i,e){const t=Xg.has(i)||Yg.has(i),n=Xg.has(e)||Yg.has(e);return(r,s)=>{let o="*"==i||i==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?Xg.has(i):Yg.has(i)),!a&&n&&"boolean"==typeof s&&(a=s?Xg.has(e):Yg.has(e)),o&&a}}const wQ=new RegExp("s*:selfs*,?","g");function tw(i,e,t){return new MQ(i).build(e,t)}class MQ{constructor(e){this._driver=e}build(e,t){const n=new EQ(t);return this._resetContextStyleTimingState(n),wr(this,Wh(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);n+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};if(n.styles.forEach(a=>{if(Zg(a)){const l=a;Object.keys(l).forEach(c=>{h2(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=$g(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=wr(this,Wh(e.animation),t);return{type:1,matchers:yQ(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:_l(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>wr(this,n,t)),options:_l(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=n;const a=wr(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:_l(e.options)}}visitAnimate(e,t){const n=function(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return nw(Wg(i,e).duration,0,"");const n=i;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=nw(0,0,"");return s.dynamic=!0,s.strValue=n,s}return t=t||Wg(n,e),nw(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,s=e.styles?e.styles:xt({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};n.easing&&(c.easing=n.easing),o=xt(c)}t.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==_o?n.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):n.push(o)}):n.push(e.styles);let r=!1,s=null;return n.forEach(o=>{if(Zg(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),t.options&&function(i,e,t){const n=e.params||{},r=h2(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const y=this._makeStyleAst(b,t);let w=null!=y.offset?y.offset:function(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(Zg(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Zg(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(y.styles),x=0;return null!=w&&(s++,x=y.offset=w),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),y});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((b,y)=>{const w=h>0?y==f?1:h*y:o[y],x=w*g;t.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(b,t),b.offset=w,n.styles.push(b)}),n}visitReference(e,t){return{type:8,animation:wr(this,Wh(e.animation),t),options:_l(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:_l(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:_l(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(wQ,"")),i=i.replace(/@\*/g,Gg).replace(/@\w+/g,t=>Gg+"-"+t.substr(1)).replace(/:animating/g,Zx),[i,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,xr(t.collectedStyles,t.currentQuerySelector,{});const a=wr(this,Wh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:_l(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wg(e.timings,t.errors,!0);return{type:12,animation:wr(this,Wh(e.animation),t),timings:n,options:null}}}class EQ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Zg(i){return!Array.isArray(i)&&"object"==typeof i}function _l(i){return i?(i=Ru(i)).params&&(i.params=function(i){return i?Ru(i):null}(i.params)):i={},i}function nw(i,e,t){return{duration:i,delay:e,easing:t}}function iw(i,e,t,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Kg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const PQ=new RegExp(":enter","g"),kQ=new RegExp(":leave","g");function rw(i,e,t,n,r,s={},o={},a,l,c=[]){return(new OQ).buildKeyframes(i,e,t,n,r,s,o,a,l,c)}class OQ{buildKeyframes(e,t,n,r,s,o,a,l,c,u=[]){c=c||new Kg;const d=new sw(e,t,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),wr(this,n,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[iw(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime;const o=null!=n.duration?ml(n.duration):null,a=null!=n.delay?ml(n.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),wr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qg);const o=ml(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>wr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ml(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),wr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Wg(t.params?jg(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ml(r.delay):0;s&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Qg);let o=n;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),wr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;wr(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}}const Qg={};class sw{constructor(e,t,n,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Jg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=ml(n.duration)),null!=n.delay&&(r.delay=ml(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=jg(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,s=new sw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Qg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},s=new FQ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(PQ,"."+this._enterClassName)).replace(kQ,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Jg{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Jg(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||_o,this._currentKeyframe[t]=_o}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function(i,e){const t={};let n;return i.forEach(r=>{"*"===r?(n=n||Object.keys(e),n.forEach(s=>{t[s]=_o})):da(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=jg(o[a],s,n);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:_o),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(n=>{this._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(n=>{this._currentKeyframe.hasOwnProperty(n)||(this._currentKeyframe[n]=this._localTimelineStyles[n])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=da(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==_o&&t.add(u)}),n||(c.offset=l/this.duration),r.push(c)});const s=e.size?$g(e.values()):[],o=t.size?$g(t.values()):[];if(n){const a=r[0],l=Ru(a);a.offset=0,l.offset=1,r=[a,l]}return iw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class FQ extends Jg{constructor(e,t,n,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=n+t,a=t/o,l=da(e[0],!1);l.offset=0,s.push(l);const c=da(e[0],!1);c.offset=v2(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=da(e[d],!1);h.offset=v2((t+h.offset*n)/o),s.push(h)}n=o,t=0,r="",e=s}return iw(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function v2(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class ow{}class NQ extends ow{normalizePropertyName(e,t){return Jx(e)}normalizeStyleValue(e,t,n,r){let s="";const o=n.toString().trim();if(BQ[t]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+s}}const BQ=(()=>function(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function y2(i,e,t,n,r,s,o,a,l,c,u,d,h){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const aw={};class b2{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(i,e,t,n,r){return i.some(s=>s(e,t,n,r))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return s?s.buildStyles(t,n):o}build(e,t,n,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||aw,p=this.buildStyles(n,a&&a.params||aw,d),m=l&&l.params||aw,g=this.buildStyles(r,m,d),b=new Set,y=new Map,w=new Map,x="void"===r,S={params:Object.assign(Object.assign({},h),m)},E=u?[]:rw(e,t,this.ast.animation,s,o,p,g,S,c,d);let O=0;if(E.forEach(I=>{O=Math.max(I.duration+I.delay,O)}),d.length)return y2(t,this._triggerName,n,r,x,p,g,[],[],y,w,O,d);E.forEach(I=>{const L=I.element,B=xr(y,L,{});I.preStyleProps.forEach(le=>B[le]=!0);const ee=xr(w,L,{});I.postStyleProps.forEach(le=>ee[le]=!0),L!==t&&b.add(L)});const C=$g(b.values());return y2(t,this._triggerName,n,r,x,p,g,E,C,y,w,O)}}class UQ{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=Ru(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=jg(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),n[c]=l})}}),n}}class GQ{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new UQ(r.style,r.options&&r.options.params||{},n)}),x2(this.states,"true","1"),x2(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new b2(e,r,this.states))}),this.fallbackTransition=function(i,e,t){return new b2(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(o=>o.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function x2(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const jQ=new Kg;class $Q{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=tw(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,s=e2(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=rw(this._driver,t,s,Yx,Ug,{},{},n,jQ,r),o.forEach(u=>{const d=xr(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,_o)})});const c=ua(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const s=Gx(t,"","","");return Ux(this._getPlayer(e),n,s,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const w2="ng-animate-queued",lw="ng-animate-disabled",KQ=[],M2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},QQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed";class cw{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(n?e.value:e),n){const s=Ru(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const jh="void",uw=new cw(jh);class JQ{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$r(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);const s=xr(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=xr(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||($r(e,Hg),$r(e,Hg+"-"+t),a[t]=uw),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const s=this._getTrigger(t),o=new dw(this.id,t,e);let a=this._engine.statesByElement.get(e);a||($r(e,Hg),$r(e,Hg+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new cw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=uw),c.value!==jh&&l.value===c.value){if(!function(i,e){const t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),b=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{gl(e,g),qs(e,b)})}return}const h=xr(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||($r(e,w2),o.onStart(()=>{ku(e,w2)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let b=g.indexOf(o);b>=0&&g.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Gg,!0);n.forEach(r=>{if(r[jr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,jh,r);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&ua(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=n[o]||uw,u=new cw(jh),d=new dw(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const s=e[jr];(!s||s===M2)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){$r(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){const l=Gx(s,n.triggerName,n.fromState.value,n.toState.value);l._data=e,Ux(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class eJ{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new JQ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const r=Object.keys(n);for(let s=0;s<r.length;s++){const o=n[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,n,r){if(e_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!e_(t))return;const s=t[jr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$r(e,lw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ku(e,lw))}removeNode(e,t,n,r){if(e_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t[jr]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,s){return e_(t)?this._fetchNamespace(e).listen(t,n,r,s):()=>{}}_buildInstruction(e,t,n,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Gg,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Zx,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ua(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const n=e[jr];if(n&&n.setForRemoval){if(e[jr]=M2,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(lw))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)$r(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?ua(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new Kg,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);const U=this.driver.query(F,".ng-animate-queued",!0);for(let H=0;H<U.length;H++)u.add(U[H])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=E2(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((F,U)=>{const H=Yx+m++;p.set(U,H),F.forEach(z=>$r(z,H))});const g=[],b=new Set,y=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){const U=this.collectedLeaveElements[F],H=U[jr];H&&H.setForRemoval&&(g.push(U),b.add(U),H.hasAnimation?this.driver.query(U,".ng-star-inserted",!0).forEach(z=>b.add(z)):y.add(U))}const w=new Map,x=E2(h,Array.from(b));x.forEach((F,U)=>{const H=Ug+m++;w.set(U,H),F.forEach(z=>$r(z,H))}),e.push(()=>{f.forEach((F,U)=>{const H=p.get(U);F.forEach(z=>ku(z,H))}),x.forEach((F,U)=>{const H=w.get(U);F.forEach(z=>ku(z,H))}),g.forEach(F=>{this.processLeaveNode(F)})});const S=[],E=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(t).forEach(H=>{const z=H.player,W=H.element;if(S.push(z),this.collectedEnterElements.length){const tt=W[jr];if(tt&&tt.setForMove)return void z.destroy()}const de=!d||!this.driver.containsElement(d,W),ie=w.get(W),me=p.get(W),ge=this._buildInstruction(H,n,me,ie,de);if(ge.errors&&ge.errors.length)return void E.push(ge);if(de)return z.onStart(()=>gl(W,ge.fromStyles)),z.onDestroy(()=>qs(W,ge.toStyles)),void r.push(z);if(H.isFallbackTransition)return z.onStart(()=>gl(W,ge.fromStyles)),z.onDestroy(()=>qs(W,ge.toStyles)),void r.push(z);const it=[];ge.timelines.forEach(tt=>{tt.stretchStartingKeyframe=!0,this.disabledNodes.has(tt.element)||it.push(tt)}),ge.timelines=it,n.append(W,ge.timelines),o.push({instruction:ge,player:z,element:W}),ge.queriedElements.forEach(tt=>xr(a,tt,[]).push(z)),ge.preStyleProps.forEach((tt,Xe)=>{const rt=Object.keys(tt);if(rt.length){let we=l.get(Xe);we||l.set(Xe,we=new Set),rt.forEach(St=>we.add(St))}}),ge.postStyleProps.forEach((tt,Xe)=>{const rt=Object.keys(tt);let we=c.get(Xe);we||c.set(Xe,we=new Set),rt.forEach(St=>we.add(St))})});if(E.length){const F=[];E.forEach(U=>{F.push(`@${U.triggerName} has failed due to:\n`),U.errors.forEach(H=>F.push(`- ${H}\n`))}),S.forEach(U=>U.destroy()),this.reportError(F)}const O=new Map,C=new Map;o.forEach(F=>{const U=F.element;n.has(U)&&(C.set(U,U),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,O))}),r.forEach(F=>{const U=F.element;this._getPreviousPlayers(U,!1,F.namespaceId,F.triggerName,null).forEach(z=>{xr(O,U,[]).push(z),z.destroy()})});const I=g.filter(F=>T2(F,l,c)),L=new Map;S2(L,this.driver,y,c,_o).forEach(F=>{T2(F,l,c)&&I.push(F)});const ee=new Map;f.forEach((F,U)=>{S2(ee,this.driver,new Set(F),l,"!")}),I.forEach(F=>{const U=L.get(F),H=ee.get(F);L.set(F,Object.assign(Object.assign({},U),H))});const le=[],V=[],K={};o.forEach(F=>{const{element:U,player:H,instruction:z}=F;if(n.has(U)){if(u.has(U))return H.onDestroy(()=>qs(U,z.toStyles)),H.disabled=!0,H.overrideTotalTime(z.totalTime),void r.push(H);let W=K;if(C.size>1){let ie=U;const me=[];for(;ie=ie.parentNode;){const ge=C.get(ie);if(ge){W=ge;break}me.push(ie)}me.forEach(ge=>C.set(ge,W))}const de=this._buildAnimation(H.namespaceId,z,O,s,ee,L);if(H.setRealPlayer(de),W===K)le.push(H);else{const ie=this.playersByElement.get(W);ie&&ie.length&&(H.parentPlayer=ua(ie)),r.push(H)}}else gl(U,z.fromStyles),H.onDestroy(()=>qs(U,z.toStyles)),V.push(H),u.has(U)&&r.push(H)}),V.forEach(F=>{const U=s.get(F.element);if(U&&U.length){const H=ua(U);F.setRealPlayer(H)}}),r.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<g.length;F++){const U=g[F],H=U[jr];if(ku(U,Ug),H&&H.hasAnimation)continue;let z=[];if(a.size){let de=a.get(U);de&&de.length&&z.push(...de);let ie=this.driver.query(U,Zx,!0);for(let me=0;me<ie.length;me++){let ge=a.get(ie[me]);ge&&ge.length&&z.push(...ge)}}const W=z.filter(de=>!de.destroyed);W.length?rJ(this,U,W):this.processLeaveNode(U)}return g.length=0,le.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();const U=this.players.indexOf(F);this.players.splice(U,1)}),F.play()}),le}elementContainsData(e,t){let n=!1;const r=t[jr];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==jh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=xr(n,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}gl(s,t.fromStyles)}_buildAnimation(e,t,n,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[jr];if(g&&g.removedBeforeQueried)return new kc(p.duration,p.delay);const b=m!==l,y=function(i){const e=[];return D2(i,e),e}((n.get(m)||KQ).map(O=>O.getRealPlayer())).filter(O=>!!O.element&&O.element===m),w=s.get(m),x=o.get(m),S=e2(0,this._normalizer,0,p.keyframes,w,x),E=this._buildPlayer(p,S,y);if(p.subTimeline&&r&&d.add(m),b){const O=new dw(e,a,m);O.setRealPlayer(E),c.push(O)}return E});c.forEach(p=>{xr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(i,e,t){let n;if(i instanceof Map){if(n=i.get(e),n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&i.delete(e)}}else if(n=i[e],n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&delete i[e]}return n}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>$r(p,l2));const f=ua(h);return f.onDestroy(()=>{u.forEach(p=>ku(p,l2)),qs(l,t.toStyles)}),d.forEach(p=>{xr(r,p,[]).push(f)}),f}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new kc(e.duration,e.delay)}}class dw{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new kc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Ux(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function e_(i){return i&&1===i.nodeType}function C2(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function S2(i,e,t,n,r){const s=[];t.forEach(l=>s.push(C2(l)));const o=[];n.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,r);(!h||0==h.length)&&(c[jr]=QQ,o.push(c))}),i.set(c,u)});let a=0;return t.forEach(l=>C2(l,s[a++])),o}function E2(i,e){const t=new Map;if(i.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function $r(i,e){var t;null===(t=i.classList)||void 0===t||t.add(e)}function ku(i,e){var t;null===(t=i.classList)||void 0===t||t.remove(e)}function rJ(i,e,t){ua(t).onDone(()=>i.processLeaveNode(e))}function D2(i,e){for(let t=0;t<i.length;t++){const n=i[t];n instanceof sI?D2(n.players,e):e.push(n)}}function T2(i,e,t){const n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(s=>r.add(s)):e.set(i,n),t.delete(i),!0}class t_{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new eJ(e,t,n),this._timelineEngine=new $Q(e,t,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,n,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=tw(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(i,e,t){return new GQ(i,e,t)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[s,o]=t2(n);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,s){if("@"==n.charAt(0)){const[o,a]=t2(n);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,n,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function A2(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=hw(e[0]),e.length>1&&(n=hw(e[e.length-1]))):e&&(t=hw(e)),t||n?new aJ(i,t,n):null}let aJ=(()=>{class i{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let s=i.initialStylesByElement.get(t);s||i.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&qs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qs(this._element,this._initialStyles),this._endStyles&&(qs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(gl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gl(this._element,this._endStyles),this._endStyles=null),qs(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function hw(i){let e=null;const t=Object.keys(i);for(let n=0;n<t.length;n++){const r=t[n];lJ(r)&&(e=e||{},e[r]=i[r])}return e}function lJ(i){return"display"===i||"position"===i}const I2="animation",P2="animationend";class dJ{constructor(e,t,n,r,s,o,a){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(i,e){const t=pw(i,"").trim();let n=0;t.length&&(function(i,e){let t=0;for(let n=0;n<i.length;n++)","===i.charAt(n)&&t++;return t}(t)+1,e=`${t}, ${e}`),n_(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),O2(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){R2(this._element,this._name,"paused")}resume(){R2(this._element,this._name,"running")}setPosition(e){const t=k2(this._element,this._name);this._position=e*this._duration,n_(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),O2(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,e){const n=pw(i,"").split(","),r=fw(n,e);r>=0&&(n.splice(r,1),n_(i,"",n.join(",")))}(this._element,this._name))}}function R2(i,e,t){n_(i,"PlayState",t,k2(i,e))}function k2(i,e){const t=pw(i,"");return t.indexOf(",")>0?fw(t.split(","),e):fw([t],e)}function fw(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function O2(i,e,t){t?i.removeEventListener(P2,e):i.addEventListener(P2,e)}function n_(i,e,t,n){const r=I2+e;if(null!=n){const s=i.style[r];if(s.length){const o=s.split(",");o[n]=t,t=o.join(",")}}i.style[r]=t}function pw(i,e){return i.style[I2+e]||""}class F2{constructor(e,t,n,r,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new dJ(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:ew(this.element,n))})}this.currentSnapshot=e}}class _J extends kc{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=s2(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class N2{constructor(){this._count=0}validateStyleProperty(e){return jx(e)}matchesElement(e,t){return!1}containsElement(e,t){return $x(e,t)}query(e,t,n){return qx(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(a=>s2(a));let r=`@keyframes ${t} {\n`,s="";n.forEach(a=>{s=" ";const l=parseFloat(a.offset);r+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(r+=`${s}animation-timing-function: ${u};\n`));default:return void(r+=`${s}${c}: ${u};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,n,r,s,o=[],a){const l=o.filter(g=>g instanceof F2),c={};f2(n,r)&&l.forEach(g=>{let b=g.currentSnapshot;Object.keys(b).forEach(y=>c[y]=b[y])});const u=function(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(n=>{Object.keys(n).forEach(r=>{"offset"==r||"easing"==r||(e[r]=n[r])})}),e}(t=p2(e,t,c));if(0==n)return new _J(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(i){var e;const t=null===(e=i.getRootNode)||void 0===e?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=A2(e,t),m=new F2(e,t,d,n,r,s,u,p);return m.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(h)),m}}class V2{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(n=>{"offset"!=n&&(e[n]=this._finished?t[n]:ew(this.element,n))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class wJ{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(z2().toString()),this._cssKeyframesDriver=new N2}validateStyleProperty(e){return jx(e)}matchesElement(e,t){return!1}containsElement(e,t){return $x(e,t)}query(e,t,n){return qx(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,s,o);const u={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof V2);f2(n,r)&&h.forEach(p=>{let m=p.currentSnapshot;Object.keys(m).forEach(g=>d[g]=m[g])});const f=A2(e,t=p2(e,t=t.map(p=>da(p,!1)),d));return new V2(e,t,u,f)}}function z2(){return Jk()&&Element.prototype.animate||{}}let CJ=(()=>{class i extends Zb{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:Kr.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?nI(t):t;return U2(this._renderer,null,n,"register",[r]),new SJ(n,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(Y(Dd),Y(bt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();class SJ extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new EJ(this._id,e,t||{},this._renderer)}}class EJ{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return U2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function U2(i,e,t,n,r){return i.setProperty(e,`@@${t}:${n}`,r)}const H2="@.disabled";let DJ=(()=>{class i{constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,n){const s=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let u=this._rendererCache.get(s);return u||(u=new G2("",s,this.engine),this._rendererCache.set(s,u)),u}const o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return n.data.animation.forEach(l),new TJ(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){t>=0&&t<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(Y(Dd),Y(t_),Y(lt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();class G2{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==H2?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class TJ extends G2{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==H2?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(e,t,n)}}let PJ=(()=>{class i extends t_{constructor(t,n,r){super(t.body,n,r)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(Y(bt),Y(Xx),Y(ow))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const qi=new Ce("AnimationModuleType"),W2=[{provide:Zb,useClass:CJ},{provide:ow,useFactory:function(){return new NQ}},{provide:t_,useClass:PJ},{provide:Dd,useFactory:function(i,e,t){return new DJ(i,e,t)},deps:[Op,t_,lt]}],j2=[{provide:Xx,useFactory:function(){return"function"==typeof z2()?new wJ:new N2}},{provide:qi,useValue:"BrowserAnimations"},...W2],FJ=[{provide:Xx,useClass:o2},{provide:qi,useValue:"NoopAnimations"},...W2];let LJ=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?FJ:j2}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({providers:j2,imports:[YD]}),i})();function NJ(i,e){if(1&i&&xe(0,"mat-pseudo-checkbox",4),2&i){const t=fe();$("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function BJ(i,e){if(1&i&&(_(0,"span",5),M(1),v()),2&i){const t=fe();q(1),oo("(",t.group.label,")")}}const VJ=["*"],UJ=new Ce("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ln=(()=>{class i{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Rx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(Y(Kk),Y(UJ,8),Y(bt))},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[Lh],Lh]}),i})();function Ou(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Wt(e)}}}function vl(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const n=t||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function Fu(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Wt(e)}}}function mw(i,e=0){return class extends i{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?br(t):this.defaultTabIndex}}}function q2(i){return class extends i{constructor(...e){super(...e),this.stateChanges=new Qe,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let gw=(()=>{class i{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),GJ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),i})();function $h(i,e,t){i.nativeElement.classList.toggle(e,t)}let X2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[ln],ln]}),i})();class jJ{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Y2={enterDuration:225,exitDuration:150},_w=Au({passive:!0}),Z2=["mousedown","touchstart"],K2=["mouseup","mouseleave","touchend","touchcancel"];class qJ{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ao(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},Y2),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=n.radius||function(i,e,t){const n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new jJ(this,u,n);return d.state=0,this._activeRipples.add(d),n.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!n.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},Y2),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ao(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Z2))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(K2),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=$k(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!qk(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,_w)})})}_removeTriggerEvents(){this._triggerElement&&(Z2.forEach(e=>{this._triggerElement.removeEventListener(e,this,_w)}),this._pointerUpEventsRegistered&&K2.forEach(e=>{this._triggerElement.removeEventListener(e,this,_w)}))}}const ZJ=new Ce("mat-ripple-global-options");let yl=(()=>{class i{constructor(t,n,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new qJ(this,n,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(lt),A(_i),A(ZJ,8),A(qi,8))},i.\u0275dir=De({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,n){2&t&&Ft("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),qh=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[ln,kh],ln]}),i})(),Q2=(()=>{class i{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(t){return new(t||i)(A(qi,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,n){2&t&&Ft("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,n){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),vw=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[ln]]}),i})();const J2=new Ce("MAT_OPTION_PARENT_COMPONENT"),eO=new Ce("MatOptgroup");let KJ=0;class QJ{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let JJ=(()=>{class i{constructor(t,n,r,s){this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+KJ++,this.onSelectionChange=new qe,this._stateChanges=new Qe}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Wt(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!js(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new QJ(this,t))}}return i.\u0275fac=function(t){ep()},i.\u0275dir=De({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),yw=(()=>{class i extends JJ{constructor(t,n,r,s){super(t,n,r,s)}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Fn),A(J2,8),A(eO,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,n){1&t&&he("click",function(){return n._selectViaInteraction()})("keydown",function(s){return n._handleKeydown(s)}),2&t&&(pc("id",n.id),tn("tabindex",n._getTabIndex())("aria-selected",n._getAriaSelected())("aria-disabled",n.disabled.toString()),Ft("mat-selected",n.selected)("mat-option-multiple",n.multiple)("mat-active",n.active)("mat-option-disabled",n.disabled))},exportAs:["matOption"],features:[nt],ngContentSelectors:VJ,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,n){1&t&&(ai(),je(0,NJ,1,2,"mat-pseudo-checkbox",0),_(1,"span",1),Yt(2),v(),je(3,BJ,2,1,"span",2),xe(4,"div",3)),2&t&&($("ngIf",n.multiple),q(3),$("ngIf",n.group&&n.group._inert),q(1),$("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},directives:[Qi,yl,Q2],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function tO(i,e,t){if(t.length){let n=e.toArray(),r=t.toArray(),s=0;for(let o=0;o<i+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}let nO=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[qh,fr,ln,vw]]}),i})();function tee(i,e){1&i&&Yt(0)}const iO=["*"];function nee(i,e){}const iee=function(i){return{animationDuration:i}},ree=function(i,e){return{value:i,params:e}},see=["tabListContainer"],oee=["tabList"],aee=["tabListInner"],lee=["nextPaginator"],cee=["previousPaginator"],uee=["tabBodyWrapper"],dee=["tabHeader"];function hee(i,e){}function fee(i,e){1&i&&je(0,hee,0,0,"ng-template",9),2&i&&$("cdkPortalOutlet",fe().$implicit.templateLabel)}function pee(i,e){1&i&&M(0),2&i&&gn(fe().$implicit.textLabel)}function mee(i,e){if(1&i){const t=on();_(0,"div",6),he("click",function(){const r=Ze(t),s=r.$implicit,o=r.index,a=fe(),l=Pr(1);return a._handleClick(s,l,o)})("cdkFocusChange",function(r){const o=Ze(t).index;return fe()._tabFocusChanged(r,o)}),_(1,"div",7),je(2,fee,1,1,"ng-template",8),je(3,pee,1,1,"ng-template",8),v(),v()}if(2&i){const t=e.$implicit,n=e.index,r=fe();Ft("mat-tab-label-active",r.selectedIndex==n),$("id",r._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||r.disableRipple),tn("tabIndex",r._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),q(2),$("ngIf",t.templateLabel),q(1),$("ngIf",!t.templateLabel)}}function gee(i,e){if(1&i){const t=on();_(0,"mat-tab-body",10),he("_onCentered",function(){return Ze(t),fe()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return Ze(t),fe()._setTabBodyWrapperHeight(r)}),v()}if(2&i){const t=e.$implicit,n=e.index,r=fe();Ft("mat-tab-body-active",r.selectedIndex===n),$("id",r._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration),tn("tabindex",null!=r.contentTabIndex&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))}}const _ee=new Ce("MatInkBarPositioner",{providedIn:"root",factory:function(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let rO=(()=>{class i{constructor(t,n,r,s){this._elementRef=t,this._ngZone=n,this._inkBarPositioner=r,this._animationMode=s}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const n=this._inkBarPositioner(t),r=this._elementRef.nativeElement;r.style.left=n.left,r.style.width=n.width}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(lt),A(_ee),A(qi,8))},i.\u0275dir=De({type:i,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,n){2&t&&Ft("_mat-animation-noopable","NoopAnimations"===n._animationMode)}}),i})();const sO=new Ce("MatTabContent");let Xh=(()=>{class i{constructor(t){this.template=t}}return i.\u0275fac=function(t){return new(t||i)(A(hr))},i.\u0275dir=De({type:i,selectors:[["","matTabContent",""]],features:[Ht([{provide:sO,useExisting:i}])]}),i})();const yee=new Ce("MatTabLabel"),bee=new Ce("MAT_TAB"),xee=Ou(class{}),oO=new Ce("MAT_TAB_GROUP");let Lu=(()=>{class i extends xee{constructor(t,n){super(),this._viewContainerRef=t,this._closestTabGroup=n,this.textLabel="",this._contentPortal=null,this._stateChanges=new Qe,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Tx(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return i.\u0275fac=function(t){return new(t||i)(A(Ui),A(oO,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-tab"]],contentQueries:function(t,n,r){if(1&t&&(an(r,yee,5),an(r,sO,7,hr)),2&t){let s;ze(s=Ue())&&(n.templateLabel=s.first),ze(s=Ue())&&(n._explicitContent=s.first)}},viewQuery:function(t,n){if(1&t&&Vt(hr,7),2&t){let r;ze(r=Ue())&&(n._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[Ht([{provide:bee,useExisting:i}]),nt,ri],ngContentSelectors:iO,decls:1,vars:0,template:function(t,n){1&t&&(ai(),je(0,tee,1,0,"ng-template"))},encapsulation:2}),i})();const wee={translateTab:zr("translateTab",[hs("center, void, left-origin-center, right-origin-center",xt({transform:"none"})),hs("left",xt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),hs("right",xt({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Ln("* => left, * => right, left => center, right => center",Tn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Ln("void => left-origin-center",[xt({transform:"translate3d(-100%, 0, 0)"}),Tn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Ln("void => right-origin-center",[xt({transform:"translate3d(100%, 0, 0)"}),Tn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Mee=(()=>{class i extends Ax{constructor(t,n,r,s){super(t,n,s),this._host=r,this._centeringSub=at.EMPTY,this._leavingSub=at.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Br(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(A(ao),A(Ui),A(qt(()=>aO)),A(bt))},i.\u0275dir=De({type:i,selectors:[["","matTabBodyHost",""]],features:[nt]}),i})(),Cee=(()=>{class i{constructor(t,n,r){this._elementRef=t,this._dir=n,this._dirChangeSubscription=at.EMPTY,this._translateTabComplete=new Qe,this._onCentering=new qe,this._beforeCentering=new qe,this._afterLeavingCenter=new qe,this._onCentered=new qe(!0),this.animationDuration="500ms",n&&(this._dirChangeSubscription=n.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(Bg((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const n=this._isCenterPosition(t.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const n=this._getLayoutDirection();return"ltr"==n&&t<=0||"rtl"==n&&t>0?"left-origin-center":"right-origin-center"}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Wr,8),A(Fn))},i.\u0275dir=De({type:i,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),i})(),aO=(()=>{class i extends Cee{constructor(t,n,r){super(t,n,r)}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Wr,8),A(Fn))},i.\u0275cmp=Rt({type:i,selectors:[["mat-tab-body"]],viewQuery:function(t,n){if(1&t&&Vt(Ax,5),2&t){let r;ze(r=Ue())&&(n._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[nt],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,n){1&t&&(_(0,"div",0,1),he("@translateTab.start",function(s){return n._onTranslateTabStarted(s)})("@translateTab.done",function(s){return n._translateTabComplete.next(s)}),je(2,nee,0,0,"ng-template",2),v()),2&t&&$("@translateTab",lp(3,ree,n._position,Fs(1,iee,n.animationDuration)))},directives:[Mee],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[wee.translateTab]}}),i})();const lO=new Ce("MAT_TABS_CONFIG"),See=Ou(class{});let cO=(()=>{class i extends See{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return i.\u0275fac=function(t){return new(t||i)(A(ft))},i.\u0275dir=De({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,n){2&t&&(tn("aria-disabled",!!n.disabled),Ft("mat-tab-disabled",n.disabled))},inputs:{disabled:"disabled"},features:[nt]}),i})();const uO=Au({passive:!0});let Tee=(()=>{class i{constructor(t,n,r,s,o,a,l){this._elementRef=t,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Qe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Qe,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new qe,this.indexFocused=new qe,o.runOutsideAngular(()=>{ca(t.nativeElement,"mouseleave").pipe(Zt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=br(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){ca(this._previousPaginator.nativeElement,"touchstart",uO).pipe(Zt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ca(this._nextPaginator.nativeElement,"touchstart",uO).pipe(Zt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Je("ltr"),n=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Hk(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(r):r(),Ms(t,n,this._items.changes).pipe(Zt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(r)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Zt(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!js(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const n=this._items?this._items.toArray()[t]:null;return!!n&&!n.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const n=this._items?this._items.toArray()[t]:null;if(!n)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=n.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=s,l=a+o):(l=this._tabListInner.nativeElement.offsetWidth-s,a=l-o);const c=this.scrollDistance,u=this.scrollDistance+r;a<c?this.scrollDistance-=c-a+60:l>u&&(this.scrollDistance+=l-u+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=t?t.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),uk(650,100).pipe(Zt(Ms(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Fn),A(hl),A(Wr,8),A(lt),A(_i),A(qi,8))},i.\u0275dir=De({type:i,inputs:{disablePagination:"disablePagination"}}),i})(),Aee=(()=>{class i extends Tee{constructor(t,n,r,s,o,a,l){super(t,n,r,s,o,a,l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Wt(t)}_itemSelected(t){t.preventDefault()}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Fn),A(hl),A(Wr,8),A(lt),A(_i),A(qi,8))},i.\u0275dir=De({type:i,inputs:{disableRipple:"disableRipple"},features:[nt]}),i})(),Iee=(()=>{class i extends Aee{constructor(t,n,r,s,o,a,l){super(t,n,r,s,o,a,l)}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Fn),A(hl),A(Wr,8),A(lt),A(_i),A(qi,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-tab-header"]],contentQueries:function(t,n,r){if(1&t&&an(r,cO,4),2&t){let s;ze(s=Ue())&&(n._items=s)}},viewQuery:function(t,n){if(1&t&&(Vt(rO,7),Vt(see,7),Vt(oee,7),Vt(aee,7),Vt(lee,5),Vt(cee,5)),2&t){let r;ze(r=Ue())&&(n._inkBar=r.first),ze(r=Ue())&&(n._tabListContainer=r.first),ze(r=Ue())&&(n._tabList=r.first),ze(r=Ue())&&(n._tabListInner=r.first),ze(r=Ue())&&(n._nextPaginator=r.first),ze(r=Ue())&&(n._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,n){2&t&&Ft("mat-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[nt],ngContentSelectors:iO,decls:14,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,n){1&t&&(ai(),_(0,"div",0,1),he("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(s){return n._handlePaginatorPress("before",s)})("touchend",function(){return n._stopInterval()}),xe(2,"div",2),v(),_(3,"div",3,4),he("keydown",function(s){return n._handleKeydown(s)}),_(5,"div",5,6),he("cdkObserveContent",function(){return n._onContentChanges()}),_(7,"div",7,8),Yt(9),v(),xe(10,"mat-ink-bar"),v(),v(),_(11,"div",9,10),he("mousedown",function(s){return n._handlePaginatorPress("after",s)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),xe(13,"div",2),v()),2&t&&(Ft("mat-tab-header-pagination-disabled",n._disableScrollBefore),$("matRippleDisabled",n._disableScrollBefore||n.disableRipple),q(5),Ft("_mat-animation-noopable","NoopAnimations"===n._animationMode),q(6),Ft("mat-tab-header-pagination-disabled",n._disableScrollAfter),$("matRippleDisabled",n._disableScrollAfter||n.disableRipple))},directives:[yl,Bx,rO],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),i})(),Pee=0;class Ree{}const kee=vl(Fu(class{constructor(i){this._elementRef=i}}),"primary");let Oee=(()=>{class i extends kee{constructor(t,n,r,s){var o;super(t),this._changeDetectorRef=n,this._animationMode=s,this._tabs=new Aa,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=at.EMPTY,this._tabLabelSubscription=at.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new qe,this.focusChange=new qe,this.animationDone=new qe,this.selectedTabChange=new qe(!0),this._groupId=Pee++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(o=null==r?void 0:r.contentTabIndex)&&void 0!==o?o:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Wt(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=br(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=br(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const n=this._elementRef.nativeElement;n.classList.remove(`mat-background-${this.backgroundColor}`),t&&n.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),n||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-t,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const n=this._tabs.toArray();for(let r=0;r<n.length;r++)if(n[r].isActive){this._indexToSelect=this._selectedIndex=r;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Br(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(t){const n=this._tabHeader;n&&(n.focusIndex=t)}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const n=new Ree;return n.index=t,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[t]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ms(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,n,r){t.disabled||(this.selectedIndex=n.focusIndex=r)}_getTabIndex(t,n){return t.disabled?null:this.selectedIndex===n?0:-1}_tabFocusChanged(t,n){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=n)}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Fn),A(lO,8),A(qi,8))},i.\u0275dir=De({type:i,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[nt]}),i})(),Yh=(()=>{class i extends Oee{constructor(t,n,r,s){super(t,n,r,s)}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Fn),A(lO,8),A(qi,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-tab-group"]],contentQueries:function(t,n,r){if(1&t&&an(r,Lu,5),2&t){let s;ze(s=Ue())&&(n._allTabs=s)}},viewQuery:function(t,n){if(1&t&&(Vt(uee,5),Vt(dee,5)),2&t){let r;ze(r=Ue())&&(n._tabBodyWrapper=r.first),ze(r=Ue())&&(n._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,n){2&t&&Ft("mat-tab-group-dynamic-height",n.dynamicHeight)("mat-tab-group-inverted-header","below"===n.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Ht([{provide:oO,useExisting:i}]),nt],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,n){1&t&&(_(0,"mat-tab-header",0,1),he("indexFocused",function(s){return n._focusChanged(s)})("selectFocusedIndex",function(s){return n.selectedIndex=s}),je(2,mee,4,14,"div",2),v(),_(3,"div",3,4),je(5,gee,1,9,"mat-tab-body",5),v()),2&t&&($("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),q(2),$("ngForOf",n._tabs),q(1),Ft("_mat-animation-noopable","NoopAnimations"===n._animationMode),q(2),$("ngForOf",n._tabs))},directives:[Iee,Ho,cO,yl,cQ,Qi,Ax,aO],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),i})(),Fee=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr,ln,rk,qh,Vg,uQ],ln]}),i})(),Zh=(()=>{class i{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Wt(t)}get inset(){return this._inset}set inset(t){this._inset=Wt(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=Rt({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,n){2&t&&(tn("aria-orientation",n.vertical?"vertical":"horizontal"),Ft("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,n){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),i})(),hO=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[ln],ln]}),i})();var Lee=Fe(83);Fe(668),Fe(890);const Nee=["codeEl"],Bee=["*"];let Kh=(()=>{class i{constructor(){this.language=""}ngAfterViewInit(){this.codeEl&&(0,Lee.highlightElement)(this.codeEl.nativeElement)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=Rt({type:i,selectors:[["app-code-block"]],viewQuery:function(t,n){if(1&t&&Vt(Nee,5),2&t){let r;ze(r=Ue())&&(n.codeEl=r.first)}},inputs:{language:"language"},ngContentSelectors:Bee,decls:4,vars:3,consts:[["codeEl",""]],template:function(t,n){1&t&&(ai(),_(0,"pre"),_(1,"code",null,0),Yt(3),v(),v()),2&t&&(q(1),sy("language-",n.language,""))},styles:[""]}),i})();const Vee=["mat-button",""],zee=["*"],Hee=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Gee=vl(Ou(Fu(class{constructor(i){this._elementRef=i}})));let Qh=(()=>{class i extends Gee{constructor(t,n,r){super(t),this._focusMonitor=n,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Hee)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,n){t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(n=>this._getHostElement().hasAttribute(n))}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Pu),A(qi,8))},i.\u0275cmp=Rt({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,n){if(1&t&&Vt(yl,5),2&t){let r;ze(r=Ue())&&(n.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,n){2&t&&(tn("disabled",n.disabled||null),Ft("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-button-disabled",n.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[nt],attrs:Vee,ngContentSelectors:zee,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,n){1&t&&(ai(),_(0,"span",0),Yt(1),v(),xe(2,"span",1),xe(3,"span",2)),2&t&&(q(2),Ft("mat-button-ripple-round",n.isRoundButton||n.isIconButton),$("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",n.isIconButton)("matRippleTrigger",n._getHostElement()))},directives:[yl],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),Wee=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[qh,ln],ln]}),i})();class jee{}class ha{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),s=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ha?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ha;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ha?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class $ee{encodeKey(e){return fO(e)}encodeValue(e){return fO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Xee=/%(\d[a-f0-9])/gi,Yee={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function fO(i){return encodeURIComponent(i).replace(Xee,(e,t)=>{var n;return null!==(n=Yee[t])&&void 0!==n?n:e})}function pO(i){return`${i}`}class fa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $ee,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new fa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(pO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const r=n.indexOf(pO(e.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Zee{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mO(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function gO(i){return"undefined"!=typeof Blob&&i instanceof Blob}function _O(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Jh{constructor(e,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ha),this.context||(this.context=new Zee),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new fa,this.urlWithParams=t}serializeBody(){return null===this.body?null:mO(this.body)||gO(this.body)||_O(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_O(this.body)?null:gO(this.body)?this.body.type||null:mO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new Jh(n,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Di=(()=>((Di=Di||{})[Di.Sent=0]="Sent",Di[Di.UploadProgress=1]="UploadProgress",Di[Di.ResponseHeader=2]="ResponseHeader",Di[Di.DownloadProgress=3]="DownloadProgress",Di[Di.Response=4]="Response",Di[Di.User=5]="User",Di))();class bw extends class{constructor(e,t=200,n="OK"){this.headers=e.headers||new ha,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Di.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function xw(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let yO=(()=>{class i{constructor(t){this.handler=t}request(t,n,r={}){let s;if(t instanceof Jh)s=t;else{let l,c;l=r.headers instanceof ha?r.headers:new ha(r.headers),r.params&&(c=r.params instanceof fa?r.params:new fa({fromObject:r.params})),s=new Jh(t,n,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Je(s).pipe(Dc(l=>this.handler.handle(l)));if(t instanceof Jh||"events"===r.observe)return o;const a=o.pipe(wi(l=>l instanceof bw));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(mt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(mt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(mt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(mt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new fa).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,r={}){return this.request("PATCH",t,xw(r,n))}post(t,n,r={}){return this.request("POST",t,xw(r,n))}put(t,n,r={}){return this.request("PUT",t,xw(r,n))}}return i.\u0275fac=function(t){return new(t||i)(Y(jee))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac}),i})();const tte=["*"];let r_;function ef(i){var e;return(null===(e=function(){if(void 0===r_&&(r_=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(r_=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return r_}())||void 0===e?void 0:e.createHTML(i))||i}function bO(i){return Error(`Unable to find icon with the name "${i}"`)}function xO(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function wO(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class bl{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let s_=(()=>{class i{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new bl(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const o=this._sanitizer.sanitize(en.HTML,r);if(!o)throw wO(r);const a=ef(o);return this._addSvgIconConfig(t,n,new bl("",a,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new bl(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(en.HTML,n);if(!s)throw wO(n);const o=ef(s);return this._addSvgIconSetConfig(t,new bl("",o,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(en.RESOURCE_URL,t);if(!n)throw xO(t);const r=this._cachedIconsByUrl.get(n);return r?Je(o_(r)):this._loadSvgIconFromConfig(new bl(t,null)).pipe(Dn(s=>this._cachedIconsByUrl.set(n,s)),mt(s=>o_(s)))}getNamedSvgIcon(t,n=""){const r=MO(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):ek(bO(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Je(o_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(mt(n=>o_(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);return r?Je(r):tT(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe($o(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(en.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Je(null)})))).pipe(mt(()=>{const o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw bO(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Dn(n=>t.svgText=n),mt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Je(null):this._fetchIcon(t).pipe(Dn(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(ef("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(ef("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&n.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){var n;const{url:r,options:s}=t,o=null!==(n=null==s?void 0:s.withCredentials)&&void 0!==n&&n;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(en.RESOURCE_URL,r);if(!a)throw xO(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(mt(u=>ef(u)),nA(()=>this._inProgressUrlFetches.delete(a)),Nw());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(MO(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return ste(s)?new bl(s.url,null,s.options):new bl(s,null)}}}return i.\u0275fac=function(t){return new(t||i)(Y(yO,8),Y(ob),Y(bt,8),Y(io))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function o_(i){return i.cloneNode(!0)}function MO(i,e){return i+":"+e}function ste(i){return!(!i.url||!i.options)}const ote=vl(class{constructor(i){this._elementRef=i}}),ate=new Ce("mat-icon-location",{providedIn:"root",factory:function(){const i=X_(bt),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),CO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cte=CO.map(i=>`[${i}]`).join(", "),ute=/^url\(['"]?#(.*?)['"]?\)$/;let tf=(()=>{class i extends ote{constructor(t,n,r,s,o){super(t),this._iconRegistry=n,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=at.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Wt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=t.querySelectorAll("style");for(let s=0;s<n.length;s++)n[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),n&&t.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(cte),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)CO.forEach(o=>{const a=n[s],l=a.getAttribute(o),c=l?l.match(ute):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Nr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(s_),Es("aria-hidden"),A(ate),A(io))},i.\u0275cmp=Rt({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,n){2&t&&(tn("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),Ft("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[nt],ngContentSelectors:tte,decls:1,vars:0,template:function(t,n){1&t&&(ai(),Yt(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),dte=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[ln],ln]}),i})();const hte=["connectionContainer"],fte=["inputContainer"],pte=["label"];function mte(i,e){1&i&&(Rr(0),_(1,"div",14),xe(2,"div",15),xe(3,"div",16),xe(4,"div",17),v(),_(5,"div",18),xe(6,"div",15),xe(7,"div",16),xe(8,"div",17),v(),kr())}function gte(i,e){if(1&i){const t=on();_(0,"div",19),he("cdkObserveContent",function(){return Ze(t),fe().updateOutlineGap()}),Yt(1,1),v()}2&i&&$("cdkObserveContentDisabled","outline"!=fe().appearance)}function _te(i,e){if(1&i&&(Rr(0),Yt(1,2),_(2,"span"),M(3),v(),kr()),2&i){const t=fe(2);q(3),gn(t._control.placeholder)}}function vte(i,e){1&i&&Yt(0,3,["*ngSwitchCase","true"])}function yte(i,e){1&i&&(_(0,"span",23),M(1," *"),v())}function bte(i,e){if(1&i){const t=on();_(0,"label",20,21),he("cdkObserveContent",function(){return Ze(t),fe().updateOutlineGap()}),je(2,_te,4,1,"ng-container",12),je(3,vte,1,0,"ng-content",12),je(4,yte,2,0,"span",22),v()}if(2&i){const t=fe();Ft("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),$("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),tn("for",t._control.id)("aria-owns",t._control.id),q(2),$("ngSwitchCase",!1),q(1),$("ngSwitchCase",!0),q(1),$("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function xte(i,e){1&i&&(_(0,"div",24),Yt(1,4),v())}function wte(i,e){if(1&i&&(_(0,"div",25),xe(1,"span",26),v()),2&i){const t=fe();q(1),Ft("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Mte(i,e){1&i&&(_(0,"div"),Yt(1,5),v()),2&i&&$("@transitionMessages",fe()._subscriptAnimationState)}function Cte(i,e){if(1&i&&(_(0,"div",30),M(1),v()),2&i){const t=fe(2);$("id",t._hintLabelId),q(1),gn(t.hintLabel)}}function Ste(i,e){if(1&i&&(_(0,"div",27),je(1,Cte,2,2,"div",28),Yt(2,6),xe(3,"div",29),Yt(4,7),v()),2&i){const t=fe();$("@transitionMessages",t._subscriptAnimationState),q(1),$("ngIf",t.hintLabel)}}const Ete=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Dte=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Tte=new Ce("MatError"),Ate={transitionMessages:zr("transitionMessages",[hs("enter",xt({opacity:1,transform:"translateY(0%)"})),Ln("void => enter",[xt({opacity:0,transform:"translateY(-5px)"}),Tn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let a_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i}),i})();const Ite=new Ce("MatHint");let nf=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i,selectors:[["mat-label"]]}),i})(),Pte=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i,selectors:[["mat-placeholder"]]}),i})();const Rte=new Ce("MatPrefix"),kte=new Ce("MatSuffix");let SO=0;const Fte=vl(class{constructor(i){this._elementRef=i}},"primary"),Lte=new Ce("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ww=new Ce("MatFormField");let Mw=(()=>{class i extends Fte{constructor(t,n,r,s,o,a,l){super(t),this._changeDetectorRef=n,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Qe,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+SO++,this._labelId="mat-form-field-label-"+SO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const n=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&n!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Wt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Br(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Zt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Ms(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Br(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Br(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Zt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const n=this._control?this._control.ngControl:null;return n&&n[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ca(this._label.nativeElement,"transitionend").pipe(Nr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let n=0,r=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),u=t.children,d=this._getStartEnd(u[0].getBoundingClientRect());let h=0;for(let f=0;f<u.length;f++)h+=u[f].offsetWidth;n=Math.abs(d-c)-5,r=h>0?.75*h+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${n}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Fn),A(Wr,8),A(Lte,8),A(_i),A(lt),A(qi,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-form-field"]],contentQueries:function(t,n,r){if(1&t&&(an(r,a_,5),an(r,a_,7),an(r,nf,5),an(r,nf,7),an(r,Pte,5),an(r,Tte,5),an(r,Ite,5),an(r,Rte,5),an(r,kte,5)),2&t){let s;ze(s=Ue())&&(n._controlNonStatic=s.first),ze(s=Ue())&&(n._controlStatic=s.first),ze(s=Ue())&&(n._labelChildNonStatic=s.first),ze(s=Ue())&&(n._labelChildStatic=s.first),ze(s=Ue())&&(n._placeholderChild=s.first),ze(s=Ue())&&(n._errorChildren=s),ze(s=Ue())&&(n._hintChildren=s),ze(s=Ue())&&(n._prefixChildren=s),ze(s=Ue())&&(n._suffixChildren=s)}},viewQuery:function(t,n){if(1&t&&(Vt(hte,7),Vt(fte,5),Vt(pte,5)),2&t){let r;ze(r=Ue())&&(n._connectionContainerRef=r.first),ze(r=Ue())&&(n._inputContainerRef=r.first),ze(r=Ue())&&(n._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,n){2&t&&Ft("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ht([{provide:ww,useExisting:i}]),nt],ngContentSelectors:Dte,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,n){1&t&&(ai(Ete),_(0,"div",0),_(1,"div",1,2),he("click",function(s){return n._control.onContainerClick&&n._control.onContainerClick(s)}),je(3,mte,9,0,"ng-container",3),je(4,gte,2,1,"div",4),_(5,"div",5,6),Yt(7),_(8,"span",7),je(9,bte,5,16,"label",8),v(),v(),je(10,xte,2,0,"div",9),v(),je(11,wte,2,4,"div",10),_(12,"div",11),je(13,Mte,2,1,"div",12),je(14,Ste,5,2,"div",13),v(),v()),2&t&&(q(3),$("ngIf","outline"==n.appearance),q(1),$("ngIf",n._prefixChildren.length),q(5),$("ngIf",n._hasFloatingLabel()),q(1),$("ngIf",n._suffixChildren.length),q(1),$("ngIf","outline"!=n.appearance),q(1),$("ngSwitch",n._getDisplayedMessages()),q(1),$("ngSwitchCase","error"),q(1),$("ngSwitchCase","hint"))},directives:[Qi,Nd,Zy,Bx],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Ate.transitionMessages]},changeDetection:0}),i})(),Cw=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr,ln,Vg],ln]}),i})();const DO=Au({passive:!0});let Nte=(()=>{class i{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Oa;const n=Ao(t),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new Qe,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,DO),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",a,DO)}}),s}stopMonitoring(t){const n=Ao(t),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}}return i.\u0275fac=function(t){return new(t||i)(Y(_i),Y(lt))},i.\u0275prov=Ve({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),TO=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[kh]]}),i})();const Bte=new Ce("MAT_INPUT_VALUE_ACCESSOR"),Vte=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zte=0;const Ute=q2(class{constructor(i,e,t,n){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=t,this.ngControl=n}});let Sw=(()=>{class i extends Ute{constructor(t,n,r,s,o,a,l,c,u,d){super(a,s,o,r),this._elementRef=t,this._platform=n,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+zte++,this.focused=!1,this.stateChanges=new Qe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>fk().has(p));const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Wt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,n,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===r?void 0:r.hasValidator(sT.required))&&void 0!==s&&s}set required(t){this._required=Wt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fk().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Wt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,n;const r=(null===(n=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===n?void 0:n.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Vte.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(_i),A(Ls,10),A($d,8),A(Xd,8),A(gw),A(Bte,10),A(Nte),A(lt),A(ww,8))},i.\u0275dir=De({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,n){1&t&&he("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&t&&(pc("disabled",n.disabled)("required",n.required),tn("id",n.id)("data-placeholder",n.placeholder)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required),Ft("mat-input-server",n._isServer)("mat-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ht([{provide:a_,useExisting:i}]),nt,ri]}),i})(),Hte=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({providers:[gw],imports:[[TO,Cw,ln],TO,Cw]}),i})();const Gte=["sliderWrapper"],qr=Au({passive:!1}),Xte={provide:pr,useExisting:qt(()=>l_),multi:!0};class Yte{}const Zte=mw(vl(Ou(class{constructor(i){this._elementRef=i}}),"accent"));let l_=(()=>{class i extends Zte{constructor(t,n,r,s,o,a,l,c){super(t),this._focusMonitor=n,this._changeDetectorRef=r,this._dir=s,this._ngZone=a,this._animationMode=c,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new qe,this.input=new qe,this.valueChange=new qe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=at.EMPTY,this._pointerDown=u=>{this.disabled||this._isSliding||!rf(u)&&0!==u.button||this._ngZone.run(()=>{this._touchId=rf(u)?function(i,e){for(let t=0;t<i.touches.length;t++){const n=i.touches[t].target;if(e===n||e.contains(n))return i.touches[t].identifier}}(u,this._elementRef.nativeElement):void 0;const d=AO(u,this._touchId);if(d){const h=this.value;this._isSliding="pointer",this._lastPointerEvent=u,u.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(u),this._focusHostElement(),this._updateValueFromPosition(d),this._valueOnSlideStart=h,h!=this.value&&this._emitInputEvent()}})},this._pointerMove=u=>{if("pointer"===this._isSliding){const d=AO(u,this._touchId);if(d){u.preventDefault();const h=this.value;this._lastPointerEvent=u,this._updateValueFromPosition(d),h!=this.value&&this._emitInputEvent()}}},this._pointerUp=u=>{"pointer"===this._isSliding&&(!rf(u)||"number"!=typeof this._touchId||Ew(u.changedTouches,this._touchId))&&(u.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=l,this.tabIndex=parseInt(o)||0,a.runOutsideAngular(()=>{const u=t.nativeElement;u.addEventListener("mousedown",this._pointerDown,qr),u.addEventListener("touchstart",this._pointerDown,qr)})}get invert(){return this._invert}set invert(t){this._invert=Wt(t)}get max(){return this._max}set max(t){this._max=br(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=br(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=br(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Wt(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?br(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let n=br(t,0);this._roundToDecimal&&n!==this.min&&n!==this.max&&(n=parseFloat(n.toFixed(this._roundToDecimal))),this._value=n,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Wt(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const n=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${n})`}}_getTrackFillStyles(){const t=this.percent,r=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,a={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const l=this._shouldInvertAxis();let c;c=this.vertical?l?"Bottom":"Top":l?"Right":"Left",a[`padding${c}`]=`${this._getThumbGap()}px`}return a}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,qr),t.removeEventListener("touchstart",this._pointerDown,qr),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||js(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const n=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}n!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const n=this._document,r=rf(t),o=r?"touchend":"mouseup";n.addEventListener(r?"touchmove":"mousemove",this._pointerMove,qr),n.addEventListener(o,this._pointerUp,qr),r&&n.addEventListener("touchcancel",this._pointerUp,qr);const a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,qr),t.removeEventListener("mouseup",this._pointerUp,qr),t.removeEventListener("touchmove",this._pointerMove,qr),t.removeEventListener("touchend",this._pointerUp,qr),t.removeEventListener("touchcancel",this._pointerUp,qr);const n=this._getWindow();void 0!==n&&n&&n.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let o=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(o=1-o),0===o)this.value=this.min;else if(1===o)this.value=this.max;else{const a=this._calculateValue(o),l=Math.round((a-this.min)/this.step)*this.step+this.min;this.value=this._clamp(l,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,s=Math.ceil(30/(t*this.step/(this.max-this.min)))*this.step;this._tickIntervalPercent=s/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let n=new Yte;return n.source=this,n.value=t,n}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,n=0,r=1){return Math.max(n,Math.min(t,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Pu),A(Fn),A(Wr,8),Es("tabindex"),A(lt),A(bt),A(qi,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-slider"]],viewQuery:function(t,n){if(1&t&&Vt(Gte,5),2&t){let r;ze(r=Ue())&&(n._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,n){1&t&&he("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)})("keyup",function(){return n._onKeyup()})("mouseenter",function(){return n._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&t&&(pc("tabIndex",n.tabIndex),tn("aria-disabled",n.disabled)("aria-valuemax",n.max)("aria-valuemin",n.min)("aria-valuenow",n.value)("aria-valuetext",null==n.valueText?n.displayValue:n.valueText)("aria-orientation",n.vertical?"vertical":"horizontal"),Ft("mat-slider-disabled",n.disabled)("mat-slider-has-ticks",n.tickInterval)("mat-slider-horizontal",!n.vertical)("mat-slider-axis-inverted",n._shouldInvertAxis())("mat-slider-invert-mouse-coords",n._shouldInvertMouseCoords())("mat-slider-sliding",n._isSliding)("mat-slider-thumb-label-showing",n.thumbLabel)("mat-slider-vertical",n.vertical)("mat-slider-min-value",n._isMinValue())("mat-slider-hide-last-tick",n.disabled||n._isMinValue()&&n._getThumbGap()&&n._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[Ht([Xte]),nt],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,n){1&t&&(_(0,"div",0,1),_(2,"div",2),xe(3,"div",3),xe(4,"div",4),v(),_(5,"div",5),xe(6,"div",6),v(),_(7,"div",7),xe(8,"div",8),xe(9,"div",9),_(10,"div",10),_(11,"span",11),M(12),v(),v(),v(),v()),2&t&&(q(3),$("ngStyle",n._getTrackBackgroundStyles()),q(1),$("ngStyle",n._getTrackFillStyles()),q(1),$("ngStyle",n._getTicksContainerStyles()),q(1),$("ngStyle",n._getTicksStyles()),q(1),$("ngStyle",n._getThumbContainerStyles()),q(5),gn(n.displayValue))},directives:[Ky],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),i})();function rf(i){return"t"===i.type[0]}function AO(i,e){let t;return t=rf(i)?"number"==typeof e?Ew(i.touches,e)||Ew(i.changedTouches,e):i.touches[0]||i.changedTouches[0]:i,t?{x:t.clientX,y:t.clientY}:void 0}function Ew(i,e){for(let t=0;t<i.length;t++)if(i[t].identifier===e)return i[t]}let Qte=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr,ln],ln]}),i})();const Jte=["thumbContainer"],ene=["toggleBar"],tne=["input"],nne=function(i){return{enterDuration:i}},ine=["*"],rne=new Ce("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let sne=0;const one={provide:pr,useExisting:qt(()=>sf),multi:!0};class ane{constructor(e,t){this.source=e,this.checked=t}}const lne=mw(vl(Fu(Ou(class{constructor(i){this._elementRef=i}}))));let sf=(()=>{class i extends lne{constructor(t,n,r,s,o,a){super(t),this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=o,this._onChange=l=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++sne,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new qe,this.toggleChange=new qe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===a}get required(){return this._required}set required(t){this._required=Wt(t)}get checked(){return this._checked}set checked(t){this._checked=Wt(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new ane(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Pu),A(Fn),Es("tabindex"),A(rne),A(qi,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,n){if(1&t&&(Vt(Jte,5),Vt(ene,5),Vt(tne,5)),2&t){let r;ze(r=Ue())&&(n._thumbEl=r.first),ze(r=Ue())&&(n._thumbBarEl=r.first),ze(r=Ue())&&(n._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,n){2&t&&(pc("id",n.id),tn("tabindex",null)("aria-label",null)("aria-labelledby",null),Ft("mat-checked",n.checked)("mat-disabled",n.disabled)("mat-slide-toggle-label-before","before"==n.labelPosition)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Ht([one]),nt],ngContentSelectors:ine,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,n){if(1&t&&(ai(),_(0,"label",0,1),_(2,"div",2,3),_(4,"input",4,5),he("change",function(s){return n._onChangeEvent(s)})("click",function(s){return n._onInputClick(s)}),v(),_(6,"div",6,7),xe(8,"div",8),_(9,"div",9),xe(10,"div",10),v(),v(),v(),_(11,"span",11,12),he("cdkObserveContent",function(){return n._onLabelTextChange()}),_(13,"span",13),M(14,"\xa0"),v(),Yt(15),v(),v()),2&t){const r=Pr(1),s=Pr(12);tn("for",n.inputId),q(2),Ft("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),q(2),$("id",n.inputId)("required",n.required)("tabIndex",n.tabIndex)("checked",n.checked)("disabled",n.disabled),tn("name",n.name)("aria-checked",n.checked.toString())("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),q(5),$("matRippleTrigger",r)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Fs(18,nne,n._noopAnimations?0:150))}},directives:[yl,Bx],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),IO=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({}),i})(),dne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[IO,qh,ln,Vg],IO,ln]}),i})();function hne(i,e){if(1&i){const t=on();_(0,"mat-form-field",23),_(1,"mat-label"),M(2,"Auto play interval (ms)"),v(),_(3,"input",31),he("ngModelChange",function(r){return Ze(t),fe(3).selectedAutoPlayInterval=r}),v(),v()}if(2&i){const t=fe(3);q(3),$("ngModel",t.selectedAutoPlayInterval)}}function fne(i,e){if(1&i){const t=on();_(0,"div",21),_(1,"h4"),M(2,"Settings"),v(),_(3,"div",22),_(4,"mat-form-field",23),_(5,"mat-label"),M(6,"Number of carousel items"),v(),_(7,"input",24),he("ngModelChange",function(r){return Ze(t),fe(2).numberOfCarouselItems=r})("ngModelChange",function(r){return Ze(t),fe(2).numberOfItemsChanged(r)}),v(),v(),_(8,"mat-form-field",23),_(9,"mat-label"),M(10,"Active carousel Item"),v(),_(11,"input",25),he("ngModelChange",function(r){return Ze(t),fe(2).activeCarouselItem=r}),v(),v(),_(12,"div",26),_(13,"span"),M(14,"Radius"),v(),_(15,"mat-slider",27),he("ngModelChange",function(r){return Ze(t),fe(2).selectedRadius=r}),v(),v(),_(16,"div",26),_(17,"span"),M(18,"Camera distance"),v(),_(19,"mat-slider",28),he("ngModelChange",function(r){return Ze(t),fe(2).selectedCameraDistance=r}),v(),v(),_(20,"mat-slide-toggle",29),he("ngModelChange",function(r){return Ze(t),fe(2).selectedAutoPlayEnabled=r}),M(21,"Auto play "),v(),je(22,hne,4,1,"mat-form-field",30),_(23,"mat-form-field",23),_(24,"mat-label"),M(25,"Rotation duration (ms)"),v(),_(26,"input",31),he("ngModelChange",function(r){return Ze(t),fe(2).selectedRotationDuration=r}),v(),v(),v(),v()}if(2&i){const t=fe(2);$("@settingsContainer",void 0),q(7),$("ngModel",t.numberOfCarouselItems),q(4),$("max",t.numberOfCarouselItems-1)("ngModel",t.activeCarouselItem),q(4),$("ngModel",t.selectedRadius),q(4),$("ngModel",t.selectedCameraDistance),q(1),$("ngModel",t.selectedAutoPlayEnabled),q(2),$("ngIf",1==t.selectedAutoPlayEnabled),q(4),$("ngModel",t.selectedRotationDuration)}}function pne(i,e){if(1&i&&(_(0,"acuw-carousel-item",32),_(1,"h2"),M(2),v(),xe(3,"img",33),_(4,"p"),M(5,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua."),v(),v()),2&i){const t=e.$implicit,n=e.index;q(2),oo("Item ",n+1,""),q(1),$("src",t,Bo)}}function mne(i,e){if(1&i){const t=on();_(0,"button",12),he("click",function(){Ze(t);const r=fe();return r.settingsOpen=!r.settingsOpen}),_(1,"mat-icon"),M(2),v(),v(),je(3,fne,27,9,"div",13),_(4,"div",14),_(5,"acuw-carousel",15,16),je(7,pne,6,2,"acuw-carousel-item",17),v(),_(8,"div",18),_(9,"button",19),he("click",function(){return Ze(t),Pr(6).previous()}),_(10,"mat-icon"),M(11,"chevron_left"),v(),v(),_(12,"button",20),he("click",function(){return Ze(t),Pr(6).next()}),_(13,"mat-icon"),M(14,"chevron_right"),v(),v(),v(),v()}if(2&i){const t=fe();q(2),gn(0==t.settingsOpen?"settings":"close"),q(1),$("ngIf",1==t.settingsOpen),q(2),$("activeCarouselElement",t.activeCarouselItem)("radius",t.selectedRadius)("cameraDistance",t.selectedCameraDistance)("autoPlay",t.selectedAutoPlayEnabled)("autoPlayInterval",t.selectedAutoPlayInterval)("rotationDuration",t.selectedRotationDuration),q(2),$("ngForOf",t.carouselItems)}}let PO=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.utility=r,this.selectedTabIndex=0,this.settingsOpen=!1,this.numberOfCarouselItems=6,this.activeCarouselItem=0,this.carouselItems=["assets/image-transition/img1.jpg","assets/image-transition/img2.jpg","assets/image-transition/img3.jpg","assets/image-transition/img4.jpg","assets/image-transition/img5.jpg","assets/image-transition/img6.jpg"],this.selectedRadius=350,this.selectedCameraDistance=740,this.selectedAutoPlayEnabled=!0,this.selectedAutoPlayInterval=5e3,this.selectedRotationDuration=500,this.code=gne}ngOnInit(){const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t),window.innerWidth<600&&(this.selectedCameraDistance=790)}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route})}numberOfItemsChanged(t){this.carouselItems=new Array(t);for(let n=0;n<this.carouselItems.length;n++)this.carouselItems[n]=`assets/image-transition/img${n+1}.jpg`;setTimeout(()=>{this.carousel.updateCarouselItems()},0)}}return i.\u0275fac=function(t){return new(t||i)(A(ds),A(ui),A(Gh))},i.\u0275cmp=Rt({type:i,selectors:[["app-carousel"]],viewQuery:function(t,n){if(1&t&&Vt(Nk,5),2&t){let r;ze(r=Ue())&&(n.carousel=r.first)}},decls:182,vars:3,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://unsplash.com/@davidclode?","target","_blank",1,"external-link"],["href","https://unsplash.com/","target","_blank",1,"external-link"],["language","bash"],["language","ts"],["language","html"],[1,"table-container"],["mat-mini-fab","","color","accent","aria-label","settings button",1,"settings-button",3,"click"],["class","settings-container mat-elevation-z6",4,"ngIf"],[1,"container"],[1,"carousel",3,"activeCarouselElement","radius","cameraDistance","autoPlay","autoPlayInterval","rotationDuration"],["carousel",""],["class","carousel-item",4,"ngFor","ngForOf"],[1,"roate-button-container"],["mat-icon-button","","color","primary","aria-label","privious button",3,"click"],["mat-icon-button","","color","primary","aria-label","next button",3,"click"],[1,"settings-container","mat-elevation-z6"],[1,"inner-settings-container"],["appearance","fill"],["matInput","","type","number","min","1","max","10",3,"ngModel","ngModelChange"],["matInput","","type","number","min","0",3,"max","ngModel","ngModelChange"],[1,"slider"],["thumbLabel","","tickInterval","1","min","50","max","500",3,"ngModel","ngModelChange"],["thumbLabel","","tickInterval","1","min","400","max","1200",3,"ngModel","ngModelChange"],[1,"slide-toggle",3,"ngModel","ngModelChange"],["appearance","fill",4,"ngIf"],["matInput","","type","number",3,"ngModel","ngModelChange"],[1,"carousel-item"],["loading","lazy",3,"src"]],template:function(t,n){1&t&&(_(0,"mat-tab-group",0),he("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),_(1,"mat-tab",1),je(2,mne,15,9,"ng-template",2),v(),_(3,"mat-tab",3),_(4,"div",4),_(5,"div",5),_(6,"h2"),M(7,"Information"),v(),xe(8,"mat-divider"),_(9,"p"),M(10," The carousel component provides the possibility to show custom templates ordered in a cylindrical form. The user can rotate the carousel and therefore navigate through all items. The rotation can be either by using buttons to rotate to the next or previous item, or via dragging the mouse. In addition, this component shows the active carousel element via indicator dots. "),v(),_(11,"p"),M(12," Photos by "),_(13,"a",6),M(14,"David Clode"),v(),M(15," on "),_(16,"a",7),M(17,"Unsplash"),v(),v(),_(18,"h2"),M(19,"Installation"),v(),xe(20,"mat-divider"),_(21,"app-code-block",8),M(22,"npm install three @angular/cdk ngx-acuw"),v(),_(23,"h2"),M(24,"Usage"),v(),xe(25,"mat-divider"),_(26,"h3"),M(27,"Import Module"),v(),_(28,"app-code-block",9),M(29),v(),_(30,"h3"),M(31,"Directive Example"),v(),_(32,"app-code-block",10),M(33),v(),_(34,"h2"),M(35,"Carousel API"),v(),xe(36,"mat-divider"),_(37,"h3"),M(38,"Properties"),v(),_(39,"div",11),_(40,"table"),_(41,"tr"),_(42,"th"),M(43,"Name"),v(),_(44,"th"),M(45,"Default value"),v(),_(46,"th"),M(47,"Description"),v(),v(),_(48,"tr"),_(49,"td"),M(50,"@Input() showDots: boolean"),v(),_(51,"td"),M(52,"true"),v(),_(53,"td"),M(54,"Show or hide the dots, which indicate which item is active."),v(),v(),_(55,"tr"),_(56,"td"),M(57,"@Input() dotColor: string"),v(),_(58,"td"),M(59,"#fff"),v(),_(60,"td"),M(61,"Color of the dots."),v(),v(),_(62,"tr"),_(63,"td"),M(64,"@Input() activeDotColor: string"),v(),_(65,"td"),M(66,"#3f51b5"),v(),_(67,"td"),M(68,"Color of the active dot."),v(),v(),_(69,"tr"),_(70,"td"),M(71,"@Input() dotAnimationCircleColor: string"),v(),_(72,"td"),M(73,"#fff"),v(),_(74,"td"),M(75,"Color of the spinner around the dot, which is used to display the interval time when using auto play."),v(),v(),_(76,"tr"),_(77,"td"),M(78,"@Input() activeCarouselElement: number"),v(),_(79,"td"),M(80,"0"),v(),_(81,"td"),M(82,"Number of the active carousel element/item."),v(),v(),_(83,"tr"),_(84,"td"),M(85,"@Output() activeElementChanged: EventEmitter<number>"),v(),_(86,"td"),M(87,"-"),v(),_(88,"td"),M(89,"Event emitted when the active carousel item/element changes."),v(),v(),_(90,"tr"),_(91,"td"),M(92,"@Input() initAnimation: boolean"),v(),_(93,"td"),M(94,"true"),v(),_(95,"td"),M(96,"Indicates, if fade in animation should be done, when component is created."),v(),v(),_(97,"tr"),_(98,"td"),M(99,"@Input() radius: number"),v(),_(100,"td"),M(101,"200"),v(),_(102,"td"),M(103,"Radius of the carousel cylinder."),v(),v(),_(104,"tr"),_(105,"td"),M(106,"@Input() yPosition: number"),v(),_(107,"td"),M(108,"0"),v(),_(109,"td"),M(110,"Y position of the carousel cylinder."),v(),v(),_(111,"tr"),_(112,"td"),M(113,"@Input() cameraFov: number"),v(),_(114,"td"),M(115,"65"),v(),_(116,"td"),M(117,"Camera frustum vertical field of view."),v(),v(),_(118,"tr"),_(119,"td"),M(120,"@Input() cameraDistance: number"),v(),_(121,"td"),M(122,"600"),v(),_(123,"td"),M(124,"Distance of the camera."),v(),v(),_(125,"tr"),_(126,"td"),M(127,"@Input() autoPlay: boolean"),v(),_(128,"td"),M(129,"false"),v(),_(130,"td"),M(131,"Automatic change of the carousel elements."),v(),v(),_(132,"tr"),_(133,"td"),M(134,"@Input() autoPlayInterval: number"),v(),_(135,"td"),M(136,"5000"),v(),_(137,"td"),M(138,"Interval in ms to be used when autoPlay is active."),v(),v(),_(139,"tr"),_(140,"td"),M(141,"@Input() rotationDuration: number"),v(),_(142,"td"),M(143,"500"),v(),_(144,"td"),M(145,"Duration of the rotation to a next carousel element in ms."),v(),v(),_(146,"tr"),_(147,"td"),M(148,"@Input() showPerformanceMonitor: boolean"),v(),_(149,"td"),M(150,"false"),v(),_(151,"td"),M(152," Show or hide the performance monitor display. "),v(),v(),v(),v(),_(153,"h3"),M(154,"Methods"),v(),_(155,"div",11),_(156,"table"),_(157,"tr"),_(158,"th"),M(159,"Name"),v(),_(160,"th"),M(161,"Description"),v(),v(),_(162,"tr"),_(163,"td"),M(164,"next(): Promise<number>"),v(),_(165,"td"),M(166,"Rotate to next carousel item."),v(),v(),_(167,"tr"),_(168,"td"),M(169,"previous(): Promise<number>"),v(),_(170,"td"),M(171,"Rotate to previous carousel item."),v(),v(),_(172,"tr"),_(173,"td"),M(174,"rotateTo(targetIndex: number): Promise<number>"),v(),_(175,"td"),M(176,"Rotates to a sepcific carousel item."),v(),v(),_(177,"tr"),_(178,"td"),M(179,"updateCarouselItems(): void"),v(),_(180,"td"),M(181,"Updates and re-initializes the carousel items."),v(),v(),v(),v(),v(),v(),v(),v()),2&t&&($("selectedIndex",n.selectedTabIndex),q(29),gn(n.code.importModule),q(4),gn(n.code.directiveExample))},directives:[Yh,Lu,Xh,Zh,Kh,Qh,tf,Qi,Nk,Ho,Mw,nf,Sw,Sb,Cb,qd,ka,Ud,Ec,l_,sf,Lk],styles:[".container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 168px)}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 176px)}}.settings-button[_ngcontent-%COMP%]{position:fixed;top:120px;right:20px;z-index:5}.settings-container[_ngcontent-%COMP%]{position:fixed;top:115px;right:0px;display:flex;flex-direction:column;padding:0 10px;background-color:#ffffffe6;border-radius:5px;min-width:150px;z-index:4;max-height:calc(100vh - 150px);max-width:calc(100% - 20px)}.inner-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 10px 40px;overflow-y:auto}.slide-toggle[_ngcontent-%COMP%]{margin:15px 0}.description-container[_ngcontent-%COMP%]{margin:0 10px}.carousel[_ngcontent-%COMP%]{background-color:#000}.roate-button-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;justify-content:space-between;align-items:center;z-index:3;pointer-events:none}.roate-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:64px;height:64px;line-height:64px;pointer-events:all}.roate-button-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:64px!important;height:64px!important;font-size:64px!important}.carousel-item[_ngcontent-%COMP%]{position:relative;background-color:#fff;box-shadow:0 0 20px 10px #ffffffb3;width:250px;height:350px;padding:10px;pointer-events:none}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.carousel-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;text-align:center;text-transform:uppercase;color:#000;margin:5px 0 10px}.carousel-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#000;font-size:medium;white-space:normal;line-height:normal}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}.slider[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],data:{animation:[zr("settingsContainer",[Ln(":enter",[xt({transform:"translateX(100%)"}),Tn("300ms ease-in",xt({transform:"translateX(0%)"}))]),Ln(":leave",[xt({transform:"translateX(0%)"}),Tn("300ms ease-in",xt({transform:"translateX(100%)"}))])])]}}),i})();const gne={importModule:"import { CarouselModule } from 'ngx-acuw';\n\n  @NgModule({ \n    declarations: [AppComponent, ...],\n    imports: [CarouselModule],\n    bootstrap: [AppComponent]\n  })\n  export class AppModule { \n  }",directiveExample:'<acuw-carousel #carousel \n  class="carousel" \n  [(activeCarouselElement)]="activeCarouselItem" \n  radius="350" cameraDistance="740">\n    <acuw-carousel-item class="carousel-item">\n      <h2>Item 1</h2>\n      <p>Lorem ipsum dolor sit amet, \n        consetetur sadipscing elitr, \n        sed diam nonumy eirmod tempor \n        invidunt ut labore et dolore magna \n        aliquyam erat, sed diam voluptua.\n      </p>\n    </acuw-carousel-item>\n    <acuw-carousel-item class="carousel-item">\n      <h2>Item 2</h2>\n      <p>Lorem ipsum dolor sit amet, \n        consetetur sadipscing elitr, \n        sed diam nonumy eirmod tempor \n        invidunt ut labore et dolore magna \n        aliquyam erat, sed diam voluptua.\n      </p>\n  </acuw-carousel-item>\n  <acuw-carousel-item class="carousel-item">\n      <h2>Item 3</h2>\n      <p>Lorem ipsum dolor sit amet, \n        consetetur sadipscing elitr, \n        sed diam nonumy eirmod tempor \n        invidunt ut labore et dolore magna \n        aliquyam erat, sed diam voluptua.\n      </p>\n  </acuw-carousel-item>\n</acuw-carousel>'};let _ne=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=Rt({type:i,selectors:[["app-home"]],decls:49,vars:0,consts:[[1,"home-container"],[1,"main-header"],["src","./assets/acuw.svg","alt","acuw logo",1,"logo"],[1,"header-text-container"],[1,"description-container"],[1,"description","mat-elevation-z2"],[1,"components-list"],["routerLink","/image-as-particles",1,"component","mat-elevation-z2"],["src","./assets/image-as-particles/imageAsParticles.gif","alt","image-as-particles"],["routerLink","/image-transition",1,"component","mat-elevation-z2"],["src","./assets/image-transition/imageTransition.gif","alt","image-transition"],["routerLink","/lightbox",1,"component","mat-elevation-z2"],["src","./assets/lightbox/lightbox.jpg","alt","lightbox"],["routerLink","/carousel",1,"component","mat-elevation-z2"],["src","./assets/carousel/carousel.gif","alt","carousel"],["routerLink","/performanceMonitor",1,"component","mat-elevation-z2"],["src","./assets/performance-monitor/performance-monitor.png","alt","performance-monitor"],[1,"new-badge"]],template:function(t,n){1&t&&(_(0,"div",0),_(1,"div",1),xe(2,"img",2),_(3,"div",3),_(4,"h1"),M(5,"ACUW-Library"),v(),_(6,"h2"),M(7,"Angular Components using WEBGL"),v(),v(),v(),_(8,"h2"),M(9,"Description"),v(),_(10,"div",4),_(11,"div",5),_(12,"h3"),M(13,"What is ACUW?"),v(),_(14,"p"),M(15,"ACUW is a collection of components for Angular made with the 3D library three.js"),v(),v(),_(16,"div",5),_(17,"h3"),M(18,"Why this library has been created?"),v(),_(19,"p"),M(20,"The main purpose is to provide a simple usage of amazing stuff done by using three.js"),v(),v(),v(),_(21,"h2"),M(22,"Components"),v(),_(23,"div",6),_(24,"a",7),_(25,"h3"),M(26,"Image As Particles"),v(),xe(27,"img",8),v(),_(28,"a",9),_(29,"h3"),M(30,"Image Transition"),v(),xe(31,"img",10),v(),_(32,"a",11),_(33,"h3"),M(34,"Lightbox"),v(),xe(35,"img",12),v(),_(36,"a",13),_(37,"h3"),M(38,"Carousel"),v(),xe(39,"img",14),v(),_(40,"a",15),_(41,"h3"),M(42,"Performance-Monitor"),v(),xe(43,"img",16),_(44,"div",17),_(45,"span"),M(46,"new"),v(),v(),v(),v(),_(47,"h4"),M(48,"More components are in work. \u{1f528}"),v(),v())},directives:[sh],styles:[".home-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100% - 64px)}.main-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-content:center;background-color:var(--primary);color:#fff;padding:0 0 30px}.main-header[_ngcontent-%COMP%]   .header-text-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.main-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-align:center}.logo[_ngcontent-%COMP%]{height:300px}.description-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;margin:10px 0}.description-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{max-width:300px;padding:10px;margin:10px}.components-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;margin:10px 0}.components-list[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-content:center;width:200px;padding:10px;margin:10px;overflow:hidden}.components-list[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#000}.components-list[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;object-fit:contain}.components-list[_ngcontent-%COMP%]   .component[_ngcontent-%COMP%]:hover{background-color:#0000000d}.new-badge[_ngcontent-%COMP%]{position:absolute;right:18px;top:30px;background-color:var(--primary);color:#fff;transform:rotate(45deg);text-align:center;width:110px;padding:5px 0;margin:-26px -55px 0 0}"]}),i})();const vne=function(i){return{"image-active":i}};function yne(i,e){if(1&i){const t=on();_(0,"img",22),he("click",function(){const s=Ze(t).$implicit;return fe(3).selectedUrl=s}),v()}if(2&i){const t=e.$implicit,n=fe(3);$("ngClass",Fs(2,vne,t===n.selectedUrl))("src",t,Bo)}}function bne(i,e){if(1&i){const t=on();_(0,"div",17),_(1,"h4"),M(2,"Settings"),v(),_(3,"p"),M(4,"Selected image:"),v(),_(5,"div",18),je(6,yne,1,4,"img",19),v(),_(7,"p"),M(8,"Background color:"),v(),_(9,"input",20),he("ngModelChange",function(r){return Ze(t),fe(2).backgroundColor=r}),v(),_(10,"mat-slide-toggle",21),he("ngModelChange",function(r){return Ze(t),fe(2).animationEnabled=r}),M(11,"Animation enabled "),v(),v()}if(2&i){const t=fe(2);$("@settingsContainer",void 0),q(6),$("ngForOf",t.imageUrls),q(3),$("ngModel",t.backgroundColor),q(1),$("ngModel",t.animationEnabled)}}function xne(i,e){if(1&i){const t=on();_(0,"button",13),he("click",function(){Ze(t);const r=fe();return r.settingsOpen=!r.settingsOpen}),_(1,"mat-icon"),M(2),v(),v(),je(3,bne,12,4,"div",14),_(4,"div",15),xe(5,"lib-image-as-particles",16),v()}if(2&i){const t=fe();q(2),gn(0==t.settingsOpen?"settings":"close"),q(1),$("ngIf",1==t.settingsOpen),q(2),$("imageUrl",t.selectedUrl)("backgroundColor",t.backgroundColor)("animationEnabled",t.animationEnabled)("showPerformanceMonitor",!1)}}let RO=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.utility=r,this.selectedTabIndex=0,this.settingsOpen=!1,this.imageUrls=["assets/image-as-particles/dog.png","assets/image-as-particles/pexels-photo.png","assets/image-as-particles/tiger.png","assets/image-as-particles/blue-parakeet-sits-on-eggs.png"],this.selectedUrl="",this.backgroundColor="#222222",this.animationEnabled=!0,this.code=wne}ngOnInit(){this.selectedUrl=this.imageUrls[0];const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t)}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(A(ds),A(ui),A(Gh))},i.\u0275cmp=Rt({type:i,selectors:[["app-image-as-particles"]],decls:115,vars:3,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://github.com/brunoimbrizi/","target","_blank",1,"external-link"],["href","https://tympanus.net/codrops/2019/01/17/interactive-particles-with-three-js/","target","_blank",1,"external-link"],["href","https://www.instagram.com/lenny_the_samoyed/","target","_blank",1,"external-link"],["language","bash"],["language","ts"],["language","html"],[1,"table-container"],["mat-mini-fab","","color","accent","aria-label","settings button",1,"settings-button",3,"click"],["class","settings-container mat-elevation-z6",4,"ngIf"],[1,"container"],["touchAction","none","imageWidth","100%","imageHeight","100%","horizontalAlignment","center","verticalAlignment","center",3,"imageUrl","backgroundColor","animationEnabled","showPerformanceMonitor"],[1,"settings-container","mat-elevation-z6"],[1,"image-selection-container"],["class","image-selection",3,"ngClass","src","click",4,"ngFor","ngForOf"],["type","color",3,"ngModel","ngModelChange"],[1,"slide-toggle",3,"ngModel","ngModelChange"],[1,"image-selection",3,"ngClass","src","click"]],template:function(t,n){1&t&&(_(0,"mat-tab-group",0),he("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),_(1,"mat-tab",1),je(2,xne,6,6,"ng-template",2),v(),_(3,"mat-tab",3),_(4,"div",4),_(5,"div",5),_(6,"h2"),M(7,"Information"),v(),xe(8,"mat-divider"),_(9,"p"),M(10," The image-as-particles component is based on the great work and code of "),_(11,"a",6),M(12,"Bruno Imbrizi"),v(),M(13," and brought to Angular. A description and a tutorial of creating the effect can be found on "),_(14,"a",7),M(15,"tympanus"),v(),M(16,". "),v(),_(17,"p"),M(18," By the way. Do dog on the photo is my dog. \u{1f415} If you want to see more pictures of him, you can just have a look on the Instagram account ("),_(19,"a",8),M(20,"lenny_the_samoyed"),v(),M(21,"). "),v(),_(22,"h2"),M(23,"Installation"),v(),xe(24,"mat-divider"),_(25,"app-code-block",9),M(26,"npm install three @angular/cdk ngx-acuw"),v(),_(27,"h2"),M(28,"Usage"),v(),xe(29,"mat-divider"),_(30,"h3"),M(31,"Import Module"),v(),_(32,"app-code-block",10),M(33),v(),_(34,"h3"),M(35,"Directive Example"),v(),_(36,"app-code-block",11),M(37),v(),_(38,"h2"),M(39,"Particle-As-Images API"),v(),xe(40,"mat-divider"),_(41,"h3"),M(42,"Properties"),v(),_(43,"div",12),_(44,"table"),_(45,"tr"),_(46,"th"),M(47,"Name"),v(),_(48,"th"),M(49,"Default value"),v(),_(50,"th"),M(51,"Description"),v(),v(),_(52,"tr"),_(53,"td"),M(54,"@Input() imageUrl: string"),v(),_(55,"td"),M(56,"null"),v(),_(57,"td"),M(58,"URL to the image"),v(),v(),_(59,"tr"),_(60,"td"),M(61,"@Input() backgroundColor: string"),v(),_(62,"td"),M(63,"#222222"),v(),_(64,"td"),M(65,"The background-color CSS property sets the background color of an element."),v(),v(),_(66,"tr"),_(67,"td"),M(68,"@Input() imageWidth: string"),v(),_(69,"td"),M(70,"100%"),v(),_(71,"td"),M(72,'Width of the generated image in "px" or "%"'),v(),v(),_(73,"tr"),_(74,"td"),M(75,"@Input() imageHeight: string"),v(),_(76,"td"),M(77,"100%"),v(),_(78,"td"),M(79,'Height of the generated image in "px" or "%"'),v(),v(),_(80,"tr"),_(81,"td"),M(82,"@Input() transitionDuration: number"),v(),_(83,"td"),M(84,"1000"),v(),_(85,"td"),M(86,"Duration of the transition effenct in ms"),v(),v(),_(87,"tr"),_(88,"td"),M(89,"@Input() horizontalAlignment: string"),v(),_(90,"td"),M(91,"center"),v(),_(92,"td"),M(93,'Possible values: "start", "center", "end"'),v(),v(),_(94,"tr"),_(95,"td"),M(96,"@Input() verticalAlignment: string"),v(),_(97,"td"),M(98,"center"),v(),_(99,"td"),M(100,'Possible values: "top", "center", "bottom"'),v(),v(),_(101,"tr"),_(102,"td"),M(103,"@Input() animationEnabled: boolean"),v(),_(104,"td"),M(105,"true"),v(),_(106,"td"),M(107,' The animation can be stopped by setting the property to "false", e.g. if the element is not in viewport anymore. '),v(),v(),_(108,"tr"),_(109,"td"),M(110,"@Input() showPerformanceMonitor: boolean"),v(),_(111,"td"),M(112,"false"),v(),_(113,"td"),M(114," Show or hide the performance monitor display. "),v(),v(),v(),v(),v(),v(),v(),v()),2&t&&($("selectedIndex",n.selectedTabIndex),q(33),gn(n.code.importModule),q(4),gn(n.code.directiveExample))},directives:[Yh,Lu,Xh,Zh,Kh,Qh,tf,Qi,$Y,Ho,ka,Ud,Ec,sf,Cc],styles:[".container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 104px)}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 112px)}}.settings-button[_ngcontent-%COMP%]{position:fixed;top:120px;right:20px;z-index:2}.settings-container[_ngcontent-%COMP%]{position:fixed;top:115px;right:0px;display:flex;flex-direction:column;padding:0 10px;background-color:#ffffffe6;border-radius:5px;min-width:150px;z-index:1;max-height:calc(100vh - 150px);max-width:calc(100% - 20px)}.inner-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 10px 40px;overflow-y:auto}.slide-toggle[_ngcontent-%COMP%]{margin:15px 0}.description-container[_ngcontent-%COMP%]{margin:0 10px}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}"],data:{animation:[zr("settingsContainer",[Ln(":enter",[xt({transform:"translateX(100%)"}),Tn("300ms ease-in",xt({transform:"translateX(0%)"}))]),Ln(":leave",[xt({transform:"translateX(0%)"}),Tn("300ms ease-in",xt({transform:"translateX(100%)"}))])])]}}),i})();const wne={importModule:"import { ImageAsParticlesModule } from 'ngx-acuw';\n\n@NgModule({\n  declarations: [AppComponent, ...],\n  imports: [ImageAsParticlesModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}",directiveExample:'<lib-image-as-particles\n  [imageUrl]="selectedUrl">\n</lib-image-as-particles>'};class Dw{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Qe,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const Mne=["trigger"],Cne=["panel"];function Sne(i,e){if(1&i&&(_(0,"span",8),M(1),v()),2&i){const t=fe();q(1),gn(t.placeholder)}}function Ene(i,e){if(1&i&&(_(0,"span",12),M(1),v()),2&i){const t=fe(2);q(1),gn(t.triggerValue)}}function Dne(i,e){1&i&&Yt(0,0,["*ngSwitchCase","true"])}function Tne(i,e){1&i&&(_(0,"span",9),je(1,Ene,2,1,"span",10),je(2,Dne,1,0,"ng-content",11),v()),2&i&&($("ngSwitch",!!fe().customTrigger),q(2),$("ngSwitchCase",!0))}function Ane(i,e){if(1&i){const t=on();_(0,"div",13),_(1,"div",14,15),he("@transformPanel.done",function(r){return Ze(t),fe()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return Ze(t),fe()._handleKeydown(r)}),Yt(3,1),v(),v()}if(2&i){const t=fe();$("@transformPanelWrap",void 0),q(1),sy("mat-select-panel ",t._getPanelTheme(),""),Da("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),$("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),tn("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Ine=[[["mat-select-trigger"]],"*"],Pne=["mat-select-trigger","*"],kO={transformPanelWrap:zr("transformPanelWrap",[Ln("* => void",Kb("@transformPanel",[vW()],{optional:!0}))]),transformPanel:zr("transformPanel",[hs("void",xt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),hs("showing",xt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),hs("showing-multiple",xt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ln("void => *",Tn("120ms cubic-bezier(0, 0, 0.2, 1)")),Ln("* => void",Tn("100ms 25ms linear",xt({opacity:0})))])};let OO=0;const LO=new Ce("mat-select-scroll-strategy"),Fne=new Ce("MAT_SELECT_CONFIG"),Lne={provide:LO,deps:[Hh],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};class Nne{constructor(e,t){this.source=e,this.value=t}}const Bne=Fu(mw(Ou(q2(class{constructor(i,e,t,n,r){this._elementRef=i,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}})))),Vne=new Ce("MatSelectTrigger");let zne=(()=>{class i extends Bne{constructor(t,n,r,s,o,a,l,c,u,d,h,f,p,m){var g,b,y;super(o,s,l,c,d),this._viewportRuler=t,this._changeDetectorRef=n,this._ngZone=r,this._dir=a,this._parentFormField=u,this._liveAnnouncer=p,this._defaultOptions=m,this._panelOpen=!1,this._compareWith=(w,x)=>w===x,this._uid="mat-select-"+OO++,this._triggerAriaLabelledBy=null,this._destroy=new Qe,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+OO++,this._panelDoneAnimatingStream=new Qe,this._overlayPanelClass=(null===(g=this._defaultOptions)||void 0===g?void 0:g.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(y=null===(b=this._defaultOptions)||void 0===b?void 0:b.disableOptionCentering)&&void 0!==y&&y,this.ariaLabel="",this.optionSelectionChanges=Ab(()=>{const w=this.options;return w?w.changes.pipe(Br(w),us(()=>Ms(...w.map(x=>x.onSelectionChange)))):this._ngZone.onStable.pipe(Nr(1),us(()=>this.optionSelectionChanges))}),this.openedChange=new qe,this._openedStream=this.openedChange.pipe(wi(w=>w),mt(()=>{})),this._closedStream=this.openedChange.pipe(wi(w=>!w),mt(()=>{})),this.selectionChange=new qe,this.valueChange=new qe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==m?void 0:m.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=m.typeaheadDebounceInterval),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,n,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===r?void 0:r.hasValidator(sT.required))&&void 0!==s&&s}set required(t){this._required=Wt(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Wt(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Wt(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=br(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Dw(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Bg(),Zt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Zt(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Br(null),Zt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?n.setAttribute("aria-labelledby",t):n.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,n;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(n=this._selectionModel)||void 0===n?void 0:n.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!js(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(t);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,r=t.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||js(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=n.activeItemIndex;n.onKeydown(t),this._multiple&&s&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Nr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectValue(n)),this._sortValues();else{const n=this._selectValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(s){return!1}});return n&&this._selectionModel.select(n),n}_initKeyManager(){this._keyManager=new HK(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Zt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Zt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Ms(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Zt(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ms(...this.options.map(n=>n._stateChanges)).pipe(Zt(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,n){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const n=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const n=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(t){return new(t||i)(A(hl),A(Fn),A(lt),A(gw),A(ft),A(Wr,8),A($d,8),A(Xd,8),A(ww,8),A(Ls,10),Es("tabindex"),A(LO),A(aQ),A(Fne,8))},i.\u0275dir=De({type:i,viewQuery:function(t,n){if(1&t&&(Vt(Mne,5),Vt(Cne,5),Vt(Pk,5)),2&t){let r;ze(r=Ue())&&(n.trigger=r.first),ze(r=Ue())&&(n.panel=r.first),ze(r=Ue())&&(n._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[nt,ri]}),i})(),NO=(()=>{class i extends zne{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,n,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-n+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Zt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Nr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const n=tO(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===n?0:function(i,e,t,n){return i<t?i:i+e>t+256?Math.max(0,i-256+e):t}((t+n)*r,r,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Nne(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let c=this._selectionModel.selected[0]||this.options.first;o=c&&c.group?32:16}r||(o*=-1);const a=0-(t.left+o-(r?s:0)),l=t.right+o-n.width+(r?0:s);a>0?o+=a+8:l>0&&(o-=l+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,n,r){const s=this._getItemHeight(),o=(s-this._triggerRect.height)/2,a=Math.floor(256/s);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?t*s:this._scrollTop===r?(t-(this._getItemCount()-a))*s+(s-(this._getItemCount()*s-256)%s):n-s/2,Math.round(-1*l-o))}_checkOverlayWithinViewport(t){const n=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,o=r.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),c=Math.min(this._getItemCount()*n,256)-a-this._triggerRect.height;c>o?this._adjustPanelUp(c,o):a>s?this._adjustPanelDown(a,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,n){const r=Math.round(t-n);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,n,r){const s=Math.round(t-n);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),n=this._getItemCount(),r=Math.min(n*t,256),o=n*t-r;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=tO(a,this.options,this.optionGroups);const l=r/2;this._scrollTop=this._calculateOverlayScroll(a,l,o),this._offsetY=this._calculateOverlayOffsetY(a,l,o),this._checkOverlayWithinViewport(o)}_getOriginBasedOnOption(){const t=this._getItemHeight(),n=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=bi(i)))(n||i)}}(),i.\u0275cmp=Rt({type:i,selectors:[["mat-select"]],contentQueries:function(t,n,r){if(1&t&&(an(r,Vne,5),an(r,yw,5),an(r,eO,5)),2&t){let s;ze(s=Ue())&&(n.customTrigger=s.first),ze(s=Ue())&&(n.options=s),ze(s=Ue())&&(n.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,n){1&t&&he("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&t&&(tn("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-describedby",n._ariaDescribedby||null)("aria-activedescendant",n._getAriaActiveDescendant()),Ft("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Ht([{provide:a_,useExisting:i},{provide:J2,useExisting:i}]),nt],ngContentSelectors:Pne,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,n){if(1&t&&(ai(Ine),_(0,"div",0,1),he("click",function(){return n.toggle()}),_(3,"div",2),je(4,Sne,2,1,"span",3),je(5,Tne,3,2,"span",4),v(),_(6,"div",5),xe(7,"div",6),v(),v(),je(8,Ane,4,14,"ng-template",7),he("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&t){const r=Pr(1);tn("aria-owns",n.panelOpen?n.id+"-panel":null),q(3),$("ngSwitch",n.empty),tn("id",n._valueId),q(1),$("ngSwitchCase",!0),q(1),$("ngSwitchCase",!1),q(3),$("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},directives:[Ik,Nd,Zy,Pk,RD,Cc],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[kO.transformPanelWrap,kO.transformPanel]},changeDetection:0}),i})(),Une=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({providers:[Lne],imports:[[fr,Rk,nO,ln],Nh,Cw,nO,ln]}),i})();function Hne(i,e){if(1&i){const t=on();_(0,"mat-form-field",22),_(1,"mat-label"),M(2,"Auto play interval (ms)"),v(),_(3,"input",26),he("ngModelChange",function(r){return Ze(t),fe(3).selectedAutoPlayInterval=r}),v(),v()}if(2&i){const t=fe(3);q(3),$("ngModel",t.selectedAutoPlayInterval)}}function Gne(i,e){if(1&i){const t=on();Rr(0),_(1,"span"),M(2,"Intensity"),v(),_(3,"mat-slider",35),he("ngModelChange",function(r){return Ze(t),fe(3).selectedIntensity=r}),v(),kr()}if(2&i){const t=fe(3);q(3),$("ngModel",t.selectedIntensity)}}function Wne(i,e){if(1&i){const t=on();Rr(0),_(1,"div",36),_(2,"span"),M(3,"SizeX"),v(),_(4,"mat-slider",37),he("ngModelChange",function(r){return Ze(t),fe(3).selectedSizeX=r}),v(),v(),_(5,"div",36),_(6,"span"),M(7,"SizeY"),v(),_(8,"mat-slider",37),he("ngModelChange",function(r){return Ze(t),fe(3).selectedSizeY=r}),v(),v(),_(9,"div",36),_(10,"span"),M(11,"Width"),v(),_(12,"mat-slider",38),he("ngModelChange",function(r){return Ze(t),fe(3).selectedWidth=r}),v(),v(),kr()}if(2&i){const t=fe(3);q(4),$("ngModel",t.selectedSizeX),q(4),$("ngModel",t.selectedSizeY),q(4),$("ngModel",t.selectedWidth)}}const jne=function(i){return{"image-active":i}};function $ne(i,e){if(1&i){const t=on();_(0,"img",41),he("click",function(){const s=Ze(t).$implicit;return fe(4).selectedDistUrl=s}),v()}if(2&i){const t=e.$implicit,n=fe(4);$("ngClass",Fs(2,jne,t===n.selectedDistUrl))("src",t,Bo)}}function qne(i,e){if(1&i&&(Rr(0),_(1,"p"),M(2,"Distortion image:"),v(),_(3,"div",39),je(4,$ne,1,4,"img",40),v(),kr()),2&i){const t=fe(3);q(4),$("ngForOf",t.disImgUrls)}}function Xne(i,e){if(1&i){const t=on();_(0,"div",20),_(1,"h4"),M(2,"Settings"),v(),_(3,"div",21),_(4,"mat-form-field",22),_(5,"mat-label"),M(6,"Image size"),v(),_(7,"mat-select",23),he("valueChange",function(r){return Ze(t),fe(2).selectedImageSize=r}),_(8,"mat-option",24),M(9,"cover"),v(),_(10,"mat-option",25),M(11,"contain"),v(),v(),v(),_(12,"mat-form-field",22),_(13,"mat-label"),M(14,"Transition duration (ms)"),v(),_(15,"input",26),he("ngModelChange",function(r){return Ze(t),fe(2).selectedTransitionDuration=r}),v(),v(),_(16,"mat-slide-toggle",27),he("ngModelChange",function(r){return Ze(t),fe(2).selectedAutoPlayEnabled=r}),M(17,"Auto play "),v(),je(18,Hne,4,1,"mat-form-field",28),_(19,"mat-form-field",22),_(20,"mat-label"),M(21,"Transition type"),v(),_(22,"mat-select",23),he("valueChange",function(r){return Ze(t),fe(2).selectedTransitionType=r}),_(23,"mat-option",29),M(24,"split"),v(),_(25,"mat-option",30),M(26,"fade"),v(),_(27,"mat-option",31),M(28,"noise"),v(),_(29,"mat-option",32),M(30,"blur"),v(),_(31,"mat-option",33),M(32,"distortion"),v(),v(),v(),Rr(33),je(34,Gne,4,1,"ng-container",34),je(35,Wne,13,3,"ng-container",34),je(36,qne,5,1,"ng-container",34),kr(),v(),v()}if(2&i){const t=fe(2);$("@settingsContainer",void 0),q(7),$("value",t.selectedImageSize),q(8),$("ngModel",t.selectedTransitionDuration),q(1),$("ngModel",t.selectedAutoPlayEnabled),q(2),$("ngIf",1==t.selectedAutoPlayEnabled),q(4),$("value",t.selectedTransitionType),q(12),$("ngIf","split"==t.selectedTransitionType||"blur"==t.selectedTransitionType||"distortion"==t.selectedTransitionType),q(1),$("ngIf","noise"==t.selectedTransitionType),q(1),$("ngIf","distortion"==t.selectedTransitionType)}}function Yne(i,e){if(1&i){const t=on();_(0,"button",15),he("click",function(){Ze(t);const r=fe();return r.settingsOpen=!r.settingsOpen}),_(1,"mat-icon"),M(2),v(),v(),je(3,Xne,37,9,"div",16),_(4,"div",17),he("click",function(){return Ze(t),Pr(6).next()}),xe(5,"lib-image-transition",18,19),v()}if(2&i){const t=fe();q(2),gn(0==t.settingsOpen?"settings":"close"),q(1),$("ngIf",1==t.settingsOpen),q(2),$("imageUrls",t.imageUrls)("transitionType",t.selectedTransitionType)("imageSize",t.selectedImageSize)("transitionDuration",t.selectedTransitionDuration)("autoPlay",t.selectedAutoPlayEnabled)("autoPlayInterval",t.selectedAutoPlayInterval)("intensity",t.selectedIntensity)("sizeX",t.selectedSizeX)("sizeY",t.selectedSizeY)("width",t.selectedWidth)("showPerformanceMonitor",!1)("displacementImageUrl",t.selectedDistUrl)}}let BO=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.utility=r,this.selectedTabIndex=0,this.imageUrls=["assets/image-transition/img1.jpg","assets/image-transition/img2.jpg","assets/image-transition/img3.jpg","assets/image-transition/img4.jpg"],this.disImgUrls=["assets/image-transition/circle_bump.jpg","assets/image-transition/plastic_bump.jpg","assets/image-transition/mosaik_bump.jpg","assets/image-transition/wave_bump.jpg","assets/image-transition/wires_bump.jpg","assets/image-transition/heightMap.png","assets/image-transition/stripe1.png","assets/image-transition/stripes.png"],this.settingsOpen=!1,this.selectedTransitionType="distortion",this.selectedImageSize="cover",this.selectedTransitionDuration=1e3,this.selectedAutoPlayEnabled=!0,this.selectedAutoPlayInterval=5e3,this.selectedIntensity=50,this.selectedSizeX=40,this.selectedSizeY=40,this.selectedWidth=.5,this.selectedDistUrl="",this.code=Zne}ngOnInit(){this.selectedDistUrl=this.disImgUrls[0];const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t)}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(A(ds),A(ui),A(Gh))},i.\u0275cmp=Rt({type:i,selectors:[["app-image-transition"]],decls:185,vars:3,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://github.com/akella/webGLImageTransitions","target","_blank",1,"external-link"],["href","https://github.com/akella","target","_blank",1,"external-link"],["href","https://unsplash.com/@davidclode?","target","_blank",1,"external-link"],["href","https://unsplash.com/","target","_blank",1,"external-link"],["language","bash"],["language","ts"],["language","html"],[1,"table-container"],[1,"depreciated"],["mat-mini-fab","","color","accent","aria-label","settings button",1,"settings-button",3,"click"],["class","settings-container mat-elevation-z6",4,"ngIf"],[1,"container",3,"click"],[3,"imageUrls","transitionType","imageSize","transitionDuration","autoPlay","autoPlayInterval","intensity","sizeX","sizeY","width","showPerformanceMonitor","displacementImageUrl"],["imageTransition",""],[1,"settings-container","mat-elevation-z6"],[1,"inner-settings-container"],["appearance","fill"],[3,"value","valueChange"],["value","cover"],["value","contain"],["matInput","","type","number",3,"ngModel","ngModelChange"],[1,"slide-toggle",3,"ngModel","ngModelChange"],["appearance","fill",4,"ngIf"],["value","split"],["value","fade"],["value","noise"],["value","blur"],["value","distortion"],[4,"ngIf"],["thumbLabel","","tickInterval","1","min","0","max","100",3,"ngModel","ngModelChange"],[1,"slider"],["thumbLabel","","tickInterval","1","min","1","max","100",3,"ngModel","ngModelChange"],["thumbLabel","","step","0.01","tickInterval","0.01","min","0.01","max","1",3,"ngModel","ngModelChange"],[1,"image-selection-container"],["class","image-selection",3,"ngClass","src","click",4,"ngFor","ngForOf"],[1,"image-selection",3,"ngClass","src","click"]],template:function(t,n){1&t&&(_(0,"mat-tab-group",0),he("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),_(1,"mat-tab",1),je(2,Yne,7,14,"ng-template",2),v(),_(3,"mat-tab",3),_(4,"div",4),_(5,"div",5),_(6,"h2"),M(7,"Information"),v(),xe(8,"mat-divider"),_(9,"p"),M(10," The image transition component is inspired and based on the Github repository "),_(11,"a",6),M(12,"webGLImageTransitions"),v(),M(13," from "),_(14,"a",7),M(15,"Yuriy Artyukh (akella)"),v(),M(16,". Most animation effects are taken from his repository. "),v(),_(17,"p"),M(18," Photo by "),_(19,"a",8),M(20,"David Clode"),v(),M(21," on "),_(22,"a",9),M(23,"Unsplash"),v(),v(),_(24,"h2"),M(25,"Installation"),v(),xe(26,"mat-divider"),_(27,"app-code-block",10),M(28,"npm install three @angular/cdk ngx-acuw"),v(),_(29,"h2"),M(30,"Usage"),v(),xe(31,"mat-divider"),_(32,"h3"),M(33,"Import Module"),v(),_(34,"app-code-block",11),M(35),v(),_(36,"h3"),M(37,"Directive Example"),v(),_(38,"app-code-block",12),M(39),v(),_(40,"h2"),M(41,"Image Transition API"),v(),xe(42,"mat-divider"),_(43,"h3"),M(44,"Properties"),v(),_(45,"div",13),_(46,"table"),_(47,"tr"),_(48,"th"),M(49,"Name"),v(),_(50,"th"),M(51,"Default value"),v(),_(52,"th"),M(53,"Description"),v(),v(),_(54,"tr"),_(55,"td"),M(56,"@Input() imageUrls: string[]"),v(),_(57,"td"),M(58,"[]"),v(),_(59,"td"),M(60,"Urls to the images"),v(),v(),_(61,"tr"),_(62,"td"),M(63,"@Input() displacementImageUrl: string"),v(),_(64,"td"),M(65,"[]"),v(),_(66,"td"),M(67,'Url of the displacement image (applicable for type: "distortion")'),v(),v(),_(68,"tr"),_(69,"td"),M(70,"@Input() imageSize: string"),v(),_(71,"td"),M(72,"cover"),v(),_(73,"td"),M(74,'Size of the image ("cover", "contain")'),v(),v(),_(75,"tr"),_(76,"td"),M(77,"@Input() autoPlay: boolean"),v(),_(78,"td"),M(79,"false"),v(),_(80,"td"),M(81,"Automatic change of the images"),v(),v(),_(82,"tr"),_(83,"td"),M(84,"@Input() autoPlayInterval: number"),v(),_(85,"td"),M(86,"5000"),v(),_(87,"td"),M(88,"AutoPlay interval in ms, if autoPlay is activated"),v(),v(),_(89,"tr",14),_(90,"td"),M(91,"@Input() toggleTransitionDirection: boolean"),v(),_(92,"td"),M(93,"true"),v(),_(94,"td"),M(95,"true: animation effect is toggled from left to right. false: animation effect only in one direction"),v(),v(),_(96,"tr"),_(97,"td"),M(98,"@Input() transitionDuration: number"),v(),_(99,"td"),M(100,"1000"),v(),_(101,"td"),M(102,"Duration of the transition effenct in ms"),v(),v(),_(103,"tr"),_(104,"td"),M(105,"@Input() transitionType: string"),v(),_(106,"td"),M(107,"split"),v(),_(108,"td"),M(109,'Type of the transition ("split", "fade", "noise", "blur", "distortion")'),v(),v(),_(110,"tr"),_(111,"td"),M(112,"@Input() sizeX: string"),v(),_(113,"td"),M(114,"50.0"),v(),_(115,"td"),M(116,'Size at x-axis of the transition effect (applicable for type: "noise")'),v(),v(),_(117,"tr"),_(118,"td"),M(119,"@Input() sizeY: string"),v(),_(120,"td"),M(121,"50.0"),v(),_(122,"td"),M(123,'Size at y-axis of the transition effect (applicable for type: "noise")'),v(),v(),_(124,"tr"),_(125,"td"),M(126,"@Input() width: string"),v(),_(127,"td"),M(128,"0.5"),v(),_(129,"td"),M(130,'Width of the transition effect (applicable for type: "noise")'),v(),v(),_(131,"tr"),_(132,"td"),M(133,"@Input() intensity: string"),v(),_(134,"td"),M(135,"40.0"),v(),_(136,"td"),M(137,'Intensity of the transition effect (applicable for type: "split", "blur", "distortion"'),v(),v(),_(138,"tr"),_(139,"td"),M(140,"@Input() animationEnabled: boolean"),v(),_(141,"td"),M(142,"true"),v(),_(143,"td"),M(144,' The animation can be stopped by setting the property to "false", e.g. if the element is not in viewport anymore. '),v(),v(),_(145,"tr"),_(146,"td"),M(147,"@Input() startIndex: number"),v(),_(148,"td"),M(149,"0"),v(),_(150,"td"),M(151," Defines with which image should be shown first when the component is created. "),v(),v(),_(152,"tr"),_(153,"td"),M(154,"@Input() showPerformanceMonitor: boolean"),v(),_(155,"td"),M(156,"false"),v(),_(157,"td"),M(158," Show or hide the performance monitor display. "),v(),v(),_(159,"tr"),_(160,"td"),M(161,"@Output() imageIndexChange: EventEmitter<number>"),v(),_(162,"td"),M(163,"-"),v(),_(164,"td"),M(165," Event emitted when the shown image has changed. "),v(),v(),v(),v(),_(166,"h3"),M(167,"Methods"),v(),_(168,"div",13),_(169,"table"),_(170,"tr"),_(171,"th"),M(172,"Name"),v(),_(173,"th"),M(174,"Description"),v(),v(),_(175,"tr"),_(176,"td"),M(177,"next()"),v(),_(178,"td"),M(179,"Loads the next image from the imageUrls array"),v(),v(),_(180,"tr"),_(181,"td"),M(182,"prev()"),v(),_(183,"td"),M(184,"Loads the previous image from the imageUrls array"),v(),v(),v(),v(),v(),v(),v(),v()),2&t&&($("selectedIndex",n.selectedTabIndex),q(35),gn(n.code.importModule),q(4),gn(n.code.directiveExample))},directives:[Yh,Lu,Xh,Zh,Kh,Qh,tf,Qi,Ex,Mw,nf,NO,yw,Sw,qd,ka,Ud,Ec,sf,l_,Ho,Cc],styles:[".slider[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 168px);overflow:hidden}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 176px);overflow:hidden}}.settings-button[_ngcontent-%COMP%]{position:fixed;top:120px;right:20px;z-index:2}.settings-container[_ngcontent-%COMP%]{position:fixed;top:115px;right:0px;display:flex;flex-direction:column;padding:0 10px;background-color:#ffffffe6;border-radius:5px;min-width:150px;z-index:1;max-height:calc(100vh - 150px);max-width:calc(100% - 20px)}.inner-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 10px 40px;overflow-y:auto}.slide-toggle[_ngcontent-%COMP%]{margin:15px 0}.description-container[_ngcontent-%COMP%]{margin:0 10px}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}"],data:{animation:[zr("settingsContainer",[Ln(":enter",[xt({transform:"translateX(100%)"}),Tn("300ms ease-in",xt({transform:"translateX(0%)"}))]),Ln(":leave",[xt({transform:"translateX(0%)"}),Tn("300ms ease-in",xt({transform:"translateX(100%)"}))])])]}}),i})();const Zne={importModule:"import { ImageTransitionModule } from 'ngx-acuw';\n\n@NgModule({\n  declarations: [AppComponent, ...],\n  imports: [ImageTransitionModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}",directiveExample:'<lib-image-transition \n  [imageUrls]="imageUrls" \n  transitionType="split" \n  imageSize="cover" \n  [transitionDuration]="1000">\n  </lib-image-transition>'};function Kne(i,e){if(1&i){const t=on();_(0,"mat-form-field",24),_(1,"mat-label"),M(2,"Auto play interval (ms)"),v(),_(3,"input",28),he("ngModelChange",function(r){return Ze(t),fe(3).selectedAutoPlayInterval=r}),v(),v()}if(2&i){const t=fe(3);q(3),$("ngModel",t.selectedAutoPlayInterval)}}function Qne(i,e){if(1&i){const t=on();Rr(0),_(1,"div",36),_(2,"span"),M(3,"Intensity"),v(),_(4,"mat-slider",37),he("ngModelChange",function(r){return Ze(t),fe(3).selectedIntensity=r}),v(),v(),kr()}if(2&i){const t=fe(3);q(4),$("ngModel",t.selectedIntensity)}}function Jne(i,e){if(1&i){const t=on();Rr(0),_(1,"div",36),_(2,"span"),M(3,"SizeX"),v(),_(4,"mat-slider",38),he("ngModelChange",function(r){return Ze(t),fe(3).selectedSizeX=r}),v(),v(),_(5,"div",36),_(6,"span"),M(7,"SizeY"),v(),_(8,"mat-slider",38),he("ngModelChange",function(r){return Ze(t),fe(3).selectedSizeY=r}),v(),v(),_(9,"div",36),_(10,"span"),M(11,"Width"),v(),_(12,"mat-slider",39),he("ngModelChange",function(r){return Ze(t),fe(3).selectedWidth=r}),v(),v(),kr()}if(2&i){const t=fe(3);q(4),$("ngModel",t.selectedSizeX),q(4),$("ngModel",t.selectedSizeY),q(4),$("ngModel",t.selectedWidth)}}const eie=function(i){return{"image-active":i}};function tie(i,e){if(1&i){const t=on();_(0,"img",42),he("click",function(){const s=Ze(t).$implicit;return fe(4).selectedDistUrl=s}),v()}if(2&i){const t=e.$implicit,n=fe(4);$("ngClass",Fs(2,eie,t===n.selectedDistUrl))("src",t,Bo)}}function nie(i,e){if(1&i&&(Rr(0),_(1,"p"),M(2,"Distortion image:"),v(),_(3,"div",40),je(4,tie,1,4,"img",41),v(),kr()),2&i){const t=fe(3);q(4),$("ngForOf",t.disImgUrls)}}function iie(i,e){if(1&i){const t=on();_(0,"div",21),_(1,"h4"),M(2,"Settings"),v(),_(3,"div",22),_(4,"mat-slide-toggle",23),he("ngModelChange",function(r){return Ze(t),fe(2).selectForceFullscreen=r}),M(5,"Force fullscreen "),v(),_(6,"mat-slide-toggle",23),he("ngModelChange",function(r){return Ze(t),fe(2).selectedforceShowNavButtons=r}),M(7,"Force show nav-buttons "),v(),_(8,"mat-form-field",24),_(9,"mat-label"),M(10,"Image size"),v(),_(11,"mat-select",25),he("valueChange",function(r){return Ze(t),fe(2).selectedImageSize=r}),_(12,"mat-option",26),M(13,"cover"),v(),_(14,"mat-option",27),M(15,"contain"),v(),v(),v(),_(16,"mat-form-field",24),_(17,"mat-label"),M(18,"Transition duration (ms)"),v(),_(19,"input",28),he("ngModelChange",function(r){return Ze(t),fe(2).selectedTransitionDuration=r}),v(),v(),_(20,"mat-slide-toggle",23),he("ngModelChange",function(r){return Ze(t),fe(2).selectedAutoPlayEnabled=r}),M(21,"Auto play "),v(),je(22,Kne,4,1,"mat-form-field",29),_(23,"mat-form-field",24),_(24,"mat-label"),M(25,"Transition type"),v(),_(26,"mat-select",25),he("valueChange",function(r){return Ze(t),fe(2).selectedTransitionType=r}),_(27,"mat-option",30),M(28,"split"),v(),_(29,"mat-option",31),M(30,"fade"),v(),_(31,"mat-option",32),M(32,"noise"),v(),_(33,"mat-option",33),M(34,"blur"),v(),_(35,"mat-option",34),M(36,"distortion"),v(),v(),v(),Rr(37),je(38,Qne,5,1,"ng-container",35),je(39,Jne,13,3,"ng-container",35),je(40,nie,5,1,"ng-container",35),kr(),v(),v()}if(2&i){const t=fe(2);$("@settingsContainer",void 0),q(4),$("ngModel",t.selectForceFullscreen),q(2),$("ngModel",t.selectedforceShowNavButtons),q(5),$("value",t.selectedImageSize),q(8),$("ngModel",t.selectedTransitionDuration),q(1),$("ngModel",t.selectedAutoPlayEnabled),q(2),$("ngIf",1==t.selectedAutoPlayEnabled),q(4),$("value",t.selectedTransitionType),q(12),$("ngIf","split"==t.selectedTransitionType||"blur"==t.selectedTransitionType||"distortion"==t.selectedTransitionType),q(1),$("ngIf","noise"==t.selectedTransitionType),q(1),$("ngIf","distortion"==t.selectedTransitionType)}}function rie(i,e){if(1&i){const t=on();_(0,"img",43),he("click",function(){const s=Ze(t).index;return fe(),Pr(19).open(s)}),v()}2&i&&$("src",e.$implicit,Bo)}function sie(i,e){if(1&i){const t=on();_(0,"button",13),he("click",function(){Ze(t);const r=fe();return r.settingsOpen=!r.settingsOpen}),_(1,"mat-icon"),M(2),v(),v(),je(3,iie,41,11,"div",14),_(4,"div",15),_(5,"h2",16),M(6,"Lightbox Demo"),v(),_(7,"h4",16),M(8,"Click on an image to open the lightbox..."),v(),_(9,"div",17),je(10,rie,1,1,"img",18),v(),_(11,"p",16),M(12," Photos by "),_(13,"a",6),M(14,"David Clode"),v(),M(15," on "),_(16,"a",7),M(17,"Unsplash"),v(),v(),v(),xe(18,"lib-lightbox",19,20)}if(2&i){const t=fe();q(2),gn(0==t.settingsOpen?"settings":"close"),q(1),$("ngIf",1==t.settingsOpen),q(7),$("ngForOf",t.imageThumbUrls),q(8),$("imageUrls",t.imageUrls)("forceFullscreen",t.selectForceFullscreen)("forceShowNavButtons",t.selectedforceShowNavButtons)("transitionType",t.selectedTransitionType)("imageSize",t.selectedImageSize)("transitionDuration",t.selectedTransitionDuration)("autoPlay",t.selectedAutoPlayEnabled)("autoPlayInterval",t.selectedAutoPlayInterval)("intensity",t.selectedIntensity)("sizeX",t.selectedSizeX)("sizeY",t.selectedSizeY)("width",t.selectedWidth)("displacementImageUrl",t.selectedDistUrl)}}let VO=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.utility=r,this.selectedTabIndex=0,this.imageThumbUrls=new Array,this.imageUrls=new Array,this.disImgUrls=["assets/image-transition/circle_bump.jpg","assets/image-transition/plastic_bump.jpg","assets/image-transition/mosaik_bump.jpg","assets/image-transition/wave_bump.jpg","assets/image-transition/wires_bump.jpg","assets/image-transition/heightMap.png","assets/image-transition/stripe1.png","assets/image-transition/stripes.png"],this.settingsOpen=!1,this.selectForceFullscreen=!1,this.selectedforceShowNavButtons=!1,this.selectedTransitionType="distortion",this.selectedImageSize="cover",this.selectedTransitionDuration=1e3,this.selectedAutoPlayEnabled=!1,this.selectedAutoPlayInterval=5e3,this.selectedIntensity=50,this.selectedSizeX=40,this.selectedSizeY=40,this.selectedWidth=.5,this.selectedDistUrl=this.disImgUrls[0],this.code=oie;for(let s=1;s<=10;s++)this.imageThumbUrls.push(`assets/image-transition/thumb/img${s}.jpg`),this.imageUrls.push(`assets/image-transition/img${s}.jpg`)}ngOnInit(){const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t)}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(A(ds),A(ui),A(Gh))},i.\u0275cmp=Rt({type:i,selectors:[["app-lightbox"]],decls:171,vars:3,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://unsplash.com/@davidclode?","target","_blank",1,"external-link"],["href","https://unsplash.com/","target","_blank",1,"external-link"],["language","bash"],["language","css"],["language","ts"],["language","html"],[1,"table-container"],["mat-mini-fab","","color","accent","aria-label","settings button",1,"settings-button",3,"click"],["class","settings-container mat-elevation-z6",4,"ngIf"],[1,"container"],[1,"centered-text"],[1,"gallery"],["loading","lazy",3,"src","click",4,"ngFor","ngForOf"],[3,"imageUrls","forceFullscreen","forceShowNavButtons","transitionType","imageSize","transitionDuration","autoPlay","autoPlayInterval","intensity","sizeX","sizeY","width","displacementImageUrl"],["lightbox",""],[1,"settings-container","mat-elevation-z6"],[1,"inner-settings-container"],[1,"slide-toggle",3,"ngModel","ngModelChange"],["appearance","fill"],[3,"value","valueChange"],["value","cover"],["value","contain"],["matInput","","type","number",3,"ngModel","ngModelChange"],["appearance","fill",4,"ngIf"],["value","split"],["value","fade"],["value","noise"],["value","blur"],["value","distortion"],[4,"ngIf"],[1,"slider"],["thumbLabel","","tickInterval","1","min","0","max","100",3,"ngModel","ngModelChange"],["thumbLabel","","tickInterval","1","min","1","max","100",3,"ngModel","ngModelChange"],["thumbLabel","","step","0.01","tickInterval","0.01","min","0.01","max","1",3,"ngModel","ngModelChange"],[1,"image-selection-container"],["class","image-selection",3,"ngClass","src","click",4,"ngFor","ngForOf"],[1,"image-selection",3,"ngClass","src","click"],["loading","lazy",3,"src","click"]],template:function(t,n){1&t&&(_(0,"mat-tab-group",0),he("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),_(1,"mat-tab",1),je(2,sie,20,16,"ng-template",2),v(),_(3,"mat-tab",3),_(4,"div",4),_(5,"div",5),_(6,"h2"),M(7,"Information"),v(),xe(8,"mat-divider"),_(9,"p"),M(10," The lighbox component uses the image transition component and wraps it into a lightbox gallery. In the lightbox all the image transition effects of the image transition component can be used. This lightbox with the amazing transition effects can be easily integrated in every Angular website. "),v(),_(11,"p"),M(12," Photos by "),_(13,"a",6),M(14,"David Clode"),v(),M(15," on "),_(16,"a",7),M(17,"Unsplash"),v(),v(),_(18,"h2"),M(19,"Installation"),v(),xe(20,"mat-divider"),_(21,"app-code-block",8),M(22,"npm install three @angular/cdk ngx-acuw"),v(),_(23,"h2"),M(24,"Usage"),v(),xe(25,"mat-divider"),_(26,"h3"),M(27,"Styles"),v(),_(28,"p"),M(29,"If you're using Angular Material, these styles have been included together with the theme, otherwise if you're using the CDK on its own, you'll have to include the styles yourself. You can do so by importing the prebuilt styles in your global stylesheet:"),v(),_(30,"app-code-block",9),M(31,"@import '~@angular/cdk/overlay-prebuilt.css';"),v(),_(32,"h3"),M(33,"Import Module"),v(),_(34,"app-code-block",10),M(35),v(),_(36,"h3"),M(37,"Directive Example"),v(),_(38,"app-code-block",11),M(39),v(),_(40,"h2"),M(41,"Lightbox API"),v(),xe(42,"mat-divider"),_(43,"h3"),M(44,"Properties"),v(),_(45,"div",12),_(46,"table"),_(47,"tr"),_(48,"th"),M(49,"Name"),v(),_(50,"th"),M(51,"Default value"),v(),_(52,"th"),M(53,"Description"),v(),v(),_(54,"tr"),_(55,"td"),M(56,"@Input() imageUrls: string[]"),v(),_(57,"td"),M(58,"[]"),v(),_(59,"td"),M(60,"Urls to the images"),v(),v(),_(61,"tr"),_(62,"td"),M(63,"@Input() displacementImageUrl: string"),v(),_(64,"td"),M(65,"[]"),v(),_(66,"td"),M(67,'Url of the displacement image (applicable for type: "distortion")'),v(),v(),_(68,"tr"),_(69,"td"),M(70,"@Input() forceFullscreen: boolean"),v(),_(71,"td"),M(72,"false"),v(),_(73,"td"),M(74,"Set to true, to always show the lightbox in fullscreen mode"),v(),v(),_(75,"tr"),_(76,"td"),M(77,"@Input() forceShowNavButtons: boolean"),v(),_(78,"td"),M(79,"false"),v(),_(80,"td"),M(81,"Set to true, to always show the navigation buttons"),v(),v(),_(82,"tr"),_(83,"td"),M(84,"@Input() imageSize: string"),v(),_(85,"td"),M(86,"cover"),v(),_(87,"td"),M(88,'Size of the image ("cover", "contain")'),v(),v(),_(89,"tr"),_(90,"td"),M(91,"@Input() autoPlay: boolean"),v(),_(92,"td"),M(93,"false"),v(),_(94,"td"),M(95,"Switch through the images automatically (true, false)"),v(),v(),_(96,"tr"),_(97,"td"),M(98,"@Input() autoPlayInterval: number"),v(),_(99,"td"),M(100,"5000"),v(),_(101,"td"),M(102,"AutoPlay interval in ms, if autoPlay is activated"),v(),v(),_(103,"tr"),_(104,"td"),M(105,"@Input() transitionDuration: number"),v(),_(106,"td"),M(107,"1000"),v(),_(108,"td"),M(109,"Duration of the transition effenct in ms"),v(),v(),_(110,"tr"),_(111,"td"),M(112,"@Input() transitionType: string"),v(),_(113,"td"),M(114,"split"),v(),_(115,"td"),M(116,'Type of the transition ("split", "fade", "noise", "blur", "distortion")'),v(),v(),_(117,"tr"),_(118,"td"),M(119,"@Input() sizeX: string"),v(),_(120,"td"),M(121,"50.0"),v(),_(122,"td"),M(123,'Size at x-axis of the transition effect (applicable for type: "noise")'),v(),v(),_(124,"tr"),_(125,"td"),M(126,"@Input() sizeY: string"),v(),_(127,"td"),M(128,"50.0"),v(),_(129,"td"),M(130,'Size at y-axis of the transition effect (applicable for type: "noise")'),v(),v(),_(131,"tr"),_(132,"td"),M(133,"@Input() width: string"),v(),_(134,"td"),M(135,"0.5"),v(),_(136,"td"),M(137,'Width of the transition effect (applicable for type: "noise")'),v(),v(),_(138,"tr"),_(139,"td"),M(140,"@Input() intensity: string"),v(),_(141,"td"),M(142,"40.0"),v(),_(143,"td"),M(144,'Intensity of the transition effect (applicable for type: "split", "blur", "distortion"'),v(),v(),_(145,"tr"),_(146,"td"),M(147,"@Input() showPerformanceMonitor: boolean"),v(),_(148,"td"),M(149,"false"),v(),_(150,"td"),M(151," Show or hide the performance monitor display. "),v(),v(),v(),v(),_(152,"h3"),M(153,"Methods"),v(),_(154,"div",12),_(155,"table"),_(156,"tr"),_(157,"th"),M(158,"Name"),v(),_(159,"th"),M(160,"Description"),v(),v(),_(161,"tr"),_(162,"td"),M(163,"open(index?: number)"),v(),_(164,"td"),M(165,"Opens the lightbox and shows the image of the specified index (index = 0, if not specified)"),v(),v(),_(166,"tr"),_(167,"td"),M(168,"close()"),v(),_(169,"td"),M(170,"Closes the lightbox"),v(),v(),v(),v(),v(),v(),v(),v()),2&t&&($("selectedIndex",n.selectedTabIndex),q(35),gn(n.code.importModule),q(4),gn(n.code.directiveExample))},directives:[Yh,Lu,Xh,Zh,Kh,Qh,tf,Qi,Ho,gK,sf,Ud,Ec,Mw,nf,NO,yw,Sw,qd,ka,l_,Cc],styles:[".gallery[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;max-width:800px;margin:20px auto 10px}.gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;margin:10px;cursor:pointer}.gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.5}.centered-text[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 104px)}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 112px)}}.settings-button[_ngcontent-%COMP%]{position:fixed;top:120px;right:20px;z-index:2}.settings-container[_ngcontent-%COMP%]{position:fixed;top:115px;right:0px;display:flex;flex-direction:column;padding:0 10px;background-color:#ffffffe6;border-radius:5px;min-width:150px;z-index:1;max-height:calc(100vh - 150px);max-width:calc(100% - 20px)}.inner-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 10px 40px;overflow-y:auto}.slide-toggle[_ngcontent-%COMP%]{margin:15px 0}.description-container[_ngcontent-%COMP%]{margin:0 10px}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}.slider[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],data:{animation:[zr("settingsContainer",[Ln(":enter",[xt({transform:"translateX(100%)"}),Tn("300ms ease-in",xt({transform:"translateX(0%)"}))]),Ln(":leave",[xt({transform:"translateX(0%)"}),Tn("300ms ease-in",xt({transform:"translateX(100%)"}))])])]}}),i})();const oie={importModule:"import { LightboxModule } from 'ngx-acuw';\n\n@NgModule({ \n  declarations: [AppComponent, ...],\n  imports: [LightboxModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {; \n}",directiveExample:'<div class="gallery">\n  <img *ngFor="let imgUrl of imageUrls; let idx = index" \n    [src]="imgUrl" (click)="lightbox.open(idx)" \n    loading="lazy">\n</div>;\n  \n<lib-lightbox #lightbox \n  [imageUrls]="imageUrls" \n  transitionType="split" \n  imageSize="cover" \n  transitionDuration="500">\n</lib-lightbox>'},zO={type:"change"},Tw={type:"start"},UO={type:"end"};class aie extends $a{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new T,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(P){P.addEventListener("keydown",rn),this._domElementKeyEvents=P},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(zO),n.update(),s=r.NONE},this.update=function(){const P=new T,ue=(new Qn).setFromUnitVectors(e.up,new T(0,1,0)),ye=ue.clone().invert(),Oe=new T,Re=new Qn,pt=2*Math.PI;return function(){const wn=n.object.position;P.copy(wn).sub(n.target),P.applyQuaternion(ue),a.setFromVector3(P),n.autoRotate&&s===r.NONE&&I(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(a.theta+=l.theta*n.dampingFactor,a.phi+=l.phi*n.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let N=n.minAzimuthAngle,Ee=n.maxAzimuthAngle;return isFinite(N)&&isFinite(Ee)&&(N<-Math.PI?N+=pt:N>Math.PI&&(N-=pt),Ee<-Math.PI?Ee+=pt:Ee>Math.PI&&(Ee-=pt),a.theta=N<=Ee?Math.max(N,Math.min(Ee,a.theta)):a.theta>(N+Ee)/2?Math.max(N,a.theta):Math.min(Ee,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),!0===n.enableDamping?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),P.setFromSpherical(a),P.applyQuaternion(ye),wn.copy(n.target).add(P),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,!!(d||Oe.distanceToSquared(n.object.position)>o||8*(1-Re.dot(n.object.quaternion))>o)&&(n.dispatchEvent(zO),Oe.copy(n.object.position),Re.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",X),n.domElement.removeEventListener("pointerdown",_e),n.domElement.removeEventListener("pointercancel",wt),n.domElement.removeEventListener("wheel",dn),n.domElement.removeEventListener("pointermove",We),n.domElement.removeEventListener("pointerup",Se),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",rn)};const n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new UR,l=new UR;let c=1;const u=new T;let d=!1;const h=new J,f=new J,p=new J,m=new J,g=new J,b=new J,y=new J,w=new J,x=new J,S=[],E={};function C(){return Math.pow(.95,n.zoomSpeed)}function I(P){l.theta-=P}function L(P){l.phi-=P}const B=function(){const P=new T;return function(ye,Oe){P.setFromMatrixColumn(Oe,0),P.multiplyScalar(-ye),u.add(P)}}(),ee=function(){const P=new T;return function(ye,Oe){!0===n.screenSpacePanning?P.setFromMatrixColumn(Oe,1):(P.setFromMatrixColumn(Oe,0),P.crossVectors(n.object.up,P)),P.multiplyScalar(ye),u.add(P)}}(),le=function(){const P=new T;return function(ye,Oe){const Re=n.domElement;if(n.object.isPerspectiveCamera){P.copy(n.object.position).sub(n.target);let jt=P.length();jt*=Math.tan(n.object.fov/2*Math.PI/180),B(2*ye*jt/Re.clientHeight,n.object.matrix),ee(2*Oe*jt/Re.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(B(ye*(n.object.right-n.object.left)/n.object.zoom/Re.clientWidth,n.object.matrix),ee(Oe*(n.object.top-n.object.bottom)/n.object.zoom/Re.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function V(P){n.object.isPerspectiveCamera?c/=P:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*P)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function K(P){n.object.isPerspectiveCamera?c*=P:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/P)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function F(P){h.set(P.clientX,P.clientY)}function H(P){m.set(P.clientX,P.clientY)}function ge(){1===S.length?h.set(S[0].pageX,S[0].pageY):h.set(.5*(S[0].pageX+S[1].pageX),.5*(S[0].pageY+S[1].pageY))}function it(){1===S.length?m.set(S[0].pageX,S[0].pageY):m.set(.5*(S[0].pageX+S[1].pageX),.5*(S[0].pageY+S[1].pageY))}function te(){const P=S[0].pageX-S[1].pageX,ue=S[0].pageY-S[1].pageY,ye=Math.sqrt(P*P+ue*ue);y.set(0,ye)}function rt(P){if(1==S.length)f.set(P.pageX,P.pageY);else{const ye=dt(P);f.set(.5*(P.pageX+ye.x),.5*(P.pageY+ye.y))}p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const ue=n.domElement;I(2*Math.PI*p.x/ue.clientHeight),L(2*Math.PI*p.y/ue.clientHeight),h.copy(f)}function we(P){if(1===S.length)g.set(P.pageX,P.pageY);else{const ue=dt(P);g.set(.5*(P.pageX+ue.x),.5*(P.pageY+ue.y))}b.subVectors(g,m).multiplyScalar(n.panSpeed),le(b.x,b.y),m.copy(g)}function St(P){const ue=dt(P),ye=P.pageX-ue.x,Oe=P.pageY-ue.y,Re=Math.sqrt(ye*ye+Oe*Oe);w.set(0,Re),x.set(0,Math.pow(w.y/y.y,n.zoomSpeed)),V(x.y),y.copy(w)}function _e(P){!1!==n.enabled&&(0===S.length&&(n.domElement.setPointerCapture(P.pointerId),n.domElement.addEventListener("pointermove",We),n.domElement.addEventListener("pointerup",Se)),function(P){S.push(P)}(P),"touch"===P.pointerType?function(P){switch(Ie(P),S.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;ge(),s=r.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;it(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&te(),n.enablePan&&it(),s=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&te(),n.enableRotate&&ge(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(Tw)}(P):function(P){let ue;switch(P.button){case 0:ue=n.mouseButtons.LEFT;break;case 1:ue=n.mouseButtons.MIDDLE;break;case 2:ue=n.mouseButtons.RIGHT;break;default:ue=-1}switch(ue){case 1:if(!1===n.enableZoom)return;(function(P){y.set(P.clientX,P.clientY)})(P),s=r.DOLLY;break;case 0:if(P.ctrlKey||P.metaKey||P.shiftKey){if(!1===n.enablePan)return;H(P),s=r.PAN}else{if(!1===n.enableRotate)return;F(P),s=r.ROTATE}break;case 2:if(P.ctrlKey||P.metaKey||P.shiftKey){if(!1===n.enableRotate)return;F(P),s=r.ROTATE}else{if(!1===n.enablePan)return;H(P),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(Tw)}(P))}function We(P){!1!==n.enabled&&("touch"===P.pointerType?function(P){switch(Ie(P),s){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;rt(P),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;we(P),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function(P){n.enableZoom&&St(P),n.enablePan&&we(P)})(P),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function(P){n.enableZoom&&St(P),n.enableRotate&&rt(P)})(P),n.update();break;default:s=r.NONE}}(P):function(P){switch(s){case r.ROTATE:if(!1===n.enableRotate)return;!function(P){f.set(P.clientX,P.clientY),p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const ue=n.domElement;I(2*Math.PI*p.x/ue.clientHeight),L(2*Math.PI*p.y/ue.clientHeight),h.copy(f),n.update()}(P);break;case r.DOLLY:if(!1===n.enableZoom)return;!function(P){w.set(P.clientX,P.clientY),x.subVectors(w,y),x.y>0?V(C()):x.y<0&&K(C()),y.copy(w),n.update()}(P);break;case r.PAN:if(!1===n.enablePan)return;!function(P){g.set(P.clientX,P.clientY),b.subVectors(g,m).multiplyScalar(n.panSpeed),le(b.x,b.y),m.copy(g),n.update()}(P)}}(P))}function Se(P){ve(P),0===S.length&&(n.domElement.releasePointerCapture(P.pointerId),n.domElement.removeEventListener("pointermove",We),n.domElement.removeEventListener("pointerup",Se)),n.dispatchEvent(UO),s=r.NONE}function wt(P){ve(P)}function dn(P){!1===n.enabled||!1===n.enableZoom||s!==r.NONE||(P.preventDefault(),n.dispatchEvent(Tw),function(P){P.deltaY<0?K(C()):P.deltaY>0&&V(C()),n.update()}(P),n.dispatchEvent(UO))}function rn(P){!1===n.enabled||!1===n.enablePan||function(P){let ue=!1;switch(P.code){case n.keys.UP:le(0,n.keyPanSpeed),ue=!0;break;case n.keys.BOTTOM:le(0,-n.keyPanSpeed),ue=!0;break;case n.keys.LEFT:le(n.keyPanSpeed,0),ue=!0;break;case n.keys.RIGHT:le(-n.keyPanSpeed,0),ue=!0}ue&&(P.preventDefault(),n.update())}(P)}function X(P){!1!==n.enabled&&P.preventDefault()}function ve(P){delete E[P.pointerId];for(let ue=0;ue<S.length;ue++)if(S[ue].pointerId==P.pointerId)return void S.splice(ue,1)}function Ie(P){let ue=E[P.pointerId];void 0===ue&&(ue=new J,E[P.pointerId]=ue),ue.set(P.pageX,P.pageY)}function dt(P){return E[(P.pointerId===S[0].pointerId?S[1]:S[0]).pointerId]}n.domElement.addEventListener("contextmenu",X),n.domElement.addEventListener("pointerdown",_e),n.domElement.addEventListener("pointercancel",wt),n.domElement.addEventListener("wheel",dn,{passive:!1}),this.update()}}const lie=["threejsContainer"],cie=["performanceMonitor"];function uie(i,e){1&i&&(_(0,"div",13),xe(1,"div",14,15),v(),xe(3,"acuw-performance-monitor",null,16))}let HO=(()=>{class i{constructor(t,n,r,s){this.route=t,this.router=n,this.utility=r,this.ngZone=s,this.selectedTabIndex=0,this.renderer=new jm({antialias:!0,alpha:!0}),this.scene=new fu,this.code=die}ngOnInit(){const t=this.route.snapshot.paramMap.get("tab");this.selectedTabIndex=this.utility.getTabIndexFromParam(t)}ngAfterViewInit(){0==this.selectedTabIndex&&this.initScene()}ngOnDestroy(){this.scene.clear(),cancelAnimationFrame(this.animationFrameId)}initScene(){const t=this.threejsContainer.nativeElement.clientWidth,n=this.threejsContainer.nativeElement.clientHeight;this.camera=new ei(50,t/n,1,1e4),this.camera.position.z=20;const r=new DR(16777215,.5);r.position.set(0,20,30),this.scene.add(r),this.geometry=new wu(5,1),this.geometry.clearGroups(),this.geometry.addGroup(0,3,0),this.geometry.addGroup(3,3,1),this.geometry.addGroup(6,3,0),this.geometry.addGroup(9,3,0),this.geometry.addGroup(12,3,1),this.geometry.addGroup(15,3,0),this.geometry.addGroup(18,3,1),this.geometry.addGroup(21,3,1),this.geometry.addGroup(24,3,0),this.geometry.addGroup(27,3,1),this.geometry.addGroup(30,3,0),this.geometry.addGroup(33,3,0),this.geometry.addGroup(36,3,1),this.geometry.addGroup(39,3,0),this.geometry.addGroup(42,3,1),this.geometry.addGroup(45,3,1),this.geometry.addGroup(48,3,0),this.geometry.addGroup(51,3,1),this.geometry.addGroup(54,3,0),this.geometry.addGroup(57,3,0),this.geometry.addGroup(60,3,1),this.geometry.addGroup(63,3,0),this.geometry.addGroup(66,3,1),this.geometry.addGroup(69,3,1),this.geometry.addGroup(72,3,0),this.geometry.addGroup(75,3,1),this.geometry.addGroup(78,3,0),this.geometry.addGroup(81,3,0),this.geometry.addGroup(84,3,1),this.geometry.addGroup(87,3,0),this.geometry.addGroup(90,3,1),this.geometry.addGroup(93,3,1);const s=(new Eu).load("assets/performance-monitor/metalroughness.png"),o=[new dx({color:16777215,emissive:194314,emissiveIntensity:1,roughness:.25,metalness:1,roughnessMap:s,transparent:!0,blending:2,opacity:.6,side:2}),new dx({color:10855845,emissive:4671303,emissiveIntensity:1,roughness:.8,metalness:1,roughnessMap:s,side:2})];var a=new Si(this.geometry,o);this.scene.add(a),this.renderer.setSize(t-1,n),this.threejsContainer.nativeElement.appendChild(this.renderer.domElement),new aie(this.camera,this.renderer.domElement).update(),this.animate()}animate(){this.renderer&&this.ngZone.runOutsideAngular(()=>{this.animationFrameId=window.requestAnimationFrame(()=>this.animate()),this.geometry.rotateY(.005),this.geometry.rotateZ(.001),this.renderer.render(this.scene,this.camera),this.performanceMonitor.end()})}resize(){if(this.renderer&&this.threejsContainer){const t=this.threejsContainer.nativeElement.clientWidth,n=this.threejsContainer.nativeElement.clientHeight;this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,n)}}selctedTabChanged(t){const n=this.utility.getParamFromTabIndex(t);null===this.route.snapshot.paramMap.get("tab")?this.router.navigate([n],{relativeTo:this.route}):this.router.navigate(["../"+n],{relativeTo:this.route}),0===t?setTimeout(()=>{this.initScene()},0):this.ngOnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(A(ds),A(ui),A(Gh),A(lt))},i.\u0275cmp=Rt({type:i,selectors:[["app-performance-monitor"]],viewQuery:function(t,n){if(1&t&&(Vt(lie,5),Vt(cie,5)),2&t){let r;ze(r=Ue())&&(n.threejsContainer=r.first),ze(r=Ue())&&(n.performanceMonitor=r.first)}},hostBindings:function(t,n){1&t&&he("resize",function(){return n.resize()},!1,Xl)},decls:94,vars:5,consts:[["mat-align-tabs","center","backgroundColor","primary","animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],["label","Demo"],["matTabContent",""],["label","Description"],[1,"description-container"],[1,"description-content"],["href","https://mrdoob.github.io/stats.js/","target","_blank",1,"external-link"],["href","https://github.com/mrdoob","target","_blank",1,"external-link"],["language","bash"],["language","ts"],["language","html"],[1,"table-container"],["language","css"],[1,"container"],[1,"threejs-container"],["threejsContainer",""],["performanceMonitor",""]],template:function(t,n){1&t&&(_(0,"mat-tab-group",0),he("selectedIndexChange",function(s){return n.selctedTabChanged(s)}),_(1,"mat-tab",1),je(2,uie,5,0,"ng-template",2),v(),_(3,"mat-tab",3),_(4,"div",4),_(5,"div",5),_(6,"h2"),M(7,"Information"),v(),xe(8,"mat-divider"),_(9,"p"),M(10," The performance monitor component is a small display, which shows the number of rendered frames per second. This component helps to keep track of the performance for WEBGL scenes and can be integrated very easily in Angular applications. It is already integrated per default in all components of the ngx-acuw library and can be shown by just setting a property of the components. If you want to use the performance monitor in custom projects you can follow the description below. "),v(),_(11,"p"),M(12," The performance monitor display is strongly inspired by "),_(13,"a",6),M(14,"stats.js"),v(),M(15," from "),_(16,"a",7),M(17,"Mr.doob"),v(),M(18,". "),v(),_(19,"h2"),M(20,"Installation"),v(),xe(21,"mat-divider"),_(22,"app-code-block",8),M(23,"npm install three @angular/cdk ngx-acuw"),v(),_(24,"h2"),M(25,"Usage"),v(),xe(26,"mat-divider"),_(27,"h3"),M(28,"Import Module"),v(),_(29,"app-code-block",9),M(30),v(),_(31,"h3"),M(32,"Directive Example"),v(),_(33,"app-code-block",10),M(34),v(),_(35,"h3"),M(36,"TS Example"),v(),_(37,"app-code-block",9),M(38),v(),_(39,"h2"),M(40,"Performance-Monitor API"),v(),xe(41,"mat-divider"),_(42,"h3"),M(43,"Properties"),v(),_(44,"div",11),_(45,"table"),_(46,"tr"),_(47,"th"),M(48,"Name"),v(),_(49,"th"),M(50,"Default value"),v(),_(51,"th"),M(52,"Description"),v(),v(),_(53,"tr"),_(54,"td"),M(55,"fps: number"),v(),_(56,"td"),M(57,"-1"),v(),_(58,"td"),M(59,"Current frames per second. The value is calculated every second."),v(),v(),_(60,"tr"),_(61,"td"),M(62,"fpsMin: number"),v(),_(63,"td"),M(64,"-1"),v(),_(65,"td"),M(66,"Min. frames per seconds starting from the time the compent has been created."),v(),v(),_(67,"tr"),_(68,"td"),M(69,"fpsMax: number"),v(),_(70,"td"),M(71,"-1"),v(),_(72,"td"),M(73,"Max. frames per seconds starting from the time the compent has been created."),v(),v(),v(),v(),_(74,"h3"),M(75,"Methods"),v(),_(76,"div",11),_(77,"table"),_(78,"tr"),_(79,"th"),M(80,"Name"),v(),_(81,"th"),M(82,"Description"),v(),v(),_(83,"tr"),_(84,"td"),M(85,"end(): void"),v(),_(86,"td"),M(87,"Method to be called at the end of a frame"),v(),v(),v(),v(),_(88,"h3"),M(89,"Styling"),v(),_(90,"p"),M(91,"Available CSS variables:"),v(),_(92,"app-code-block",12),M(93),v(),v(),v(),v(),v()),2&t&&($("selectedIndex",n.selectedTabIndex),q(30),gn(n.code.importModule),q(4),gn(n.code.directiveExample),q(4),gn(n.code.tsExample),q(55),gn(n.code.cssVariables))},directives:[Yh,Lu,Xh,Zh,Kh,kg],styles:[".container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 168px)}@media (min-width: 600px){.container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 176px)}}.threejs-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#000}.description-container[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto 30px}.table-container[_ngcontent-%COMP%]{max-width:inherit;overflow:auto}"]}),i})();const die={importModule:"import { PerformanceMonitorModule } from 'ngx-acuw';\n  \n@NgModule({ \n  declarations: [AppComponent, ...],\n  imports: [PerformanceMonitorModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { \n}",directiveExample:'<div class="container">\n  <div #threejsContainer class="threejs-container"></div>\n</div>\n<acuw-performance-monitor #performanceMonitor></acuw-performance-monitor>',tsExample:"\n@ViewChild('performanceMonitor') performanceMonitor!: PerformanceMonitorComponent;\n\nprivate animate(): void {\n  // Run animation function outside to avoid invoking change detection\n  this.ngZone.runOutsideAngular(() => {\n    this.animationFrameId = window.requestAnimationFrame(() => this.animate());\n\n    // Code to be monitored\n        \n    // Call end() method of the perfomance monitor\n    this.performanceMonitor.end();\n  });\n}",cssVariables:"acuw-performance-monitor {\n  --position: absolute;\n  --color: rgb(255, 255, 255);\n  --background-color: rgba(0, 0, 0, 0.8);\n  --top: 5px;\n  --left: 5px;\n  --width: 100px;\n  --padding: 5px;\n  --display: flex;\n  --flex-direction: column;\n  --align-items: center;\n  }"},hie=[{path:"home",component:_ne},{path:"image-as-particles",component:RO},{path:"image-as-particles/:tab",component:RO},{path:"image-transition",component:BO},{path:"image-transition/:tab",component:BO},{path:"lightbox",component:VO},{path:"lightbox/:tab",component:VO},{path:"carousel",component:PO},{path:"carousel/:tab",component:PO},{path:"performanceMonitor",component:HO},{path:"performanceMonitor/:tab",component:HO},{path:"",redirectTo:"home",pathMatch:"full"}];let fie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[JA.forRoot(hie)],JA]}),i})();const pie=["*",[["mat-toolbar-row"]]],mie=["*","mat-toolbar-row"],gie=vl(class{constructor(i){this._elementRef=i}});let _ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),vie=(()=>{class i extends gie{constructor(t,n,r){super(t),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(_i),A(bt))},i.\u0275cmp=Rt({type:i,selectors:[["mat-toolbar"]],contentQueries:function(t,n,r){if(1&t&&an(r,_ie,5),2&t){let s;ze(s=Ue())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,n){2&t&&Ft("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",0===n._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[nt],ngContentSelectors:mie,decls:2,vars:0,template:function(t,n){1&t&&(ai(pie),Yt(0),Yt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),yie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[ln],ln]}),i})();function GO(i){return e=>e.lift(new bie(i))}class bie{constructor(e){this.value=e}call(e,t){return t.subscribe(new xie(e,this.value))}}class xie extends Ye{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const u_=["*"];function wie(i,e){if(1&i){const t=on();_(0,"div",2),he("click",function(){return Ze(t),fe()._onBackdropClicked()}),v()}2&i&&Ft("mat-drawer-shown",fe()._isShowingBackdrop())}function Mie(i,e){1&i&&(_(0,"mat-drawer-content"),Yt(1,2),v())}const Cie=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Sie=["mat-drawer","mat-drawer-content","*"];function Eie(i,e){if(1&i){const t=on();_(0,"div",2),he("click",function(){return Ze(t),fe()._onBackdropClicked()}),v()}2&i&&Ft("mat-drawer-shown",fe()._isShowingBackdrop())}function Die(i,e){1&i&&(_(0,"mat-sidenav-content",3),Yt(1,2),v())}const Tie=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Aie=["mat-sidenav","mat-sidenav-content","*"],WO={transformDrawer:zr("transform",[hs("open, open-instant",xt({transform:"none",visibility:"visible"})),hs("void",xt({"box-shadow":"none",visibility:"hidden"})),Ln("void => open-instant",Tn("0ms")),Ln("void <=> open, open-instant => void",Tn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Pie=new Ce("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Aw=new Ce("MAT_DRAWER_CONTAINER");let d_=(()=>{class i extends Ng{constructor(t,n,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(t){return new(t||i)(A(Fn),A(qt(()=>$O)),A(ft),A(Lg),A(lt))},i.\u0275cmp=Rt({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,n){2&t&&Da("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[nt],ngContentSelectors:u_,decls:1,vars:0,template:function(t,n){1&t&&(ai(),Yt(0))},encapsulation:2,changeDetection:0}),i})(),jO=(()=>{class i{constructor(t,n,r,s,o,a,l,c){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Qe,this._animationEnd=new Qe,this._animationState="void",this.openedChange=new qe(!0),this._openedStream=this.openedChange.pipe(wi(u=>u),mt(()=>{})),this.openedStart=this._animationStarted.pipe(wi(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),GO(void 0)),this._closedStream=this.openedChange.pipe(wi(u=>!u),mt(()=>{})),this.closedStart=this._animationStarted.pipe(wi(u=>u.fromState!==u.toState&&"void"===u.toState),GO(void 0)),this._destroyed=new Qe,this.onPositionChanged=new qe,this._modeChanged=new Qe,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ca(this._elementRef.nativeElement,"keydown").pipe(wi(u=>27===u.keyCode&&!this.disableClose&&!js(u)),Zt(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(Bg((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Wt(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Wt(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Wt(t))}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var t;const n=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!n&&this._elementRef.nativeElement.contains(n)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,n,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Nr(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(eQ),A(Pu),A(_i),A(lt),A(Gk),A(bt,8),A(Aw,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,n){1&t&&ey("@transform.start",function(s){return n._animationStarted.next(s)})("@transform.done",function(s){return n._animationEnd.next(s)}),2&t&&(tn("align",null),oy("@transform",n._animationState),Ft("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:u_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){1&t&&(ai(),_(0,"div",0),Yt(1),v())},directives:[Ng],encapsulation:2,data:{animation:[WO.transformDrawer]},changeDetection:0}),i})(),$O=(()=>{class i{constructor(t,n,r,s,o,a=!1,l){this._dir=t,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new Aa,this.backdropClick=new qe,this._destroyed=new Qe,this._doCheckSubject=new Qe,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Qe,t&&t.change.pipe(Zt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Zt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Wt(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Wt(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Br(this._allDrawers),Zt(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Br(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Nx(10),Zt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,t-=r}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(wi(n=>n.fromState!==n.toState),Zt(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Zt(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(Zt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Nr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Zt(Ms(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return i.\u0275fac=function(t){return new(t||i)(A(Wr,8),A(ft),A(lt),A(Fn),A(hl),A(Pie),A(qi,8))},i.\u0275cmp=Rt({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(t,n,r){if(1&t&&(an(r,d_,5),an(r,jO,5)),2&t){let s;ze(s=Ue())&&(n._content=s.first),ze(s=Ue())&&(n._allDrawers=s)}},viewQuery:function(t,n){if(1&t&&Vt(d_,5),2&t){let r;ze(r=Ue())&&(n._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,n){2&t&&Ft("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ht([{provide:Aw,useExisting:i}])],ngContentSelectors:Sie,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,n){1&t&&(ai(Cie),je(0,wie,1,2,"div",0),Yt(1),Yt(2,1),je(3,Mie,2,0,"mat-drawer-content",1)),2&t&&($("ngIf",n.hasBackdrop),q(3),$("ngIf",!n._content))},directives:[Qi,d_],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),i})(),Iw=(()=>{class i extends d_{constructor(t,n,r,s,o){super(t,n,r,s,o)}}return i.\u0275fac=function(t){return new(t||i)(A(Fn),A(qt(()=>XO)),A(ft),A(Lg),A(lt))},i.\u0275cmp=Rt({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,n){2&t&&Da("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[nt],ngContentSelectors:u_,decls:1,vars:0,template:function(t,n){1&t&&(ai(),Yt(0))},encapsulation:2,changeDetection:0}),i})(),qO=(()=>{class i extends jO{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Wt(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=br(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=br(t)}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=bi(i)))(n||i)}}(),i.\u0275cmp=Rt({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,n){2&t&&(tn("align",null),Da("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),Ft("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[nt],ngContentSelectors:u_,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){1&t&&(ai(),_(0,"div",0),Yt(1),v())},directives:[Ng],encapsulation:2,data:{animation:[WO.transformDrawer]},changeDetection:0}),i})(),XO=(()=>{class i extends $O{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=bi(i)))(n||i)}}(),i.\u0275cmp=Rt({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(t,n,r){if(1&t&&(an(r,Iw,5),an(r,qO,5)),2&t){let s;ze(s=Ue())&&(n._content=s.first),ze(s=Ue())&&(n._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,n){2&t&&Ft("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ht([{provide:Aw,useExisting:i}]),nt],ngContentSelectors:Aie,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,n){1&t&&(ai(Tie),je(0,Eie,1,2,"div",0),Yt(1),Yt(2,1),je(3,Die,2,0,"mat-sidenav-content",1)),2&t&&($("ngIf",n.hasBackdrop),q(3),$("ngIf",!n._content))},directives:[Qi,Iw,Ng],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),i})(),kie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[fr,ln,kh,Nh],Nh,ln]}),i})();const Oie=["*"],Lie=["text"];function Nie(i,e){if(1&i&&xe(0,"mat-pseudo-checkbox",5),2&i){const t=fe();$("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Bie=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],Vie=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let zie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),Uie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=De({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})();const Hie=Fu(class{}),Gie=Fu(class{}),Wie={provide:pr,useExisting:qt(()=>Pw),multi:!0};class jie{constructor(e,t,n){this.source=e,this.option=t,this.options=n}}let YO=(()=>{class i extends Gie{constructor(t,n,r){super(),this._element=t,this._changeDetector=n,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new qe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const n=Wt(t);n!==this._disabled&&(this._disabled=n,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const n=Wt(t);n!==this._selected&&(this._setSelected(n),(n||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(r,this._value))&&this._setSelected(!0);const n=this._selected;Promise.resolve().then(()=>{(this._selected||n)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function(i,e,t="mat"){i.changes.pipe(Br(i)).subscribe(({length:n})=>{$h(e,`${t}-2-line`,!1),$h(e,`${t}-3-line`,!1),$h(e,`${t}-multi-line`,!1),2===n||3===n?$h(e,`${t}-${n}-line`,!0):n>3&&$h(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,n=this.selectionList._removeOptionFromList(this);t&&n&&n.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(A(ft),A(Fn),A(qt(()=>Pw)))},i.\u0275cmp=Rt({type:i,selectors:[["mat-list-option"]],contentQueries:function(t,n,r){if(1&t&&(an(r,zie,5),an(r,Uie,5),an(r,GJ,5)),2&t){let s;ze(s=Ue())&&(n._avatar=s.first),ze(s=Ue())&&(n._icon=s.first),ze(s=Ue())&&(n._lines=s)}},viewQuery:function(t,n){if(1&t&&Vt(Lie,5),2&t){let r;ze(r=Ue())&&(n._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,n){1&t&&he("focus",function(){return n._handleFocus()})("blur",function(){return n._handleBlur()})("click",function(){return n._handleClick()}),2&t&&(tn("aria-selected",n.selected)("aria-disabled",n.disabled)("tabindex",-1),Ft("mat-list-item-disabled",n.disabled)("mat-list-item-with-avatar",n._avatar||n._icon)("mat-primary","primary"===n.color)("mat-accent","primary"!==n.color&&"warn"!==n.color)("mat-warn","warn"===n.color)("mat-list-single-selected-option",n.selected&&!n.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[nt],ngContentSelectors:Vie,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,n){1&t&&(ai(Bie),_(0,"div",0),xe(1,"div",1),je(2,Nie,1,2,"mat-pseudo-checkbox",2),_(3,"div",3,4),Yt(5),v(),Yt(6,1),v()),2&t&&(Ft("mat-list-item-content-reverse","after"==n.checkboxPosition),q(1),$("matRippleTrigger",n._getHostElement())("matRippleDisabled",n._isRippleDisabled()),q(1),$("ngIf",n.selectionList.multiple))},directives:[yl,Qi,Q2],encapsulation:2,changeDetection:0}),i})(),Pw=(()=>{class i extends Hie{constructor(t,n,r,s){super(),this._element=t,this._changeDetector=r,this._focusMonitor=s,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new qe,this.tabIndex=0,this.color="accent",this.compareWith=(o,a)=>o===a,this._disabled=!1,this.selectedOptions=new Dw(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new Qe,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=Wt(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const n=Wt(t);n!==this._multiple&&(this._multiple=n,this.selectedOptions=new Dw(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new Hk(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Zt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(Br(null),Zt(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Zt(this._destroyed)).subscribe(n=>{if(n.added)for(let r of n.added)r.selected=!0;if(n.removed)for(let r of n.removed)r.selected=!1}),null===(t=this._focusMonitor)||void 0===t||t.monitor(this._element).pipe(Zt(this._destroyed)).subscribe(n=>{var r;if("keyboard"===n||"program"===n){let s=0;for(let o=0;o<this.options.length;o++)if(null===(r=this.options.get(o))||void 0===r?void 0:r.selected){s=o;break}this._keyManager.setActiveItem(s)}})}ngOnChanges(t){const n=t.disableRipple,r=t.color;(n&&!n.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null===(t=this._focusMonitor)||void 0===t||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const n=this._getOptionIndex(t);return n>-1&&this._keyManager.activeItemIndex===n&&(n>0?this._keyManager.updateActiveItem(n-1):0===n&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(n+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const n=t.keyCode,r=this._keyManager,s=r.activeItemIndex,o=js(t);switch(n){case 32:case 13:!o&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===n&&this.multiple&&js(t,"ctrlKey")&&!r.isTyping()){const a=this.options.some(l=>!l.disabled&&!l.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===n||40===n)&&t.shiftKey&&r.activeItemIndex!==s&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new jie(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(n=>n._setSelected(!1)),t.forEach(n=>{const r=this.options.find(s=>!s.selected&&this.compareWith(s.value,n));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let n=this.options.toArray()[t];n&&!n.disabled&&(this._multiple||!n.selected)&&(n.toggle(),this._emitChangeEvent([n]))}}_setAllOptionsSelected(t,n,r){const s=[];return this.options.forEach(o=>{(!n||!o.disabled)&&o._setSelected(t)&&s.push(o)}),s.length&&(this._reportValueChange(),r&&this._emitChangeEvent(s)),s}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return i.\u0275fac=function(t){return new(t||i)(A(ft),Es("tabindex"),A(Fn),A(Pu))},i.\u0275cmp=Rt({type:i,selectors:[["mat-selection-list"]],contentQueries:function(t,n,r){if(1&t&&an(r,YO,5),2&t){let s;ze(s=Ue())&&(n.options=s)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,n){1&t&&he("keydown",function(s){return n._keydown(s)}),2&t&&tn("aria-multiselectable",n.multiple)("aria-disabled",n.disabled.toString())("tabindex",n._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Ht([Wie]),nt,ri],ngContentSelectors:Oie,decls:1,vars:0,template:function(t,n){1&t&&(ai(),Yt(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),$ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i}),i.\u0275inj=vt({imports:[[X2,qh,ln,vw,fr],X2,ln,vw,hO]}),i})();function qie(i,e){if(1&i&&(_(0,"mat-list-option",19),M(1),v()),2&i){const t=e.$implicit,n=fe();$("value",t.routeLink)("selected",n.activeRoute==t.routeLink)("routerLink",t.routeLink),q(1),oo(" ",t.name," ")}}let Xie=(()=>{class i{constructor(t,n,r){this.router=t,this.titleService=n,this.metaService=r,this.navItems=[{name:"Image As Particles",routeLink:"image-as-particles"},{name:"Image Transition",routeLink:"image-transition"},{name:"Lightbox",routeLink:"lightbox"},{name:"Carousel",routeLink:"carousel"},{name:"Performance Monitor",routeLink:"performanceMonitor"}],this.activeRoute="",this.router.events.subscribe(s=>{if(s instanceof Ac){const o=s.url,a=this.navItems.findIndex(l=>o.includes(l.routeLink));this.activeRoute=-1!==a?this.navItems[a].routeLink:"",this.updateMetaTags(s.urlAfterRedirects)}})}updateMetaTags(t){t.includes("home")?(this.titleService.setTitle("ACUW - Library"),this.metaService.updateTag({name:"description",content:"ACUW is a collection of components for Angular made with the 3D library three.js."}),this.metaService.updateTag({name:"keywords",content:"three.js, threejs, angular, WEBGL, library"})):(this.titleService.setTitle("ACUW - Image As Particles"),this.metaService.updateTag({name:"description",content:"Objects in images shown as interactive particles using the three.js library."}),this.metaService.updateTag({name:"keywords",content:"three.js, threejs, angular, WEBGL, image as particles, interactive particles, particle effect"}))}}return i.\u0275fac=function(t){return new(t||i)(A(ui),A(KD),A(ZD))},i.\u0275cmp=Rt({type:i,selectors:[["app-root"]],decls:30,vars:2,consts:[["color","primary",1,"top-toolbar"],["mat-icon-button","","aria-label","menue icon",3,"click"],["routerLink","/home"],["src","./assets/acuw.svg","alt","acuw logo",1,"toolbar-logo"],[1,"spacer"],["href","https://github.com/windmichael/ngx-acuw","target","_blank"],["src","./assets/icons/GitHub-Mark-Light-64px.png",2,"width","35px"],[1,"content-container"],["mode","over","fixedInViewport","false",2,"min-width","220px"],["sidenav",""],[3,"multiple"],[3,"value","selected","routerLink",4,"ngFor","ngForOf"],["color","primary",1,"footer"],[1,"created-by-content"],["href","https://michael-wind.web.app/","target","_blank",1,"external-link"],["href","https://michael-wind.web.app/","target","_blank"],["src","./assets/icons/mw_logo.svg","alt","MW Logo"],["href","https://github.com/windmichael","target","_blank"],["src","./assets/icons/GitHub-Mark-Light-64px.png"],[3,"value","selected","routerLink"]],template:function(t,n){if(1&t){const r=on();_(0,"mat-toolbar",0),_(1,"button",1),he("click",function(){return Ze(r),Pr(13).toggle()}),_(2,"mat-icon"),M(3,"menu"),v(),v(),_(4,"a",2),xe(5,"img",3),v(),_(6,"span"),M(7,"ACUW - Showcase"),v(),xe(8,"span",4),_(9,"a",5),xe(10,"img",6),v(),v(),_(11,"mat-sidenav-container",7),_(12,"mat-sidenav",8,9),_(14,"mat-selection-list",10),je(15,qie,2,4,"mat-list-option",11),v(),v(),_(16,"mat-sidenav-content"),xe(17,"router-outlet"),_(18,"mat-toolbar",12),_(19,"span"),M(20,"ACUW"),v(),_(21,"div",13),_(22,"span"),M(23,"Created by "),v(),_(24,"a",14),M(25," Michael Wind"),v(),_(26,"a",15),xe(27,"img",16),v(),_(28,"a",17),xe(29,"img",18),v(),v(),v(),v(),v()}2&t&&(q(14),$("multiple",!1),q(1),$("ngForOf",n.navItems))},directives:[vie,Qh,tf,sh,XO,qO,Pw,Ho,Iw,Gb,YO,cm],styles:[".top-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:2}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.sidenav-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.toolbar-logo[_ngcontent-%COMP%]{height:48px}.content-container[_ngcontent-%COMP%]{position:absolute;top:55px;bottom:0;left:0;right:0}.nav-item[_ngcontent-%COMP%]{text-align:center}.active-nav-item[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.created-by-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;font-size:16px}.created-by-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.created-by-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;color:#fff}.created-by-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 0 5px}@media (min-width: 600px){.toolbar-logo[_ngcontent-%COMP%]{height:56px}.content-container[_ngcontent-%COMP%]{top:64px}}"]}),i})(),Yie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Ct({type:i,bootstrap:[Xie]}),i.\u0275inj=vt({providers:[],imports:[[YD,fie,L8,yie,dte,$ie,LJ,Wee,Une,kie,Hte,dne,hO,Fee,Qte,qY,tk,_K,IK,Rh]]}),i})();rD=!1,I5().bootstrapModule(Yie).catch(i=>console.error(i))},890:()=>{!function(Mn){var er="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",Fe={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},Pt={bash:Fe,environment:{pattern:RegExp("\\$"+er),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+er),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};Mn.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+er),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:Pt},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:Fe}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:Pt},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:Pt.entity}}],environment:{pattern:RegExp("\\$?"+er),alias:"constant"},variable:Pt.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},Fe.inside=Mn.languages.bash;for(var bn=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],pn=Pt.variable[1].inside,In=0;In<bn.length;In++)pn[bn[In]]=Mn.languages.bash[bn[In]];Mn.languages.shell=Mn.languages.bash}(Prism)},668:()=>{!function(Mn){Mn.languages.typescript=Mn.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),Mn.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete Mn.languages.typescript.parameter,delete Mn.languages.typescript["literal-property"];var er=Mn.languages.extend("typescript",{});delete er["class-name"],Mn.languages.typescript["class-name"].inside=er,Mn.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:er}}}}),Mn.languages.ts=Mn.languages.typescript}(Prism)},83:Mn=>{var Fe=function(Pt){var bn=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,pn=0,In={},Ge={manual:Pt.Prism&&Pt.Prism.manual,disableWorkerMessageHandler:Pt.Prism&&Pt.Prism.disableWorkerMessageHandler,util:{encode:function ae(re){return re instanceof Pn?new Pn(re.type,ae(re.content),re.alias):Array.isArray(re)?re.map(ae):re.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(ae){return Object.prototype.toString.call(ae).slice(8,-1)},objId:function(ae){return ae.__id||Object.defineProperty(ae,"__id",{value:++pn}),ae.__id},clone:function ae(re,be){var Me,Ae;switch(be=be||{},Ge.util.type(re)){case"Object":if(Ae=Ge.util.objId(re),be[Ae])return be[Ae];for(var et in be[Ae]=Me={},re)re.hasOwnProperty(et)&&(Me[et]=ae(re[et],be));return Me;case"Array":return Ae=Ge.util.objId(re),be[Ae]?be[Ae]:(be[Ae]=Me=[],re.forEach(function(Le,Ke){Me[Ke]=ae(Le,be)}),Me);default:return re}},getLanguage:function(ae){for(;ae;){var re=bn.exec(ae.className);if(re)return re[1].toLowerCase();ae=ae.parentElement}return"none"},setLanguage:function(ae,re){ae.className=ae.className.replace(RegExp(bn,"gi"),""),ae.classList.add("language-"+re)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(Me){var ae=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Me.stack)||[])[1];if(ae){var re=document.getElementsByTagName("script");for(var be in re)if(re[be].src==ae)return re[be]}return null}},isActive:function(ae,re,be){for(var Me="no-"+re;ae;){var Ae=ae.classList;if(Ae.contains(re))return!0;if(Ae.contains(Me))return!1;ae=ae.parentElement}return!!be}},languages:{plain:In,plaintext:In,text:In,txt:In,extend:function(ae,re){var be=Ge.util.clone(Ge.languages[ae]);for(var Me in re)be[Me]=re[Me];return be},insertBefore:function(ae,re,be,Me){var Ae=(Me=Me||Ge.languages)[ae],et={};for(var Le in Ae)if(Ae.hasOwnProperty(Le)){if(Le==re)for(var Ke in be)be.hasOwnProperty(Ke)&&(et[Ke]=be[Ke]);be.hasOwnProperty(Le)||(et[Le]=Ae[Le])}var Cn=Me[ae];return Me[ae]=et,Ge.languages.DFS(Ge.languages,function(Sn,xs){xs===Cn&&Sn!=ae&&(this[Sn]=et)}),et},DFS:function ae(re,be,Me,Ae){Ae=Ae||{};var et=Ge.util.objId;for(var Le in re)if(re.hasOwnProperty(Le)){be.call(re,Le,re[Le],Me||Le);var Ke=re[Le],Cn=Ge.util.type(Ke);"Object"!==Cn||Ae[et(Ke)]?"Array"===Cn&&!Ae[et(Ke)]&&(Ae[et(Ke)]=!0,ae(Ke,be,Le,Ae)):(Ae[et(Ke)]=!0,ae(Ke,be,null,Ae))}}},plugins:{},highlightAll:function(ae,re){Ge.highlightAllUnder(document,ae,re)},highlightAllUnder:function(ae,re,be){var Me={callback:be,container:ae,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Ge.hooks.run("before-highlightall",Me),Me.elements=Array.prototype.slice.apply(Me.container.querySelectorAll(Me.selector)),Ge.hooks.run("before-all-elements-highlight",Me);for(var et,Ae=0;et=Me.elements[Ae++];)Ge.highlightElement(et,!0===re,Me.callback)},highlightElement:function(ae,re,be){var Me=Ge.util.getLanguage(ae),Ae=Ge.languages[Me];Ge.util.setLanguage(ae,Me);var et=ae.parentElement;et&&"pre"===et.nodeName.toLowerCase()&&Ge.util.setLanguage(et,Me);var Ke={element:ae,language:Me,grammar:Ae,code:ae.textContent};function Cn(xs){Ke.highlightedCode=xs,Ge.hooks.run("before-insert",Ke),Ke.element.innerHTML=Ke.highlightedCode,Ge.hooks.run("after-highlight",Ke),Ge.hooks.run("complete",Ke),be&&be.call(Ke.element)}if(Ge.hooks.run("before-sanity-check",Ke),(et=Ke.element.parentElement)&&"pre"===et.nodeName.toLowerCase()&&!et.hasAttribute("tabindex")&&et.setAttribute("tabindex","0"),!Ke.code)return Ge.hooks.run("complete",Ke),void(be&&be.call(Ke.element));if(Ge.hooks.run("before-highlight",Ke),Ke.grammar)if(re&&Pt.Worker){var Sn=new Worker(Ge.filename);Sn.onmessage=function(xs){Cn(xs.data)},Sn.postMessage(JSON.stringify({language:Ke.language,code:Ke.code,immediateClose:!0}))}else Cn(Ge.highlight(Ke.code,Ke.grammar,Ke.language));else Cn(Ge.util.encode(Ke.code))},highlight:function(ae,re,be){var Me={code:ae,grammar:re,language:be};if(Ge.hooks.run("before-tokenize",Me),!Me.grammar)throw new Error('The language "'+Me.language+'" has no grammar.');return Me.tokens=Ge.tokenize(Me.code,Me.grammar),Ge.hooks.run("after-tokenize",Me),Pn.stringify(Ge.util.encode(Me.tokens),Me.language)},tokenize:function(ae,re){var be=re.rest;if(be){for(var Me in be)re[Me]=be[Me];delete re.rest}var Ae=new bs;return at(Ae,Ae.head,ae),Uu(ae,Ae,re,Ae.head,0),function(ae){for(var re=[],be=ae.head.next;be!==ae.tail;)re.push(be.value),be=be.next;return re}(Ae)},hooks:{all:{},add:function(ae,re){var be=Ge.hooks.all;be[ae]=be[ae]||[],be[ae].push(re)},run:function(ae,re){var be=Ge.hooks.all[ae];if(be&&be.length)for(var Ae,Me=0;Ae=be[Me++];)Ae(re)}},Token:Pn};function Pn(ae,re,be,Me){this.type=ae,this.content=re,this.alias=be,this.length=0|(Me||"").length}function Ys(ae,re,be,Me){ae.lastIndex=re;var Ae=ae.exec(be);if(Ae&&Me&&Ae[1]){var et=Ae[1].length;Ae.index+=et,Ae[0]=Ae[0].slice(et)}return Ae}function Uu(ae,re,be,Me,Ae,et){for(var Le in be)if(be.hasOwnProperty(Le)&&be[Le]){var Ke=be[Le];Ke=Array.isArray(Ke)?Ke:[Ke];for(var Cn=0;Cn<Ke.length;++Cn){if(et&&et.cause==Le+","+Cn)return;var Sn=Ke[Cn],xs=Sn.inside,Hu=!!Sn.lookbehind,Qe=!!Sn.greedy,uf=Sn.alias;if(Qe&&!Sn.pattern.global){var Po=Sn.pattern.toString().match(/[imsuy]*$/)[0];Sn.pattern=RegExp(Sn.pattern.source,Po+"g")}for(var mt=Sn.pattern||Sn,fi=Me.next,Cr=Ae;fi!==re.tail&&!(et&&Cr>=et.reach);Cr+=fi.value.length,fi=fi.next){var Ks=fi.value;if(re.length>ae.length)return;if(!(Ks instanceof Pn)){var tr,Ml=1;if(Qe){if(!(tr=Ys(mt,Cr,ae,Hu))||tr.index>=ae.length)break;var Cl=tr.index,ws=tr.index+tr[0].length,Qs=Cr;for(Qs+=fi.value.length;Cl>=Qs;)Qs+=(fi=fi.next).value.length;if(Cr=Qs-=fi.value.length,fi.value instanceof Pn)continue;for(var ga=fi;ga!==re.tail&&(Qs<ws||"string"==typeof ga.value);ga=ga.next)Ml++,Qs+=ga.value.length;Ml--,Ks=ae.slice(Cr,Qs),tr.index-=Cr}else if(!(tr=Ys(mt,0,Ks,Hu)))continue;var _a=tr[0],Sl=Ks.slice(0,Cl=tr.index),El=Ks.slice(Cl+_a.length),Gu=Cr+Ks.length;et&&Gu>et.reach&&(et.reach=Gu);var Dl=fi.prev;if(Sl&&(Dl=at(re,Dl,Sl),Cr+=Sl.length),wl(re,Dl,Ml),fi=at(re,Dl,new Pn(Le,xs?Ge.tokenize(_a,xs):_a,uf,_a)),El&&at(re,fi,El),Ml>1){var ju={cause:Le+","+Cn,reach:Gu};Uu(ae,re,be,fi.prev,Cr,ju),et&&ju.reach>et.reach&&(et.reach=ju.reach)}}}}}}function bs(){var ae={value:null,prev:null,next:null},re={value:null,prev:ae,next:null};ae.next=re,this.head=ae,this.tail=re,this.length=0}function at(ae,re,be){var Me=re.next,Ae={value:be,prev:re,next:Me};return re.next=Ae,Me.prev=Ae,ae.length++,Ae}function wl(ae,re,be){for(var Me=re.next,Ae=0;Ae<be&&Me!==ae.tail;Ae++)Me=Me.next;re.next=Me,Me.prev=re,ae.length-=Ae}if(Pt.Prism=Ge,Pn.stringify=function ae(re,be){if("string"==typeof re)return re;if(Array.isArray(re)){var Me="";return re.forEach(function(Cn){Me+=ae(Cn,be)}),Me}var Ae={type:re.type,content:ae(re.content,be),tag:"span",classes:["token",re.type],attributes:{},language:be},et=re.alias;et&&(Array.isArray(et)?Array.prototype.push.apply(Ae.classes,et):Ae.classes.push(et)),Ge.hooks.run("wrap",Ae);var Le="";for(var Ke in Ae.attributes)Le+=" "+Ke+'="'+(Ae.attributes[Ke]||"").replace(/"/g,"&quot;")+'"';return"<"+Ae.tag+' class="'+Ae.classes.join(" ")+'"'+Le+">"+Ae.content+"</"+Ae.tag+">"},!Pt.document)return Pt.addEventListener&&(Ge.disableWorkerMessageHandler||Pt.addEventListener("message",function(ae){var re=JSON.parse(ae.data),be=re.language,Ae=re.immediateClose;Pt.postMessage(Ge.highlight(re.code,Ge.languages[be],be)),Ae&&Pt.close()},!1)),Ge;var ii=Ge.util.currentScript();function Ye(){Ge.manual||Ge.highlightAll()}if(ii&&(Ge.filename=ii.src,ii.hasAttribute("data-manual")&&(Ge.manual=!0)),!Ge.manual){var Gn=document.readyState;"loading"===Gn||"interactive"===Gn&&ii&&ii.defer?document.addEventListener("DOMContentLoaded",Ye):window.requestAnimationFrame?window.requestAnimationFrame(Ye):window.setTimeout(Ye,16)}return Ge}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});Mn.exports&&(Mn.exports=Fe),"undefined"!=typeof global&&(global.Prism=Fe),Fe.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Fe.languages.markup.tag.inside["attr-value"].inside.entity=Fe.languages.markup.entity,Fe.languages.markup.doctype.inside["internal-subset"].inside=Fe.languages.markup,Fe.hooks.add("wrap",function(Pt){"entity"===Pt.type&&(Pt.attributes.title=Pt.content.replace(/&amp;/,"&"))}),Object.defineProperty(Fe.languages.markup.tag,"addInlined",{value:function(bn,pn){var In={};In["language-"+pn]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Fe.languages[pn]},In.cdata=/^<!\[CDATA\[|\]\]>$/i;var Ge={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:In}};Ge["language-"+pn]={pattern:/[\s\S]+/,inside:Fe.languages[pn]};var Pn={};Pn[bn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return bn}),"i"),lookbehind:!0,greedy:!0,inside:Ge},Fe.languages.insertBefore("markup","cdata",Pn)}}),Object.defineProperty(Fe.languages.markup.tag,"addAttribute",{value:function(Pt,bn){Fe.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Pt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[bn,"language-"+bn],inside:Fe.languages[bn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Fe.languages.html=Fe.languages.markup,Fe.languages.mathml=Fe.languages.markup,Fe.languages.svg=Fe.languages.markup,Fe.languages.xml=Fe.languages.extend("markup",{}),Fe.languages.ssml=Fe.languages.xml,Fe.languages.atom=Fe.languages.xml,Fe.languages.rss=Fe.languages.xml,function(Pt){var bn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Pt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+bn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+bn.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+bn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:bn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Pt.languages.css.atrule.inside.rest=Pt.languages.css;var pn=Pt.languages.markup;pn&&(pn.tag.addInlined("style","css"),pn.tag.addAttribute("style","css"))}(Fe),Fe.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Fe.languages.javascript=Fe.languages.extend("clike",{"class-name":[Fe.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Fe.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Fe.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Fe.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Fe.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Fe.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Fe.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Fe.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Fe.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Fe.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Fe.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Fe.languages.markup&&(Fe.languages.markup.tag.addInlined("script","javascript"),Fe.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Fe.languages.js=Fe.languages.javascript,function(){if(void 0!==Fe&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var In={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},Ge="data-src-status",Pn="loading",bs="pre[data-src]:not(["+Ge+'="loaded"]):not(['+Ge+'="'+Pn+'"])';Fe.hooks.add("before-highlightall",function(ii){ii.selector+=", "+bs}),Fe.hooks.add("before-sanity-check",function(ii){var Ye=ii.element;if(Ye.matches(bs)){ii.code="",Ye.setAttribute(Ge,Pn);var Gn=Ye.appendChild(document.createElement("CODE"));Gn.textContent="Loading\u2026";var ae=Ye.getAttribute("data-src"),re=ii.language;if("none"===re){var be=(/\.(\w+)$/.exec(ae)||[,"none"])[1];re=In[be]||be}Fe.util.setLanguage(Gn,re),Fe.util.setLanguage(Ye,re);var Me=Fe.plugins.autoloader;Me&&Me.loadLanguages(re),function(ii,Ye,Gn){var ae=new XMLHttpRequest;ae.open("GET",ii,!0),ae.onreadystatechange=function(){4==ae.readyState&&(ae.status<400&&ae.responseText?Ye(ae.responseText):Gn(ae.status>=400?function(ii,Ye){return"\u2716 Error "+ii+" while fetching file: "+Ye}(ae.status,ae.statusText):"\u2716 Error: File does not exist or is empty"))},ae.send(null)}(ae,function(Ae){Ye.setAttribute(Ge,"loaded");var et=function(ii){var Ye=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(ii||"");if(Ye){var Gn=Number(Ye[1]),re=Ye[3];return Ye[2]?re?[Gn,Number(re)]:[Gn,void 0]:[Gn,Gn]}}(Ye.getAttribute("data-range"));if(et){var Le=Ae.split(/\r\n?|\n/g),Ke=et[0],Cn=null==et[1]?Le.length:et[1];Ke<0&&(Ke+=Le.length),Ke=Math.max(0,Math.min(Ke-1,Le.length)),Cn<0&&(Cn+=Le.length),Cn=Math.max(0,Math.min(Cn,Le.length)),Ae=Le.slice(Ke,Cn).join("\n"),Ye.hasAttribute("data-start")||Ye.setAttribute("data-start",String(Ke+1))}Gn.textContent=Ae,Fe.highlightElement(Gn)},function(Ae){Ye.setAttribute(Ge,"failed"),Gn.textContent=Ae})}}),Fe.plugins.fileHighlight={highlight:function(Ye){for(var re,Gn=(Ye||document).querySelectorAll(bs),ae=0;re=Gn[ae++];)Fe.highlightElement(re)}};var Zs=!1;Fe.fileHighlight=function(){Zs||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),Zs=!0),Fe.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}},Mn=>{Mn(Mn.s=564)}]);